import{_ as l,c as a,b as e,o as n}from"./app-CGsmk9tJ.js";const o={};function p(t,s){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="元数据模板" tabindex="-1"><a class="header-anchor" href="#元数据模板"><span>元数据模板</span></a></h1><p>IoTDB 支持元数据模板功能，实现同类型不同实体的物理量元数据共享，减少元数据内存占用，同时简化同类型实体的管理。</p><p>注：以下语句中的 <code>schema</code> 关键字可以省略。</p><h2 id="创建元数据模板" tabindex="-1"><a class="header-anchor" href="#创建元数据模板"><span>创建元数据模板</span></a></h2><p>创建元数据模板的 SQL 语法如下：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#C678DD;"> SCHEMA</span><span style="color:#61AFEF;"> TEMPLATE</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#ABB2BF;">templateName</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> ALIGNED? </span><span style="color:#98C379;">&#39;(&#39;</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#ABB2BF;">measurementId</span><span style="color:#56B6C2;">&gt;</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#ABB2BF;">attributeClauses</span><span style="color:#56B6C2;">&gt;</span><span style="color:#E06C75;"> [&#39;,&#39; &lt;measurementId&gt; &lt;attributeClauses&gt;]</span><span style="color:#ABB2BF;">+ </span><span style="color:#98C379;">&#39;)&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>示例1：</strong> 创建包含两个非对齐序列的元数据模板</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">create</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span><span style="color:#ABB2BF;"> (temperature </span><span style="color:#98C379;">FLOAT</span><span style="color:#98C379;"> encoding=RLE,</span><span style="color:#98C379;"> status</span><span style="color:#98C379;"> BOOLEAN</span><span style="color:#98C379;"> encoding=PLAIN</span><span style="color:#98C379;"> compression=SNAPPY</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>示例2：</strong> 创建包含一组对齐序列的元数据模板</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">create</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t2</span><span style="color:#98C379;"> aligned</span><span style="color:#ABB2BF;"> (lat </span><span style="color:#98C379;">FLOAT</span><span style="color:#98C379;"> encoding=Gorilla,</span><span style="color:#98C379;"> lon</span><span style="color:#98C379;"> FLOAT</span><span style="color:#98C379;"> encoding=Gorilla</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>其中，物理量 <code>lat</code> 和 <code>lon</code> 是对齐的。</p><h2 id="挂载元数据模板" tabindex="-1"><a class="header-anchor" href="#挂载元数据模板"><span>挂载元数据模板</span></a></h2><p>元数据模板在创建后，需执行挂载操作，方可用于相应路径下的序列创建与数据写入。</p><p><strong>挂载模板前，需确保存相关储组已经创建。</strong></p><p><strong>推荐将模板挂载在 database 节点上，不建议将模板挂载到 database 上层的节点上。</strong></p><p>挂载元数据模板的 SQL 语句如下所示：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">set</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span><span style="color:#98C379;"> to</span><span style="color:#98C379;"> root.sg1.d1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="激活元数据模板" tabindex="-1"><a class="header-anchor" href="#激活元数据模板"><span>激活元数据模板</span></a></h2><p>挂载好元数据模板后，且系统开启自动注册序列功能的情况下，即可直接进行数据的写入。例如 database 为 root.sg1，模板 t1 被挂载到了节点 root.sg1.d1，那么可直接向时间序列（如 root.sg1.d1.temperature 和 root.sg1.d1.status）写入时间序列数据，该时间序列已可被当作正常创建的序列使用。</p><p><strong>注意</strong>：在插入数据之前或系统未开启自动注册序列功能，模板定义的时间序列不会被创建。可以使用如下SQL语句在插入数据前创建时间序列即激活模板：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">create</span><span style="color:#98C379;"> timeseries</span><span style="color:#98C379;"> of</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> on</span><span style="color:#98C379;"> root.sg1.d1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>示例：</strong> 执行以下语句</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">set</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span><span style="color:#98C379;"> to</span><span style="color:#98C379;"> root.sg1.d1</span></span>
<span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">set</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t2</span><span style="color:#98C379;"> to</span><span style="color:#98C379;"> root.sg1.d2</span></span>
<span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">create</span><span style="color:#98C379;"> timeseries</span><span style="color:#98C379;"> of</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> on</span><span style="color:#98C379;"> root.sg1.d1</span></span>
<span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">create</span><span style="color:#98C379;"> timeseries</span><span style="color:#98C379;"> of</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> on</span><span style="color:#98C379;"> root.sg1.d2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看此时的时间序列：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">show timeseries </span><span style="color:#D19A66;">root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg1</span><span style="color:#ABB2BF;">.**</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">+-----------------------+-----+-------------+--------+--------+-----------+----+----------+--------+-------------------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|             </span><span style="color:#61AFEF;">timeseries</span><span style="color:#ABB2BF;">|</span><span style="color:#56B6C2;">alias</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">database</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">dataType</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">encoding</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">compression</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">tags</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">attributes</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">deadband</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">deadband</span><span style="color:#98C379;"> parameters</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-----------------------+-----+-------------+--------+--------+-----------+----+----------+--------+-------------------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">root.sg1.d1.temperature</span><span style="color:#ABB2BF;">| </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">root.sg1</span><span style="color:#ABB2BF;">|   </span><span style="color:#61AFEF;">FLOAT</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">RLE</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">SNAPPY</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|      </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|    </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|               </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">root.sg1.d1.status</span><span style="color:#ABB2BF;">| </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">root.sg1</span><span style="color:#ABB2BF;">| </span><span style="color:#61AFEF;">BOOLEAN</span><span style="color:#ABB2BF;">|   </span><span style="color:#61AFEF;">PLAIN</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">SNAPPY</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|      </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|    </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|               </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|        </span><span style="color:#61AFEF;">root.sg1.d2.lon</span><span style="color:#ABB2BF;">| </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">root.sg1</span><span style="color:#ABB2BF;">|   </span><span style="color:#61AFEF;">FLOAT</span><span style="color:#ABB2BF;">| </span><span style="color:#61AFEF;">GORILLA</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">SNAPPY</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|      </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|    </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|               </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|        </span><span style="color:#61AFEF;">root.sg1.d2.lat</span><span style="color:#ABB2BF;">| </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">root.sg1</span><span style="color:#ABB2BF;">|   </span><span style="color:#61AFEF;">FLOAT</span><span style="color:#ABB2BF;">| </span><span style="color:#61AFEF;">GORILLA</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">SNAPPY</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|      </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|    </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|               </span><span style="color:#61AFEF;">null</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-----------------------+-----+-------------+--------+--------+-----------+----+----------+--------+-------------------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看此时的设备：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">show devices </span><span style="color:#D19A66;">root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg1</span><span style="color:#ABB2BF;">.**</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">+---------------+---------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|        </span><span style="color:#61AFEF;">devices</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">isAligned</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+---------------+---------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|    </span><span style="color:#61AFEF;">root.sg1.d1</span><span style="color:#ABB2BF;">|    </span><span style="color:#56B6C2;">false</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|    </span><span style="color:#61AFEF;">root.sg1.d2</span><span style="color:#ABB2BF;">|     </span><span style="color:#56B6C2;">true</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+---------------+---------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查看元数据模板" tabindex="-1"><a class="header-anchor" href="#查看元数据模板"><span>查看元数据模板</span></a></h2><ul><li>查看所有元数据模板</li></ul><p>SQL 语句如下所示：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">show</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> templates</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>执行结果如下：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">+-------------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">template</span><span style="color:#98C379;"> name</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-------------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|           </span><span style="color:#61AFEF;">t2</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|           </span><span style="color:#61AFEF;">t1</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-------------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>查看某个元数据模板下的物理量</li></ul><p>SQL 语句如下所示：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">show</span><span style="color:#98C379;"> nodes</span><span style="color:#98C379;"> in</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>执行结果如下：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">+-----------+--------+--------+-----------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">child</span><span style="color:#98C379;"> nodes</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">dataType</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">encoding</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">compression</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-----------+--------+--------+-----------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">temperature</span><span style="color:#ABB2BF;">|   </span><span style="color:#61AFEF;">FLOAT</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">RLE</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">SNAPPY</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">status</span><span style="color:#ABB2BF;">| </span><span style="color:#61AFEF;">BOOLEAN</span><span style="color:#ABB2BF;">|   </span><span style="color:#61AFEF;">PLAIN</span><span style="color:#ABB2BF;">|     </span><span style="color:#61AFEF;">SNAPPY</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-----------+--------+--------+-----------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>查看挂载了某个元数据模板的路径</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">show</span><span style="color:#98C379;"> paths</span><span style="color:#98C379;"> set</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>执行结果如下：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">+-----------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">child</span><span style="color:#98C379;"> paths</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-----------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">root.sg1.d1</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-----------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>查看使用了某个元数据模板的路径（即模板在该路径上已激活，序列已创建）</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">show</span><span style="color:#98C379;"> paths</span><span style="color:#98C379;"> using</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>执行结果如下：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">+-----------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">child</span><span style="color:#98C379;"> paths</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-----------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">root.sg1.d1</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#61AFEF;">+-----------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="解除元数据模板" tabindex="-1"><a class="header-anchor" href="#解除元数据模板"><span>解除元数据模板</span></a></h2><p>若需删除模板表示的某一组时间序列，可采用解除模板操作，SQL语句如下所示：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">delete</span><span style="color:#98C379;"> timeseries</span><span style="color:#98C379;"> of</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span><span style="color:#98C379;"> from</span><span style="color:#98C379;"> root.sg1.d1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">deactivate</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span><span style="color:#98C379;"> from</span><span style="color:#98C379;"> root.sg1.d1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>解除操作支持批量处理，SQL语句如下所示：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">delete</span><span style="color:#98C379;"> timeseries</span><span style="color:#98C379;"> of</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span><span style="color:#98C379;"> from</span><span style="color:#98C379;"> root.sg1.</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">,</span><span style="color:#98C379;"> root.sg2.</span><span style="color:#E5C07B;">*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">deactivate</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span><span style="color:#98C379;"> from</span><span style="color:#98C379;"> root.sg1.</span><span style="color:#E5C07B;">*</span><span style="color:#98C379;">,</span><span style="color:#98C379;"> root.sg2.</span><span style="color:#E5C07B;">*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>若解除命令不指定模板名称，则会将给定路径涉及的所有模板使用情况均解除。</p><h2 id="卸载元数据模板" tabindex="-1"><a class="header-anchor" href="#卸载元数据模板"><span>卸载元数据模板</span></a></h2><p>卸载元数据模板的 SQL 语句如下所示：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">unset</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span><span style="color:#98C379;"> from</span><span style="color:#98C379;"> root.sg1.d1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>注意</strong>：不支持卸载仍处于激活状态的模板，需保证执行卸载操作前解除对该模板的所有使用，即删除所有该模板表示的序列。</p><h2 id="删除元数据模板" tabindex="-1"><a class="header-anchor" href="#删除元数据模板"><span>删除元数据模板</span></a></h2><p>删除元数据模板的 SQL 语句如下所示：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">IoTDB</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#98C379;">drop</span><span style="color:#98C379;"> schema</span><span style="color:#98C379;"> template</span><span style="color:#98C379;"> t1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>注意</strong>：不支持删除已经挂载的模板，需在删除操作前保证该模板卸载成功。</p>`,66)]))}const c=l(o,[["render",p],["__file","Template.html.vue"]]),i=JSON.parse('{"path":"/zh/UserGuide/V1.0.x/Operate-Metadata/Template.html","title":"元数据模板","lang":"zh-CN","frontmatter":{"description":"元数据模板 IoTDB 支持元数据模板功能，实现同类型不同实体的物理量元数据共享，减少元数据内存占用，同时简化同类型实体的管理。 注：以下语句中的 schema 关键字可以省略。 创建元数据模板 创建元数据模板的 SQL 语法如下： 示例1： 创建包含两个非对齐序列的元数据模板 示例2： 创建包含一组对齐序列的元数据模板 其中，物理量 lat 和 lo...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://iotdb.apache.org/UserGuide/V1.0.x/Operate-Metadata/Template.html"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/zh/UserGuide/V1.0.x/Operate-Metadata/Template.html"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"元数据模板"}],["meta",{"property":"og:description","content":"元数据模板 IoTDB 支持元数据模板功能，实现同类型不同实体的物理量元数据共享，减少元数据内存占用，同时简化同类型实体的管理。 注：以下语句中的 schema 关键字可以省略。 创建元数据模板 创建元数据模板的 SQL 语法如下： 示例1： 创建包含两个非对齐序列的元数据模板 示例2： 创建包含一组对齐序列的元数据模板 其中，物理量 lat 和 lo..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-07-10T03:11:17.000Z"}],["meta",{"property":"article:modified_time","content":"2023-07-10T03:11:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"元数据模板\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-07-10T03:11:17.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"创建元数据模板","slug":"创建元数据模板","link":"#创建元数据模板","children":[]},{"level":2,"title":"挂载元数据模板","slug":"挂载元数据模板","link":"#挂载元数据模板","children":[]},{"level":2,"title":"激活元数据模板","slug":"激活元数据模板","link":"#激活元数据模板","children":[]},{"level":2,"title":"查看元数据模板","slug":"查看元数据模板","link":"#查看元数据模板","children":[]},{"level":2,"title":"解除元数据模板","slug":"解除元数据模板","link":"#解除元数据模板","children":[]},{"level":2,"title":"卸载元数据模板","slug":"卸载元数据模板","link":"#卸载元数据模板","children":[]},{"level":2,"title":"删除元数据模板","slug":"删除元数据模板","link":"#删除元数据模板","children":[]}],"git":{"createdTime":1688958677000,"updatedTime":1688958677000,"contributors":[{"name":"CritasWang","username":"CritasWang","email":"critas@outlook.com","commits":1,"url":"https://github.com/CritasWang"}]},"readingTime":{"minutes":3.79,"words":1138},"filePathRelative":"zh/UserGuide/V1.0.x/Operate-Metadata/Template.md","localizedDate":"2023年7月10日","autoDesc":true}');export{c as comp,i as data};
