import{_ as i,c as o,d as s,e as n,a,w as t,b as l,r as p,o as c}from"./app-Bf-_YEQp.js";const r={},u=l(`<h1 id="overview" tabindex="-1"><a class="header-anchor" href="#overview"><span>Overview</span></a></h1><h2 id="syntax-definition" tabindex="-1"><a class="header-anchor" href="#syntax-definition"><span>Syntax Definition</span></a></h2><p>In IoTDB, <code>SELECT</code> statement is used to retrieve data from one or more selected time series. Here is the syntax definition of <code>SELECT</code> statement:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">SELECT</span> <span class="token punctuation">[</span><span class="token keyword">LAST</span><span class="token punctuation">]</span> selectExpr <span class="token punctuation">[</span><span class="token punctuation">,</span> selectExpr<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token keyword">INTO</span> intoItem <span class="token punctuation">[</span><span class="token punctuation">,</span> intoItem<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">FROM</span> prefixPath <span class="token punctuation">[</span><span class="token punctuation">,</span> prefixPath<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token keyword">WHERE</span> whereCondition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span> {</span>
<span class="line">        <span class="token punctuation">(</span><span class="token punctuation">[</span>startTime<span class="token punctuation">,</span> endTime<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">interval</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> slidingStep<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">|</span></span>
<span class="line">        <span class="token keyword">LEVEL</span> <span class="token operator">=</span> levelNum <span class="token punctuation">[</span><span class="token punctuation">,</span> levelNum<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">|</span></span>
<span class="line">        TAGS<span class="token punctuation">(</span>tagKey <span class="token punctuation">[</span><span class="token punctuation">,</span> tagKey<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span></span>
<span class="line">        VARIATION<span class="token punctuation">(</span>expression<span class="token punctuation">[</span><span class="token punctuation">,</span>delta<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span>ignoreNull<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">/</span><span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">|</span></span>
<span class="line">        SERIES<span class="token punctuation">(</span>expression<span class="token punctuation">,</span><span class="token punctuation">[</span>keep<span class="token operator">&gt;</span><span class="token operator">/</span><span class="token operator">&gt;=</span><span class="token operator">/</span><span class="token operator">=</span><span class="token operator">/</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&lt;=</span><span class="token punctuation">]</span>threshold<span class="token punctuation">[</span><span class="token punctuation">,</span>ignoreNull<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">/</span><span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">|</span></span>
<span class="line">        <span class="token keyword">SESSION</span><span class="token punctuation">(</span>timeInterval<span class="token punctuation">)</span></span>
<span class="line">    }<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token keyword">HAVING</span> havingCondition<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sortKey {<span class="token keyword">ASC</span> <span class="token operator">|</span> <span class="token keyword">DESC</span>}<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span>FILL <span class="token punctuation">(</span>{PREVIOUS <span class="token operator">|</span> LINEAR <span class="token operator">|</span> constant}<span class="token punctuation">)</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span>SLIMIT seriesLimit<span class="token punctuation">]</span> <span class="token punctuation">[</span>SOFFSET seriesOffset<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token keyword">LIMIT</span> rowLimit<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">OFFSET</span> rowOffset<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span>ALIGN <span class="token keyword">BY</span> {<span class="token keyword">TIME</span> <span class="token operator">|</span> DEVICE}<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="syntax-description" tabindex="-1"><a class="header-anchor" href="#syntax-description"><span>Syntax Description</span></a></h2><h3 id="select-clause" tabindex="-1"><a class="header-anchor" href="#select-clause"><span><code>SELECT</code> clause</span></a></h3>`,6),d=s("li",null,[n("The "),s("code",null,"SELECT"),n(" clause specifies the output of the query, consisting of several "),s("code",null,"selectExpr"),n(".")],-1),m=s("li",null,[n("Each "),s("code",null,"selectExpr"),n(" defines one or more columns in the query result, which is an expression consisting of time series path suffixes, constants, functions, and operators.")],-1),k=s("li",null,[n("Supports using "),s("code",null,"AS"),n(" to specify aliases for columns in the query result set.")],-1),h=s("code",null,"LAST",-1),v=s("code",null,"SELECT",-1),g=s("h3",{id:"into-clause",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#into-clause"},[s("span",null,[s("code",null,"INTO"),n(" clause")])])],-1),f=s("li",null,[s("code",null,"SELECT INTO"),n(" is used to write query results into a series of specified time series. The "),s("code",null,"INTO"),n(" clause specifies the target time series to which query results are written.")],-1),b=l('<h3 id="from-clause" tabindex="-1"><a class="header-anchor" href="#from-clause"><span><code>FROM</code> clause</span></a></h3><ul><li>The <code>FROM</code> clause contains the path prefix of one or more time series to be queried, and wildcards are supported.</li><li>When executing a query, the path prefix in the <code>FROM</code> clause and the suffix in the <code>SELECT</code> clause will be concatenated to obtain a complete query target time series.</li></ul><h3 id="where-clause" tabindex="-1"><a class="header-anchor" href="#where-clause"><span><code>WHERE</code> clause</span></a></h3>',3),y=l("<li>The <code>WHERE</code> clause specifies the filtering conditions for data rows, consisting of a <code>whereCondition</code>.</li><li><code>whereCondition</code> is a logical expression that evaluates to true for each row to be selected. If there is no <code>WHERE</code> clause, all rows will be selected.</li><li>In <code>whereCondition</code>, any IOTDB-supported functions and operators can be used except aggregate functions.</li>",3),T=s("h3",{id:"group-by-clause",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#group-by-clause"},[s("span",null,[s("code",null,"GROUP BY"),n(" clause")])])],-1),w=l("<li>The <code>GROUP BY</code> clause specifies how the time series are aggregated by segment or group.</li><li>Segmented aggregation refers to segmenting data in the row direction according to the time dimension, aiming at the time relationship between different data points in the same time series, and obtaining an aggregated value for each segment. Currently only <strong>segmentation by time interval</strong>、<strong>group by variation</strong>、<strong>group by series</strong> and <strong>group by session</strong> is supported, and more segmentation methods will be supported in the future.</li><li>Group aggregation refers to grouping the potential business attributes of time series for different time series. Each group contains several time series, and each group gets an aggregated value. Support <strong>group by path level</strong> and <strong>group by tag</strong> two grouping methods.</li><li>Segment aggregation and group aggregation can be mixed.</li>",4),x=s("h3",{id:"having-clause",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#having-clause"},[s("span",null,[s("code",null,"HAVING"),n(" clause")])])],-1),S=l("<li>The <code>HAVING</code> clause specifies the filter conditions for the aggregation results, consisting of a <code>havingCondition</code>.</li><li><code>havingCondition</code> is a logical expression that evaluates to true for the aggregation results to be selected. If there is no <code>HAVING</code> clause, all aggregated results will be selected.</li><li><code>HAVING</code> is to be used with aggregate functions and the <code>GROUP BY</code> clause.</li>",3),I=s("h3",{id:"order-by-clause",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#order-by-clause"},[s("span",null,[s("code",null,"ORDER BY"),n(" clause")])])],-1),q=s("li",null,[n("The "),s("code",null,"ORDER BY"),n(" clause is used to specify how the result set is sorted.")],-1),E=s("li",null,[n("In ALIGN BY TIME mode: By default, they are sorted in ascending order of timestamp size, and "),s("code",null,"ORDER BY TIME DESC"),n(" can be used to specify that the result set is sorted in descending order of timestamp.")],-1),_=s("li",null,[n("In ALIGN BY DEVICE mode: arrange according to the device first, and sort each device in ascending order according to the timestamp. The ordering and priority can be adjusted by "),s("code",null,"ORDER BY"),n(" clause.")],-1),L=s("h3",{id:"fill-clause",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#fill-clause"},[s("span",null,[s("code",null,"FILL"),n(" clause")])])],-1),D=s("li",null,[n("The "),s("code",null,"FILL"),n(" clause is used to specify the filling mode in the case of missing data, allowing users to fill in empty values ​​for the result set of any query according to a specific method.")],-1),O=s("h3",{id:"slimit-and-soffset-clauses",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#slimit-and-soffset-clauses"},[s("span",null,[s("code",null,"SLIMIT"),n(" and "),s("code",null,"SOFFSET"),n(" clauses")])])],-1),A=s("li",null,[s("code",null,"SLIMIT"),n(" specifies the number of columns of the query result, and "),s("code",null,"SOFFSET"),n(" specifies the starting column position of the query result display. "),s("code",null,"SLIMIT"),n(" and "),s("code",null,"SOFFSET"),n(" are only used to control value columns and have no effect on time and device columns.")],-1),C=s("h3",{id:"limit-and-offset-clauses",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#limit-and-offset-clauses"},[s("span",null,[s("code",null,"LIMIT"),n(" and "),s("code",null,"OFFSET"),n(" clauses")])])],-1),B=s("li",null,[s("code",null,"LIMIT"),n(" specifies the number of rows of the query result, and "),s("code",null,"OFFSET"),n(" specifies the starting row position of the query result display.")],-1),Q=s("h3",{id:"align-by-clause",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#align-by-clause"},[s("span",null,[s("code",null,"ALIGN BY"),n(" clause")])])],-1),F=s("li",null,[n("The query result set is "),s("strong",null,"ALIGN BY TIME"),n(" by default, including a time column and several value columns, and the timestamps of each column of data in each row are the same.")],-1),G=s("li",null,[n("It also supports "),s("strong",null,"ALIGN BY DEVICE"),n(". The query result set contains a time column, a device column, and several value columns.")],-1),R=l(`<h2 id="basic-examples" tabindex="-1"><a class="header-anchor" href="#basic-examples"><span>Basic Examples</span></a></h2><h3 id="select-a-column-of-data-based-on-a-time-interval" tabindex="-1"><a class="header-anchor" href="#select-a-column-of-data-based-on-a-time-interval"><span>Select a Column of Data Based on a Time Interval</span></a></h3><p>The SQL statement is:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">select</span> temperature <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T00:<span class="token number">08</span>:<span class="token number">00.000</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>which means:</p><p>The selected device is ln group wf01 plant wt01 device; the selected timeseries is the temperature sensor (temperature). The SQL statement requires that all temperature sensor values before the time point of &quot;2017-11-01T00:08:00.000&quot; be selected.</p><p>The execution result of this SQL statement is as follows:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">+-----------------------------+-----------------------------+</span>
<span class="line">|                         Time|root.ln.wf01.wt01.temperature|</span>
<span class="line">+-----------------------------+-----------------------------+</span>
<span class="line">|2017-11-01T00:00:00.000+08:00|                        25.96|</span>
<span class="line">|2017-11-01T00:01:00.000+08:00|                        24.36|</span>
<span class="line">|2017-11-01T00:02:00.000+08:00|                        20.09|</span>
<span class="line">|2017-11-01T00:03:00.000+08:00|                        20.18|</span>
<span class="line">|2017-11-01T00:04:00.000+08:00|                        21.13|</span>
<span class="line">|2017-11-01T00:05:00.000+08:00|                        22.72|</span>
<span class="line">|2017-11-01T00:06:00.000+08:00|                        20.71|</span>
<span class="line">|2017-11-01T00:07:00.000+08:00|                        21.45|</span>
<span class="line">+-----------------------------+-----------------------------+</span>
<span class="line">Total line number = 8</span>
<span class="line">It costs 0.026s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="select-multiple-columns-of-data-based-on-a-time-interval" tabindex="-1"><a class="header-anchor" href="#select-multiple-columns-of-data-based-on-a-time-interval"><span>Select Multiple Columns of Data Based on a Time Interval</span></a></h3><p>The SQL statement is:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">select</span> <span class="token keyword">status</span><span class="token punctuation">,</span> temperature <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&gt;</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T00:<span class="token number">05</span>:<span class="token number">00.000</span> <span class="token operator">and</span> <span class="token keyword">time</span> <span class="token operator">&lt;</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T00:<span class="token number">12</span>:<span class="token number">00.000</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>which means:</p><p>The selected device is ln group wf01 plant wt01 device; the selected timeseries is &quot;status&quot; and &quot;temperature&quot;. The SQL statement requires that the status and temperature sensor values between the time point of &quot;2017-11-01T00:05:00.000&quot; and &quot;2017-11-01T00:12:00.000&quot; be selected.</p><p>The execution result of this SQL statement is as follows:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">+-----------------------------+------------------------+-----------------------------+</span>
<span class="line">|                         Time|root.ln.wf01.wt01.status|root.ln.wf01.wt01.temperature|</span>
<span class="line">+-----------------------------+------------------------+-----------------------------+</span>
<span class="line">|2017-11-01T00:06:00.000+08:00|                   false|                        20.71|</span>
<span class="line">|2017-11-01T00:07:00.000+08:00|                   false|                        21.45|</span>
<span class="line">|2017-11-01T00:08:00.000+08:00|                   false|                        22.58|</span>
<span class="line">|2017-11-01T00:09:00.000+08:00|                   false|                        20.98|</span>
<span class="line">|2017-11-01T00:10:00.000+08:00|                    true|                        25.52|</span>
<span class="line">|2017-11-01T00:11:00.000+08:00|                   false|                        22.91|</span>
<span class="line">+-----------------------------+------------------------+-----------------------------+</span>
<span class="line">Total line number = 6</span>
<span class="line">It costs 0.018s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="select-multiple-columns-of-data-for-the-same-device-according-to-multiple-time-intervals" tabindex="-1"><a class="header-anchor" href="#select-multiple-columns-of-data-for-the-same-device-according-to-multiple-time-intervals"><span>Select Multiple Columns of Data for the Same Device According to Multiple Time Intervals</span></a></h3><p>IoTDB supports specifying multiple time interval conditions in a query. Users can combine time interval conditions at will according to their needs. For example, the SQL statement is:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">select</span> <span class="token keyword">status</span><span class="token punctuation">,</span>temperature <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01 <span class="token keyword">where</span> <span class="token punctuation">(</span><span class="token keyword">time</span> <span class="token operator">&gt;</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T00:<span class="token number">05</span>:<span class="token number">00.000</span> <span class="token operator">and</span> <span class="token keyword">time</span> <span class="token operator">&lt;</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T00:<span class="token number">12</span>:<span class="token number">00.000</span><span class="token punctuation">)</span> <span class="token operator">or</span> <span class="token punctuation">(</span><span class="token keyword">time</span> <span class="token operator">&gt;=</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T16:<span class="token number">35</span>:<span class="token number">00.000</span> <span class="token operator">and</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T16:<span class="token number">37</span>:<span class="token number">00.000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>which means:</p><p>The selected device is ln group wf01 plant wt01 device; the selected timeseries is &quot;status&quot; and &quot;temperature&quot;; the statement specifies two different time intervals, namely &quot;2017-11-01T00:05:00.000 to 2017-11-01T00:12:00.000&quot; and &quot;2017-11-01T16:35:00.000 to 2017-11-01T16:37:00.000&quot;. The SQL statement requires that the values of selected timeseries satisfying any time interval be selected.</p><p>The execution result of this SQL statement is as follows:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">+-----------------------------+------------------------+-----------------------------+</span>
<span class="line">|                         Time|root.ln.wf01.wt01.status|root.ln.wf01.wt01.temperature|</span>
<span class="line">+-----------------------------+------------------------+-----------------------------+</span>
<span class="line">|2017-11-01T00:06:00.000+08:00|                   false|                        20.71|</span>
<span class="line">|2017-11-01T00:07:00.000+08:00|                   false|                        21.45|</span>
<span class="line">|2017-11-01T00:08:00.000+08:00|                   false|                        22.58|</span>
<span class="line">|2017-11-01T00:09:00.000+08:00|                   false|                        20.98|</span>
<span class="line">|2017-11-01T00:10:00.000+08:00|                    true|                        25.52|</span>
<span class="line">|2017-11-01T00:11:00.000+08:00|                   false|                        22.91|</span>
<span class="line">|2017-11-01T16:35:00.000+08:00|                    true|                        23.44|</span>
<span class="line">|2017-11-01T16:36:00.000+08:00|                   false|                        21.98|</span>
<span class="line">|2017-11-01T16:37:00.000+08:00|                   false|                        21.93|</span>
<span class="line">+-----------------------------+------------------------+-----------------------------+</span>
<span class="line">Total line number = 9</span>
<span class="line">It costs 0.018s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="choose-multiple-columns-of-data-for-different-devices-according-to-multiple-time-intervals" tabindex="-1"><a class="header-anchor" href="#choose-multiple-columns-of-data-for-different-devices-according-to-multiple-time-intervals"><span>Choose Multiple Columns of Data for Different Devices According to Multiple Time Intervals</span></a></h3><p>The system supports the selection of data in any column in a query, i.e., the selected columns can come from different devices. For example, the SQL statement is:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">select</span> wf01<span class="token punctuation">.</span>wt01<span class="token punctuation">.</span><span class="token keyword">status</span><span class="token punctuation">,</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span>hardware <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln <span class="token keyword">where</span> <span class="token punctuation">(</span><span class="token keyword">time</span> <span class="token operator">&gt;</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T00:<span class="token number">05</span>:<span class="token number">00.000</span> <span class="token operator">and</span> <span class="token keyword">time</span> <span class="token operator">&lt;</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T00:<span class="token number">12</span>:<span class="token number">00.000</span><span class="token punctuation">)</span> <span class="token operator">or</span> <span class="token punctuation">(</span><span class="token keyword">time</span> <span class="token operator">&gt;=</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T16:<span class="token number">35</span>:<span class="token number">00.000</span> <span class="token operator">and</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T16:<span class="token number">37</span>:<span class="token number">00.000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>which means:</p><p>The selected timeseries are &quot;the power supply status of ln group wf01 plant wt01 device&quot; and &quot;the hardware version of ln group wf02 plant wt02 device&quot;; the statement specifies two different time intervals, namely &quot;2017-11-01T00:05:00.000 to 2017-11-01T00:12:00.000&quot; and &quot;2017-11-01T16:35:00.000 to 2017-11-01T16:37:00.000&quot;. The SQL statement requires that the values of selected timeseries satisfying any time interval be selected.</p><p>The execution result of this SQL statement is as follows:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">+-----------------------------+------------------------+--------------------------+</span>
<span class="line">|                         Time|root.ln.wf01.wt01.status|root.ln.wf02.wt02.hardware|</span>
<span class="line">+-----------------------------+------------------------+--------------------------+</span>
<span class="line">|2017-11-01T00:06:00.000+08:00|                   false|                        v1|</span>
<span class="line">|2017-11-01T00:07:00.000+08:00|                   false|                        v1|</span>
<span class="line">|2017-11-01T00:08:00.000+08:00|                   false|                        v1|</span>
<span class="line">|2017-11-01T00:09:00.000+08:00|                   false|                        v1|</span>
<span class="line">|2017-11-01T00:10:00.000+08:00|                    true|                        v2|</span>
<span class="line">|2017-11-01T00:11:00.000+08:00|                   false|                        v1|</span>
<span class="line">|2017-11-01T16:35:00.000+08:00|                    true|                        v2|</span>
<span class="line">|2017-11-01T16:36:00.000+08:00|                   false|                        v1|</span>
<span class="line">|2017-11-01T16:37:00.000+08:00|                   false|                        v1|</span>
<span class="line">+-----------------------------+------------------------+--------------------------+</span>
<span class="line">Total line number = 9</span>
<span class="line">It costs 0.014s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="order-by-time-query" tabindex="-1"><a class="header-anchor" href="#order-by-time-query"><span>Order By Time Query</span></a></h3><p>IoTDB supports the &#39;order by time&#39; statement since 0.11, it&#39;s used to display results in descending order by time.<br> For example, the SQL statement is:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token keyword">time</span> <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The execution result of this SQL statement is as follows:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">+-----------------------------+--------------------------+------------------------+-----------------------------+------------------------+</span>
<span class="line">|                         Time|root.ln.wf02.wt02.hardware|root.ln.wf02.wt02.status|root.ln.wf01.wt01.temperature|root.ln.wf01.wt01.status|</span>
<span class="line">+-----------------------------+--------------------------+------------------------+-----------------------------+------------------------+</span>
<span class="line">|2017-11-07T23:59:00.000+08:00|                        v1|                   false|                        21.07|                   false|</span>
<span class="line">|2017-11-07T23:58:00.000+08:00|                        v1|                   false|                        22.93|                   false|</span>
<span class="line">|2017-11-07T23:57:00.000+08:00|                        v2|                    true|                        24.39|                    true|</span>
<span class="line">|2017-11-07T23:56:00.000+08:00|                        v2|                    true|                        24.44|                    true|</span>
<span class="line">|2017-11-07T23:55:00.000+08:00|                        v2|                    true|                         25.9|                    true|</span>
<span class="line">|2017-11-07T23:54:00.000+08:00|                        v1|                   false|                        22.52|                   false|</span>
<span class="line">|2017-11-07T23:53:00.000+08:00|                        v2|                    true|                        24.58|                    true|</span>
<span class="line">|2017-11-07T23:52:00.000+08:00|                        v1|                   false|                        20.18|                   false|</span>
<span class="line">|2017-11-07T23:51:00.000+08:00|                        v1|                   false|                        22.24|                   false|</span>
<span class="line">|2017-11-07T23:50:00.000+08:00|                        v2|                    true|                         23.7|                    true|</span>
<span class="line">+-----------------------------+--------------------------+------------------------+-----------------------------+------------------------+</span>
<span class="line">Total line number = 10</span>
<span class="line">It costs 0.016s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="execution-interface" tabindex="-1"><a class="header-anchor" href="#execution-interface"><span>Execution Interface</span></a></h2><p>In IoTDB, there are two ways to execute data query:</p><ul><li>Execute queries using IoTDB-SQL.</li><li>Efficient execution interfaces for common queries, including time-series raw data query, last query, and aggregation query.</li></ul><h3 id="execute-queries-using-iotdb-sql" tabindex="-1"><a class="header-anchor" href="#execute-queries-using-iotdb-sql"><span>Execute queries using IoTDB-SQL</span></a></h3><p>Data query statements can be used in SQL command-line terminals, JDBC, JAVA / C++ / Python / Go and other native APIs, and RESTful APIs.</p>`,39),V=l(`<li><p>Execute query statements in native APIs such as JAVA / C++ / Python / Go. For details, please refer to the relevant documentation in the Application Programming Interface chapter. The interface prototype is as follows:</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">SessionDataSet</span> <span class="token function">executeQueryStatement</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li>`,1),N=l(`<h3 id="efficient-execution-interfaces" tabindex="-1"><a class="header-anchor" href="#efficient-execution-interfaces"><span>Efficient execution interfaces</span></a></h3><p>The native APIs provide efficient execution interfaces for commonly used queries, which can save time-consuming operations such as SQL parsing. include:</p><ul><li>Time-series raw data query with time range: <ul><li>The specified query time range is a left-closed right-open interval, including the start time but excluding the end time.</li></ul></li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">SessionDataSet</span> <span class="token function">executeRawDataQuery</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> paths<span class="token punctuation">,</span> <span class="token keyword">long</span> startTime<span class="token punctuation">,</span> <span class="token keyword">long</span> endTime<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Last query: <ul><li>Query the last data, whose timestamp is greater than or equal LastTime.</li></ul></li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">SessionDataSet</span> <span class="token function">executeLastDataQuery</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> paths<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">LastTime</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Aggregation query: <ul><li>Support specified query time range: The specified query time range is a left-closed right-open interval, including the start time but not the end time.</li><li>Support GROUP BY TIME.</li></ul></li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">SessionDataSet</span> <span class="token function">executeAggregationQuery</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> paths<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Aggregation</span><span class="token punctuation">&gt;</span></span> aggregations<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">SessionDataSet</span> <span class="token function">executeAggregationQuery</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> paths<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Aggregation</span><span class="token punctuation">&gt;</span></span> aggregations<span class="token punctuation">,</span> <span class="token keyword">long</span> startTime<span class="token punctuation">,</span> <span class="token keyword">long</span> endTime<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">SessionDataSet</span> <span class="token function">executeAggregationQuery</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> paths<span class="token punctuation">,</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Aggregation</span><span class="token punctuation">&gt;</span></span> aggregations<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">long</span> startTime<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">long</span> endTime<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">long</span> interval<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">SessionDataSet</span> <span class="token function">executeAggregationQuery</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> paths<span class="token punctuation">,</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Aggregation</span><span class="token punctuation">&gt;</span></span> aggregations<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">long</span> startTime<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">long</span> endTime<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">long</span> interval<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">long</span> slidingStep<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8);function M(U,P){const e=p("RouteLink");return c(),o("div",null,[u,s("ul",null,[d,m,k,s("li",null,[n("Use the "),h,n(" keyword in the "),v,n(" clause to specify that the query is the last query. For details and examples, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Last-Query.html"},{default:t(()=>[n("Last Query")]),_:1}),n(".")]),s("li",null,[n("For details and examples, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Select-Expression.html"},{default:t(()=>[n("Select Expression")]),_:1}),n(".")])]),g,s("ul",null,[f,s("li",null,[n("For detailed instructions and examples, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Select-Into.html"},{default:t(()=>[n("SELECT INTO")]),_:1}),n(".")])]),b,s("ul",null,[y,s("li",null,[n("For details and examples, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Where-Condition.html"},{default:t(()=>[n("Where Condition")]),_:1}),n(".")])]),T,s("ul",null,[w,s("li",null,[n("For details and examples, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Group-By.html"},{default:t(()=>[n("Group By Aggregation")]),_:1}),n(".")])]),x,s("ul",null,[S,s("li",null,[n("For details and examples, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Having-Condition.html"},{default:t(()=>[n("Aggregation Result Filtering")]),_:1}),n(".")])]),I,s("ul",null,[q,E,_,s("li",null,[n("For details and examples, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Order-By.html"},{default:t(()=>[n("Order By")]),_:1}),n(".")])]),L,s("ul",null,[D,s("li",null,[n("For details and examples, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Fill.html"},{default:t(()=>[n("Fill Null Value")]),_:1}),n(".")])]),O,s("ul",null,[A,s("li",null,[n("For details and examples of query result pagination, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Pagination.html"},{default:t(()=>[n("Result Set Pagination")]),_:1}),n(".")])]),C,s("ul",null,[B,s("li",null,[n("For details and examples of query result pagination, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Pagination.html"},{default:t(()=>[n("Result Set Pagination")]),_:1}),n(".")])]),Q,s("ul",null,[F,G,s("li",null,[n("For details and examples, see the document "),a(e,{to:"/UserGuide/V1.1.x/Query-Data/Align-By.html"},{default:t(()=>[n("Query Alignment Mode")]),_:1}),n(".")])]),R,s("ul",null,[s("li",null,[s("p",null,[n("Execute the query statement in the SQL command line terminal: start the SQL command line terminal, and directly enter the query statement to execute, see "),a(e,{to:"/UserGuide/V1.1.x/QuickStart/Command-Line-Interface.html"},{default:t(()=>[n("SQL command line terminal")]),_:1}),n(".")])]),s("li",null,[s("p",null,[n("Execute query statements in JDBC, see "),a(e,{to:"/UserGuide/V1.1.x/API/Programming-JDBC.html"},{default:t(()=>[n("JDBC")]),_:1}),n(" for details.")])]),V,s("li",null,[s("p",null,[n("Used in RESTful API, see "),a(e,{to:"/UserGuide/V1.1.x/API/RestServiceV1.html"},{default:t(()=>[n("HTTP API V1")]),_:1}),n(" or "),a(e,{to:"/UserGuide/V1.1.x/API/RestServiceV2.html"},{default:t(()=>[n("HTTP API V2")]),_:1}),n(" for details.")])])]),N])}const Y=i(r,[["render",M],["__file","Overview.html.vue"]]),H=JSON.parse('{"path":"/UserGuide/V1.1.x/Query-Data/Overview.html","title":"Overview","lang":"en-US","frontmatter":{"description":"Overview Syntax Definition In IoTDB, SELECT statement is used to retrieve data from one or more selected time series. Here is the syntax definition of SELECT statement: Syntax D...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://iotdb.apache.org/zh/UserGuide/V1.1.x/Query-Data/Overview.html"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/UserGuide/V1.1.x/Query-Data/Overview.html"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"Overview"}],["meta",{"property":"og:description","content":"Overview Syntax Definition In IoTDB, SELECT statement is used to retrieve data from one or more selected time series. Here is the syntax definition of SELECT statement: Syntax D..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-07-10T03:11:17.000Z"}],["meta",{"property":"article:modified_time","content":"2023-07-10T03:11:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Overview\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-07-10T03:11:17.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Syntax Definition","slug":"syntax-definition","link":"#syntax-definition","children":[]},{"level":2,"title":"Syntax Description","slug":"syntax-description","link":"#syntax-description","children":[{"level":3,"title":"SELECT clause","slug":"select-clause","link":"#select-clause","children":[]},{"level":3,"title":"INTO clause","slug":"into-clause","link":"#into-clause","children":[]},{"level":3,"title":"FROM clause","slug":"from-clause","link":"#from-clause","children":[]},{"level":3,"title":"WHERE clause","slug":"where-clause","link":"#where-clause","children":[]},{"level":3,"title":"GROUP BY clause","slug":"group-by-clause","link":"#group-by-clause","children":[]},{"level":3,"title":"HAVING clause","slug":"having-clause","link":"#having-clause","children":[]},{"level":3,"title":"ORDER BY clause","slug":"order-by-clause","link":"#order-by-clause","children":[]},{"level":3,"title":"FILL clause","slug":"fill-clause","link":"#fill-clause","children":[]},{"level":3,"title":"SLIMIT and SOFFSET clauses","slug":"slimit-and-soffset-clauses","link":"#slimit-and-soffset-clauses","children":[]},{"level":3,"title":"LIMIT and OFFSET clauses","slug":"limit-and-offset-clauses","link":"#limit-and-offset-clauses","children":[]},{"level":3,"title":"ALIGN BY clause","slug":"align-by-clause","link":"#align-by-clause","children":[]}]},{"level":2,"title":"Basic Examples","slug":"basic-examples","link":"#basic-examples","children":[{"level":3,"title":"Select a Column of Data Based on a Time Interval","slug":"select-a-column-of-data-based-on-a-time-interval","link":"#select-a-column-of-data-based-on-a-time-interval","children":[]},{"level":3,"title":"Select Multiple Columns of Data Based on a Time Interval","slug":"select-multiple-columns-of-data-based-on-a-time-interval","link":"#select-multiple-columns-of-data-based-on-a-time-interval","children":[]},{"level":3,"title":"Select Multiple Columns of Data for the Same Device According to Multiple Time Intervals","slug":"select-multiple-columns-of-data-for-the-same-device-according-to-multiple-time-intervals","link":"#select-multiple-columns-of-data-for-the-same-device-according-to-multiple-time-intervals","children":[]},{"level":3,"title":"Choose Multiple Columns of Data for Different Devices According to Multiple Time Intervals","slug":"choose-multiple-columns-of-data-for-different-devices-according-to-multiple-time-intervals","link":"#choose-multiple-columns-of-data-for-different-devices-according-to-multiple-time-intervals","children":[]},{"level":3,"title":"Order By Time Query","slug":"order-by-time-query","link":"#order-by-time-query","children":[]}]},{"level":2,"title":"Execution Interface","slug":"execution-interface","link":"#execution-interface","children":[{"level":3,"title":"Execute queries using IoTDB-SQL","slug":"execute-queries-using-iotdb-sql","link":"#execute-queries-using-iotdb-sql","children":[]},{"level":3,"title":"Efficient execution interfaces","slug":"efficient-execution-interfaces","link":"#efficient-execution-interfaces","children":[]}]}],"git":{"createdTime":1688958677000,"updatedTime":1688958677000,"contributors":[{"name":"CritasWang","email":"critas@outlook.com","commits":1}]},"readingTime":{"minutes":7.75,"words":2325},"filePathRelative":"UserGuide/V1.1.x/Query-Data/Overview.md","localizedDate":"July 10, 2023","autoDesc":true}');export{Y as comp,H as data};
