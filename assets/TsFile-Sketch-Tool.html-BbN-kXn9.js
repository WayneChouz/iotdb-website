import{_ as n,c as a,b as l,o as e}from"./app-14iK3gD2.js";const o={};function p(t,s){return e(),a("div",null,s[0]||(s[0]=[l(`<h1 id="tsfile-sketch-tool" tabindex="-1"><a class="header-anchor" href="#tsfile-sketch-tool"><span>TsFile Sketch Tool</span></a></h1><p>TsFile sketch tool is used to print the content of a TsFile in sketch mode. The location is tools/tsfile/print-tsfile.</p><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage"><span>Usage</span></a></h2><ul><li>For Windows:</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span>.\\print-tsfile-sketch.bat &lt;TsFile path&gt; (&lt;storage path of the output sketch file&gt;)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>For Linux or MacOs:</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span>./print-tsfile-sketch.sh &lt;TsFile path&gt; (&lt;storage path of the output sketch file&gt;)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Note: if the storage path of the output sketch file is not set, the default relative path &quot;TsFile_sketch_view.txt&quot; will be used.</p><h2 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example</span></a></h2><p>Use Windows in this example:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#56B6C2;">.</span><span style="color:#ABB2BF;">\\</span><span style="color:#98C379;">print-tsfile.bat</span><span style="color:#98C379;"> D:</span><span style="color:#56B6C2;">\\g</span><span style="color:#98C379;">ithub</span><span style="color:#56B6C2;">\\m</span><span style="color:#98C379;">aster</span><span style="color:#56B6C2;">\\1</span><span style="color:#98C379;">669359533965-1-0-0.tsfile</span><span style="color:#98C379;"> D:</span><span style="color:#56B6C2;">\\g</span><span style="color:#98C379;">ithub</span><span style="color:#56B6C2;">\\m</span><span style="color:#98C379;">aster</span><span style="color:#56B6C2;">\\s</span><span style="color:#98C379;">ketch.txt</span></span>
<span class="line"><span style="color:#98C379;">\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`</span></span>
<span class="line"><span style="color:#61AFEF;">Starting</span><span style="color:#98C379;"> Printing</span><span style="color:#98C379;"> the</span><span style="color:#98C379;"> TsFile</span><span style="color:#98C379;"> Sketch</span></span>
<span class="line"><span style="color:#98C379;">\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`\`</span></span>
<span class="line"><span style="color:#61AFEF;">TsFile</span><span style="color:#98C379;"> path:D:</span><span style="color:#56B6C2;">\\g</span><span style="color:#98C379;">ithub</span><span style="color:#56B6C2;">\\m</span><span style="color:#98C379;">aster</span><span style="color:#56B6C2;">\\1</span><span style="color:#98C379;">669359533965-1-0-0.tsfile</span></span>
<span class="line"><span style="color:#61AFEF;">Sketch</span><span style="color:#98C379;"> save</span><span style="color:#98C379;"> path:D:</span><span style="color:#56B6C2;">\\g</span><span style="color:#98C379;">ithub</span><span style="color:#56B6C2;">\\m</span><span style="color:#98C379;">aster</span><span style="color:#56B6C2;">\\s</span><span style="color:#98C379;">ketch.txt</span></span>
<span class="line"><span style="color:#61AFEF;">148</span><span style="color:#ABB2BF;">  [main] WARN  o.a.i.t.c.conf.TSFileDescriptor - not found iotdb-common.properties, use the default configs.</span></span>
<span class="line"><span style="color:#61AFEF;">--------------------------------</span><span style="color:#98C379;"> TsFile</span><span style="color:#98C379;"> Sketch</span><span style="color:#D19A66;"> --------------------------------</span></span>
<span class="line"><span style="color:#61AFEF;">file</span><span style="color:#98C379;"> path:</span><span style="color:#98C379;"> D:</span><span style="color:#56B6C2;">\\g</span><span style="color:#98C379;">ithub</span><span style="color:#56B6C2;">\\m</span><span style="color:#98C379;">aster</span><span style="color:#56B6C2;">\\1</span><span style="color:#98C379;">669359533965-1-0-0.tsfile</span></span>
<span class="line"><span style="color:#61AFEF;">file</span><span style="color:#98C379;"> length:</span><span style="color:#D19A66;"> 2974</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">            POSITION</span><span style="color:#ABB2BF;">|   </span><span style="color:#61AFEF;">CONTENT</span></span>
<span class="line"><span style="color:#61AFEF;">            --------</span><span style="color:#D19A66;">    -------</span></span>
<span class="line"><span style="color:#61AFEF;">                   0</span><span style="color:#ABB2BF;">|   [magic head] </span><span style="color:#61AFEF;">TsFile</span></span>
<span class="line"><span style="color:#61AFEF;">                   6</span><span style="color:#ABB2BF;">|   [version number] </span><span style="color:#61AFEF;">3</span></span>
<span class="line"><span style="color:#ABB2BF;">||||||||||||||||||||| [Chunk Group] </span><span style="color:#61AFEF;">of</span><span style="color:#98C379;"> root.sg1.d1,</span><span style="color:#98C379;"> num</span><span style="color:#98C379;"> of</span><span style="color:#98C379;"> Chunks:3</span></span>
<span class="line"><span style="color:#61AFEF;">                   7</span><span style="color:#ABB2BF;">|   [Chunk Group Header]</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [marker] </span><span style="color:#61AFEF;">0</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [deviceID] </span><span style="color:#61AFEF;">root.sg1.d1</span></span>
<span class="line"><span style="color:#61AFEF;">                  20</span><span style="color:#ABB2BF;">|   [Chunk] </span><span style="color:#61AFEF;">of</span><span style="color:#98C379;"> root.sg1.d1.s1,</span><span style="color:#98C379;"> startTime:</span><span style="color:#D19A66;"> 1669359533948</span><span style="color:#98C379;"> endTime:</span><span style="color:#D19A66;"> 1669359534047</span><span style="color:#98C379;"> count:</span><span style="color:#D19A66;"> 100</span><span style="color:#ABB2BF;"> [minValue:-9032452783138882770,maxValue:9117677033041335123,firstValue:7068645577795875906,lastValue:-5833792328174747265,sumValue:5.795959009889246E19]</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [chunk header] </span><span style="color:#E06C75;">marker</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">5,</span><span style="color:#E06C75;"> measurementID</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">s1,</span><span style="color:#E06C75;"> dataSize</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">864,</span><span style="color:#E06C75;"> dataType</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">INT64,</span><span style="color:#E06C75;"> compressionType</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">SNAPPY,</span><span style="color:#E06C75;"> encodingType</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">RLE</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [page]  </span><span style="color:#61AFEF;">UncompressedSize:862,</span><span style="color:#98C379;"> CompressedSize:860</span></span>
<span class="line"><span style="color:#61AFEF;">                 893</span><span style="color:#ABB2BF;">|   [Chunk] </span><span style="color:#61AFEF;">of</span><span style="color:#98C379;"> root.sg1.d1.s2,</span><span style="color:#98C379;"> startTime:</span><span style="color:#D19A66;"> 1669359533948</span><span style="color:#98C379;"> endTime:</span><span style="color:#D19A66;"> 1669359534047</span><span style="color:#98C379;"> count:</span><span style="color:#D19A66;"> 100</span><span style="color:#ABB2BF;"> [minValue:-8806861312244965718,maxValue:9192550740609853234,firstValue:1150295375739457693,lastValue:-2839553973758938646,sumValue:8.2822564314572677E18]</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [chunk header] </span><span style="color:#E06C75;">marker</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">5,</span><span style="color:#E06C75;"> measurementID</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">s2,</span><span style="color:#E06C75;"> dataSize</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">864,</span><span style="color:#E06C75;"> dataType</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">INT64,</span><span style="color:#E06C75;"> compressionType</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">SNAPPY,</span><span style="color:#E06C75;"> encodingType</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">RLE</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [page]  </span><span style="color:#61AFEF;">UncompressedSize:862,</span><span style="color:#98C379;"> CompressedSize:860</span></span>
<span class="line"><span style="color:#61AFEF;">                1766</span><span style="color:#ABB2BF;">|   [Chunk] </span><span style="color:#61AFEF;">of</span><span style="color:#98C379;"> root.sg1.d1.s3,</span><span style="color:#98C379;"> startTime:</span><span style="color:#D19A66;"> 1669359533948</span><span style="color:#98C379;"> endTime:</span><span style="color:#D19A66;"> 1669359534047</span><span style="color:#98C379;"> count:</span><span style="color:#D19A66;"> 100</span><span style="color:#ABB2BF;"> [minValue:-9076669333460323191,maxValue:9175278522960949594,firstValue:2537897870994797700,lastValue:7194625271253769397,sumValue:-2.126008424849926E19]</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [chunk header] </span><span style="color:#E06C75;">marker</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">5,</span><span style="color:#E06C75;"> measurementID</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">s3,</span><span style="color:#E06C75;"> dataSize</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">864,</span><span style="color:#E06C75;"> dataType</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">INT64,</span><span style="color:#E06C75;"> compressionType</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">SNAPPY,</span><span style="color:#E06C75;"> encodingType</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">RLE</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [page]  </span><span style="color:#61AFEF;">UncompressedSize:862,</span><span style="color:#98C379;"> CompressedSize:860</span></span>
<span class="line"><span style="color:#ABB2BF;">||||||||||||||||||||| [Chunk Group] </span><span style="color:#61AFEF;">of</span><span style="color:#98C379;"> root.sg1.d1</span><span style="color:#98C379;"> ends</span></span>
<span class="line"><span style="color:#61AFEF;">                2656</span><span style="color:#ABB2BF;">|   [marker] </span><span style="color:#61AFEF;">2</span></span>
<span class="line"><span style="color:#61AFEF;">                2657</span><span style="color:#ABB2BF;">|   [TimeseriesIndex] </span><span style="color:#61AFEF;">of</span><span style="color:#98C379;"> root.sg1.d1.s1,</span><span style="color:#98C379;"> tsDataType:INT64,</span><span style="color:#98C379;"> startTime:</span><span style="color:#D19A66;"> 1669359533948</span><span style="color:#98C379;"> endTime:</span><span style="color:#D19A66;"> 1669359534047</span><span style="color:#98C379;"> count:</span><span style="color:#D19A66;"> 100</span><span style="color:#ABB2BF;"> [minValue:-9032452783138882770,maxValue:9117677033041335123,firstValue:7068645577795875906,lastValue:-5833792328174747265,sumValue:5.795959009889246E19]</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [ChunkIndex] </span><span style="color:#E06C75;">offset</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">20</span></span>
<span class="line"><span style="color:#61AFEF;">                2728</span><span style="color:#ABB2BF;">|   [TimeseriesIndex] </span><span style="color:#61AFEF;">of</span><span style="color:#98C379;"> root.sg1.d1.s2,</span><span style="color:#98C379;"> tsDataType:INT64,</span><span style="color:#98C379;"> startTime:</span><span style="color:#D19A66;"> 1669359533948</span><span style="color:#98C379;"> endTime:</span><span style="color:#D19A66;"> 1669359534047</span><span style="color:#98C379;"> count:</span><span style="color:#D19A66;"> 100</span><span style="color:#ABB2BF;"> [minValue:-8806861312244965718,maxValue:9192550740609853234,firstValue:1150295375739457693,lastValue:-2839553973758938646,sumValue:8.2822564314572677E18]</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [ChunkIndex] </span><span style="color:#E06C75;">offset</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">893</span></span>
<span class="line"><span style="color:#61AFEF;">                2799</span><span style="color:#ABB2BF;">|   [TimeseriesIndex] </span><span style="color:#61AFEF;">of</span><span style="color:#98C379;"> root.sg1.d1.s3,</span><span style="color:#98C379;"> tsDataType:INT64,</span><span style="color:#98C379;"> startTime:</span><span style="color:#D19A66;"> 1669359533948</span><span style="color:#98C379;"> endTime:</span><span style="color:#D19A66;"> 1669359534047</span><span style="color:#98C379;"> count:</span><span style="color:#D19A66;"> 100</span><span style="color:#ABB2BF;"> [minValue:-9076669333460323191,maxValue:9175278522960949594,firstValue:2537897870994797700,lastValue:7194625271253769397,sumValue:-2.126008424849926E19]</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           [ChunkIndex] </span><span style="color:#E06C75;">offset</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">1766</span></span>
<span class="line"><span style="color:#61AFEF;">                2870</span><span style="color:#ABB2BF;">|   [IndexOfTimerseriesIndex Node] </span><span style="color:#E06C75;">type</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">LEAF_MEASUREMENT</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           &lt;</span><span style="color:#61AFEF;">s1,</span><span style="color:#D19A66;"> 265</span><span style="color:#ABB2BF;">7&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           &lt;</span><span style="color:#61AFEF;">endOffset,</span><span style="color:#D19A66;"> 287</span><span style="color:#ABB2BF;">0&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">||||||||||||||||||||| [TsFileMetadata] </span><span style="color:#61AFEF;">begins</span></span>
<span class="line"><span style="color:#61AFEF;">                2891</span><span style="color:#ABB2BF;">|   [IndexOfTimerseriesIndex Node] </span><span style="color:#E06C75;">type</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">LEAF_DEVICE</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           &lt;</span><span style="color:#61AFEF;">root.sg1.d1,</span><span style="color:#D19A66;"> 287</span><span style="color:#ABB2BF;">0&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |           &lt;</span><span style="color:#61AFEF;">endOffset,</span><span style="color:#D19A66;"> 289</span><span style="color:#ABB2BF;">1&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |   [meta offset] </span><span style="color:#61AFEF;">2656</span></span>
<span class="line"><span style="color:#ABB2BF;">                    |   [bloom filter] </span><span style="color:#61AFEF;">bit</span><span style="color:#98C379;"> vector</span><span style="color:#98C379;"> byte</span><span style="color:#98C379;"> array</span><span style="color:#98C379;"> length=31,</span><span style="color:#98C379;"> filterSize=256,</span><span style="color:#98C379;"> hashFunctionSize=</span><span style="color:#D19A66;">5</span></span>
<span class="line"><span style="color:#ABB2BF;">||||||||||||||||||||| [TsFileMetadata] </span><span style="color:#61AFEF;">ends</span></span>
<span class="line"><span style="color:#61AFEF;">                2964</span><span style="color:#ABB2BF;">|   [TsFileMetadataSize] </span><span style="color:#61AFEF;">73</span></span>
<span class="line"><span style="color:#61AFEF;">                2968</span><span style="color:#ABB2BF;">|   [magic tail] </span><span style="color:#61AFEF;">TsFile</span></span>
<span class="line"><span style="color:#61AFEF;">                2974</span><span style="color:#ABB2BF;">|   </span><span style="color:#61AFEF;">END</span><span style="color:#98C379;"> of</span><span style="color:#98C379;"> TsFile</span></span>
<span class="line"><span style="color:#61AFEF;">----------------------------</span><span style="color:#98C379;"> IndexOfTimerseriesIndex</span><span style="color:#98C379;"> Tree</span><span style="color:#D19A66;"> -----------------------------</span></span>
<span class="line"><span style="color:#ABB2BF;">        [MetadataIndex:LEAF_DEVICE]</span></span>
<span class="line"><span style="color:#61AFEF;">        └──────[root.sg1.d1,2870]</span></span>
<span class="line"><span style="color:#ABB2BF;">                        [MetadataIndex:LEAF_MEASUREMENT]</span></span>
<span class="line"><span style="color:#61AFEF;">                        └──────[s1,2657]</span></span>
<span class="line"><span style="color:#61AFEF;">----------------------------------</span><span style="color:#98C379;"> TsFile</span><span style="color:#98C379;"> Sketch</span><span style="color:#98C379;"> End</span><span style="color:#D19A66;"> ----------------------------------</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Explanations:</p><ul><li>Separated by &quot;|&quot;, the left is the actual position in the TsFile, and the right is the summary content.</li><li>&quot;||||||||||||||||||||&quot; is the guide information added to enhance readability, not the actual data stored in TsFile.</li><li>The last printed &quot;IndexOfTimerseriesIndex Tree&quot; is a reorganization of the metadata index tree at the end of the TsFile, which is convenient for intuitive understanding, and again not the actual data stored in TsFile.</li></ul>`,13)]))}const c=n(o,[["render",p],["__file","TsFile-Sketch-Tool.html.vue"]]),i=JSON.parse('{"path":"/UserGuide/V1.0.x/Maintenance-Tools/TsFile-Sketch-Tool.html","title":"TsFile Sketch Tool","lang":"en-US","frontmatter":{"description":"TsFile Sketch Tool TsFile sketch tool is used to print the content of a TsFile in sketch mode. The location is tools/tsfile/print-tsfile. Usage For Windows: For Linux or MacOs: ...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://iotdb.apache.org/zh/UserGuide/V1.0.x/Maintenance-Tools/TsFile-Sketch-Tool.html"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/UserGuide/V1.0.x/Maintenance-Tools/TsFile-Sketch-Tool.html"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"TsFile Sketch Tool"}],["meta",{"property":"og:description","content":"TsFile Sketch Tool TsFile sketch tool is used to print the content of a TsFile in sketch mode. The location is tools/tsfile/print-tsfile. Usage For Windows: For Linux or MacOs: ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-07-10T03:11:17.000Z"}],["meta",{"property":"article:modified_time","content":"2023-07-10T03:11:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"TsFile Sketch Tool\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-07-10T03:11:17.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Usage","slug":"usage","link":"#usage","children":[]},{"level":2,"title":"Example","slug":"example","link":"#example","children":[]}],"git":{"createdTime":1688958677000,"updatedTime":1688958677000,"contributors":[{"name":"CritasWang","username":"CritasWang","email":"critas@outlook.com","commits":1,"url":"https://github.com/CritasWang"}]},"readingTime":{"minutes":2.04,"words":613},"filePathRelative":"UserGuide/V1.0.x/Maintenance-Tools/TsFile-Sketch-Tool.md","localizedDate":"July 10, 2023","autoDesc":true}');export{c as comp,i as data};
