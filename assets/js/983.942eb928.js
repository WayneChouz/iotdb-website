(window.webpackJsonp=window.webpackJsonp||[]).push([[983],{1388:function(t,a,s){"use strict";s.r(a);var e=s(19),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"元数据导出操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元数据导出操作"}},[t._v("#")]),t._v(" 元数据导出操作")]),t._v(" "),a("p",[t._v("元数据导出操作会以 mlog.bin 和 tlog.txt 的形式将当前 IoTDB 中的存储组、时间序列、元数据模板信息进行归档，并导出到指定目录中。")]),t._v(" "),a("p",[t._v("导出的 mlog.bin 和 tlog.txt 文件可以增量的方式加载到已有元数据的 IoTDB 实例中。")]),t._v(" "),a("h3",{attrs:{id:"使用-sql-方式导出元数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-sql-方式导出元数据"}},[t._v("#")]),t._v(" 使用 SQL 方式导出元数据")]),t._v(" "),a("p",[t._v("元数据导出的 SQL 语句如下所示：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("EXPORT SCHEMA '<path/dir>' \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"使用脚本方式导出元数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用脚本方式导出元数据"}},[t._v("#")]),t._v(" 使用脚本方式导出元数据")]),t._v(" "),a("p",[t._v("Linux/MacOS")]),t._v(" "),a("blockquote",[a("p",[t._v("./exportSchema.sh -o /yourpath/targetDir -h 127.0.0.1 -p 6667 -u root -pw root")])]),t._v(" "),a("p",[t._v("Windows")]),t._v(" "),a("blockquote",[a("p",[t._v("./exportSchema.bat -o /yourpath/targetDir -h 127.0.0.1 -p 6667 -u root -pw root")])]),t._v(" "),a("p",[t._v("使用脚本方式导出元数据时候，需要指定 IoTDB 元数据文件的导出目标目录（位于 IoTDB 服务器上）：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("usage: ExportSchema -o <target directory path> [-h <host address>] [-p <port>] [-u <user>] [-pw <password>] [-help]\n -o <target directory path>   Need to specify a target directory path on\n                              server（required)\n -h <host address>            Could specify a specify the IoTDB host\n                              address, default is 127.0.0.1 (optional)\n -p <port>                    Could specify a specify the IoTDB port,\n                              default is 6667 (optional)\n -u <user>                    Could specify the IoTDB user name, default\n                              is root (optional)\n -pw <password>               Could specify the IoTDB password, default is\n                              root (optional)\n -help,--help                 Display help information\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("h3",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),a("ul",[a("li",[t._v("找不到或无法加载主类 ExportSchema\n"),a("ul",[a("li",[t._v("可能是由于未设置环境变量 $IOTDB_HOME，请设置环境变量之后重试")])])]),t._v(" "),a("li",[t._v("Encounter an error, because: File ... already exist.\n"),a("ul",[a("li",[t._v("目标目录下已有 mlog.bin 或者 tlog.txt 文件，请检查目标目录之后重试")])])])]),t._v(" "),a("h2",{attrs:{id:"元数据加载操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元数据加载操作"}},[t._v("#")]),t._v(" 元数据加载操作")]),t._v(" "),a("p",[t._v("参考 "),a("a",{attrs:{href:"https://iotdb.apache.org/zh/UserGuide/V0.13.x/Maintenance-Tools/MLogLoad-Tool.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MLog 加载工具"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);