(window.webpackJsonp=window.webpackJsonp||[]).push([[705],{1109:function(s,a,t){"use strict";t.r(a);var e=t(19),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"运维命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运维命令"}},[s._v("#")]),s._v(" 运维命令")]),s._v(" "),a("h2",{attrs:{id:"flush"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flush"}},[s._v("#")]),s._v(" FLUSH")]),s._v(" "),a("p",[s._v("将指定 database 的内存缓存区 Memory Table 的数据持久化到磁盘上，并将数据文件封口。在集群模式下，我们提供了持久化本节点的指定 database 的缓存、持久化整个集群指定 database 的缓存命令。")]),s._v(" "),a("p",[s._v("注意：此命令客户端不需要手动调用，IoTDB 有 wal 保证数据安全，IoTDB 会选择合适的时机进行 flush。\n如果频繁调用 flush 会导致数据文件很小，降低查询性能。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("IoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FLUSH \nIoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FLUSH "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCAL")]),s._v("\nIoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FLUSH "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" CLUSTER\nIoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FLUSH root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ln\nIoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FLUSH root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCAL")]),s._v("\nIoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FLUSH root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" CLUSTER\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"clear-cache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clear-cache"}},[s._v("#")]),s._v(" CLEAR CACHE")]),s._v(" "),a("p",[s._v("手动清除chunk, chunk metadata和timeseries metadata的缓存，在内存资源紧张时，可以通过此命令，释放查询时缓存所占的内存空间。在集群模式下，我们提供了清空本节点缓存、清空整个集群缓存命令。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("IoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" CLEAR CACHE\nIoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" CLEAR CACHE "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCAL")]),s._v("\nIoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" CLEAR CACHE "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" CLUSTER\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"set-system-to-readonly-running"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set-system-to-readonly-running"}},[s._v("#")]),s._v(" SET SYSTEM TO READONLY / RUNNING")]),s._v(" "),a("p",[s._v("手动设置系统为正常运行、只读状态。在集群模式下，我们提供了设置本节点状态、设置整个集群状态的命令，默认对整个集群生效。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("IoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" SYSTEM "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" RUNNING\nIoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" SYSTEM "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" READONLY "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCAL")]),s._v("\nIoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" SYSTEM "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" READONLY "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" CLUSTER\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"终止查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#终止查询"}},[s._v("#")]),s._v(" 终止查询")]),s._v(" "),a("p",[s._v("IoTDB 支持设置 Session 连接超时和查询超时时间，并支持手动终止正在执行的查询。")]),s._v(" "),a("h3",{attrs:{id:"session-超时"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session-超时"}},[s._v("#")]),s._v(" Session 超时")]),s._v(" "),a("p",[s._v("Session 超时控制何时关闭空闲 Session。空闲 Session 指在一段时间内没有发起任何操作的 Session。")]),s._v(" "),a("p",[s._v("Session 超时默认未开启。可以在配置文件中通过 "),a("code",[s._v("dn_session_timeout_threshold")]),s._v(" 参数进行配置。")]),s._v(" "),a("h3",{attrs:{id:"查询超时"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询超时"}},[s._v("#")]),s._v(" 查询超时")]),s._v(" "),a("p",[s._v("对于执行时间过长的查询，IoTDB 将强行中断该查询，并抛出超时异常，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("IoTDB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nMsg: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("701")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Current")]),s._v(" query "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("out")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" please "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("check")]),s._v(" your statement "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("modify")]),s._v(" timeout parameter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("系统默认的超时时间为 60000 ms，可以在配置文件中通过 "),a("code",[s._v("query_timeout_threshold")]),s._v(" 参数进行自定义配置。")]),s._v(" "),a("p",[s._v("如果您使用 JDBC 或 Session，还支持对单个查询设置超时时间（单位为 ms）：")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IoTDBStatement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" statement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" timeoutInMS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nsession"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeQueryStatement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("如果不配置超时时间参数或将超时时间设置为负数，将使用服务器端默认的超时时间。\n如果超时时间设置为0，则会禁用超时功能。")])]),s._v(" "),a("h3",{attrs:{id:"查询终止"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询终止"}},[s._v("#")]),s._v(" 查询终止")]),s._v(" "),a("p",[s._v("除了被动地等待查询超时外，IoTDB 还支持主动地终止查询：")]),s._v(" "),a("h4",{attrs:{id:"终止指定查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#终止指定查询"}},[s._v("#")]),s._v(" 终止指定查询")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KILL")]),s._v(" QUERY "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("queryId"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("通过指定 "),a("code",[s._v("queryId")]),s._v(" 可以中止指定的查询。")]),s._v(" "),a("p",[s._v("为了获取正在执行的查询 id，用户可以使用 "),a("a",{attrs:{href:"#show-queries"}},[s._v("show queries")]),s._v(" 命令，该命令将显示所有正在执行的查询列表。")]),s._v(" "),a("h4",{attrs:{id:"终止所有查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#终止所有查询"}},[s._v("#")]),s._v(" 终止所有查询")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KILL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" QUERIES\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("终止所有DataNode上的所有查询。")]),s._v(" "),a("h2",{attrs:{id:"show-queries"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#show-queries"}},[s._v("#")]),s._v(" SHOW QUERIES")]),s._v(" "),a("p",[s._v("该命令用于显示所有正在执行的查询，有以下使用场景：")]),s._v(" "),a("ul",[a("li",[s._v("想要中止某个查询时，需要获取查询对应的queryId")]),s._v(" "),a("li",[s._v("中止某个查询后验证查询是否已被中止")])]),s._v(" "),a("h3",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("div",{staticClass:"language-SQL line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" QUERIES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("QUERY PROCESSLIST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" whereCondition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" sortKey {"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ASC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" rowLimit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OFFSET")]),s._v(" rowOffset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("注意：")]),s._v(" "),a("ul",[a("li",[s._v("兼容旧语法"),a("code",[s._v("show query processlist")])]),s._v(" "),a("li",[s._v("使用WHERE时请保证过滤的目标列是结果集中存在的列")]),s._v(" "),a("li",[s._v("使用ORDER BY时请保证sortKey是结果集中存在的列")])]),s._v(" "),a("h3",{attrs:{id:"结果集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结果集"}},[s._v("#")]),s._v(" 结果集")]),s._v(" "),a("p",[s._v("Time：查询开始时间，数据类型为"),a("code",[s._v("INT64")]),a("br"),s._v("\nQueryId：集群级别唯一的查询标识，数据类型为"),a("code",[s._v("TEXT")]),a("br"),s._v("\nDataNodeId：执行该查询的节点，数据类型为"),a("code",[s._v("INT32")]),a("br"),s._v("\nElapsedTime：查询已执行时间，以"),a("code",[s._v("秒")]),s._v("为单位，数据类型为"),a("code",[s._v("FLOAT")]),a("br"),s._v("\nStatement：查询的原始语句，数据类型为"),a("code",[s._v("TEXT")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+-----------------------------+-----------------------+----------+-----------+------------+\n|                         Time|                QueryId|DataNodeId|ElapsedTime|   Statement|\n+-----------------------------+-----------------------+----------+-----------+------------+\n|2022-12-30T13:26:47.260+08:00|20221230_052647_00005_1|         1|      0.019|show queries|\n+-----------------------------+-----------------------+----------+-----------+------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("注意：")]),s._v(" "),a("ul",[a("li",[s._v("结果集默认按照Time列升序排列，如需按其他key进行排序，请使用ORDER BY子句")])]),s._v(" "),a("h3",{attrs:{id:"sql示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql示例"}},[s._v("#")]),s._v(" SQL示例")]),s._v(" "),a("h4",{attrs:{id:"示例1-获取当前所有执行时间大于30s的查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例1-获取当前所有执行时间大于30s的查询"}},[s._v("#")]),s._v(" 示例1：获取当前所有执行时间大于30s的查询")]),s._v(" "),a("p",[s._v("SQL 语句为：")]),s._v(" "),a("div",{staticClass:"language-SQL line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" QUERIES "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" ElapsedTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("该 SQL 语句的执行结果如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|                         Time|                QueryId|DataNodeId|ElapsedTime|                    Statement|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|2022-12-05T11:44:44.515+08:00|20221205_114444_00002_2|         2|     31.111|     select * from root.test1|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|2022-12-05T11:44:45.515+08:00|20221205_114445_00003_2|         2|     30.111|     select * from root.test2|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|2022-12-05T11:44:43.515+08:00|20221205_114443_00001_3|         3|     32.111|        select * from root.**|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"示例2-获取当前执行耗时top5的查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例2-获取当前执行耗时top5的查询"}},[s._v("#")]),s._v(" 示例2：获取当前执行耗时Top5的查询")]),s._v(" "),a("p",[s._v("SQL 语句为：")]),s._v(" "),a("div",{staticClass:"language-SQL line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" QUERIES "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("该 SQL 语句的执行结果如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|                         Time|                QueryId|DataNodeId|ElapsedTime|                    Statement|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|2022-12-05T11:44:44.515+08:00|20221205_114444_00003_5|         5|     31.111|     select * from root.test1|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|2022-12-05T11:44:45.515+08:00|20221205_114445_00003_2|         2|     30.111|     select * from root.test2|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|2022-12-05T11:44:46.515+08:00|20221205_114446_00003_3|         3|     29.111|     select * from root.test3|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|2022-12-05T11:44:47.515+08:00|20221205_114447_00003_2|         2|     28.111|     select * from root.test4|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n|2022-12-05T11:44:48.515+08:00|20221205_114448_00003_4|         4|     27.111|     select * from root.test5|\n+-----------------------------+-----------------------+----------+-----------+-----------------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);