(window.webpackJsonp=window.webpackJsonp||[]).push([[627],{1032:function(s,t,a){"use strict";a.r(t);var n=a(19),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"发行版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发行版本"}},[s._v("#")]),s._v(" 发行版本")]),s._v(" "),t("table",[t("tr",[t("th",[s._v("版本")]),s._v(" "),t("th",{attrs:{colspan:"3"}},[s._v("IoTDB 二进制包")]),s._v(" "),t("th",{attrs:{colspan:"3"}},[s._v("IoTDB 源代码")]),s._v(" "),t("th",[s._v("发布说明")])]),s._v(" "),t("tr",[t("td",{attrs:{rowspan:"2"}},[s._v("1.0.0")]),s._v(" "),t("td",[t("a",{attrs:{href:"https://www.apache.org/dyn/closer.cgi/iotdb/1.0.0/apache-iotdb-1.0.0-all-bin.zip"}},[s._v("All-in-one")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/1.0.0/apache-iotdb-1.0.0-all-bin.zip.sha512"}},[s._v("SHA512")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/1.0.0/apache-iotdb-1.0.0-all-bin.zip.asc"}},[s._v("ASC")])]),s._v(" "),t("td",{attrs:{rowspan:"2"}},[t("a",{attrs:{href:"https://www.apache.org/dyn/closer.cgi/iotdb/1.0.0/apache-iotdb-1.0.0-source-release.zip"}},[s._v("源代码")])]),s._v(" "),t("td",{attrs:{rowspan:"2"}},[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/1.0.0/apache-iotdb-1.0.0-source-release.zip.sha512"}},[s._v("SHA512")])]),s._v(" "),t("td",{attrs:{rowspan:"2"}},[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/1.0.0/apache-iotdb-1.0.0-source-release.zip.asc"}},[s._v("ASC")])]),s._v(" "),t("td",{attrs:{rowspan:"2"}},[t("a",{attrs:{href:"https://raw.githubusercontent.com/apache/iotdb/v1.0.0/RELEASE_NOTES.md"}},[s._v("release notes")])])]),s._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://www.apache.org/dyn/closer.cgi/iotdb/1.0.0/apache-iotdb-1.0.0-grafana-plugin-bin.zip"}},[s._v("Grafana 插件")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/1.0.0/apache-iotdb-1.0.0-grafana-plugin-bin.zip.sha512"}},[s._v("SHA512")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/1.0.0/apache-iotdb-1.0.0-grafana-plugin-bin.zip.asc"}},[s._v("ASC")])])]),s._v(" "),t("tr",[t("td",{attrs:{rowspan:"3"}},[s._v("0.13.3")]),s._v(" "),t("td",[t("a",{attrs:{href:"https://www.apache.org/dyn/closer.cgi/iotdb/0.13.3/apache-iotdb-0.13.3-all-bin.zip"}},[s._v("All-in-one")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-all-bin.zip.sha512"}},[s._v("SHA512")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-all-bin.zip.asc"}},[s._v("ASC")])]),s._v(" "),t("td",{attrs:{rowspan:"3"}},[t("a",{attrs:{href:"https://www.apache.org/dyn/closer.cgi/iotdb/0.13.3/apache-iotdb-0.13.3-source-release.zip"}},[s._v("源代码")])]),s._v(" "),t("td",{attrs:{rowspan:"3"}},[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-source-release.zip.sha512"}},[s._v("SHA512")])]),s._v(" "),t("td",{attrs:{rowspan:"3"}},[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-source-release.zip.asc"}},[s._v("ASC")])]),s._v(" "),t("td",{attrs:{rowspan:"3"}},[t("a",{attrs:{href:"https://raw.githubusercontent.com/apache/iotdb/v0.13.3/RELEASE_NOTES.md"}},[s._v("release notes")])])]),s._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://www.apache.org/dyn/closer.cgi/iotdb/0.13.3/apache-iotdb-0.13.3-grafana-plugin-bin.zip"}},[s._v("Grafana 插件")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-grafana-plugin-bin.zip.sha512"}},[s._v("SHA512")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-grafana-plugin-bin.zip.asc"}},[s._v("ASC")])])]),s._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://www.apache.org/dyn/closer.cgi/iotdb/0.13.3/apache-iotdb-0.13.3-grafana-connector-bin.zip"}},[s._v("Grafana 连接器")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-grafana-connector-bin.zip.sha512"}},[s._v("SHA512")])]),s._v(" "),t("td",[t("a",{attrs:{href:"https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-grafana-connector-bin.zip.asc"}},[s._v("ASC")])])])]),s._v(" "),t("p",[s._v("历史版本下载："),t("a",{attrs:{href:"https://archive.apache.org/dist/iotdb/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://archive.apache.org/dist/iotdb/"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"环境配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境配置"}},[s._v("#")]),s._v(" 环境配置")]),s._v(" "),t("ul",[t("li",[s._v("推荐修改的操作系统参数\n"),t("ul",[t("li",[s._v('将 somaxconn 设置为 65535 以避免系统在高负载时出现 "connection reset" 错误。'),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# Linux\n> sudo sysctl -w net.core.somaxconn=65535\n \n# FreeBSD or Darwin\n> sudo sysctl -w kern.ipc.somaxconn=65535\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])])])]),s._v(" "),t("h2",{attrs:{id:"关于-version-1-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于-version-1-0"}},[s._v("#")]),s._v(" 关于 Version 1.0")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("如何从 v0.13.x 升级到 v1.0.x?")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("1.0版本进行了 SQL 语法约定的改动（请参考用户手册语法约定章节）,不兼容之处可以参考下方1.0 版本不兼容的语法详细说明")]),s._v("。")]),s._v(" "),t("li",[s._v("为了保证 UDF 相关 API 的稳定性，1.0 版本中 UDF 相关 API 被独立为一个单独的 module，不再依赖 tsfile 包，已经实现的 UDF 需要改写代码，将 "),t("code",[s._v("TsDataType")]),s._v(" 替换为 "),t("code",[s._v("Type")]),s._v("，将 "),t("code",[s._v("org.apache.iotdb.tsfile.utils.Binary")]),s._v(" 替换成 "),t("code",[s._v("org.apache.iotdb.udf.api.type.Binary")]),s._v("，并重新进行打包装载流程。")])])])]),s._v(" "),t("h3",{attrs:{id:"_1-0-版本不兼容的语法详细说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-版本不兼容的语法详细说明"}},[s._v("#")]),s._v(" 1.0 版本不兼容的语法详细说明")]),s._v(" "),t("p",[s._v("在之前版本的语法约定中，为了保持兼容性，我们引入了一些会引起歧义的规定。为了避免歧义，我们设计了新的语法约定，本章将说明旧语法约定中存在的问题，以及我们做出改动的原因。")]),s._v(" "),t("h4",{attrs:{id:"标识符限制增强"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标识符限制增强"}},[s._v("#")]),s._v(" 标识符限制增强")]),s._v(" "),t("p",[s._v("在0.13及之前版本中，不使用反引号引用的标识符（包括路径结点）允许为实数（实数路径名在 "),t("code",[s._v("SELECT")]),s._v(" 子句中需要用反引号括起），且允许包含部分特殊字符，"),t("strong",[s._v("在 1.0 版本中，不使用反引号引用的标识符不允许为实数，不使用反引号引用的标识符，只允许包含字母、中文字符、下划线。")])]),s._v(" "),t("h4",{attrs:{id:"路径名使用的相关问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路径名使用的相关问题"}},[s._v("#")]),s._v(" 路径名使用的相关问题")]),s._v(" "),t("p",[s._v("在旧语法约定中，什么时候需要给路径结点名添加引号，用单双引号还是反引号的规则较为复杂，在新的语法约定中我们做了统一，具体可以参考本文档的相关章节。")]),s._v(" "),t("h5",{attrs:{id:"单双引号和反引号的使用时机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单双引号和反引号的使用时机"}},[s._v("#")]),s._v(" 单双引号和反引号的使用时机")]),s._v(" "),t("p",[s._v("在之前的语法约定中，路径结点名被定义成标识符，但是当需要在路径结点名中使用路径分隔符 . 时，需要使用单引号或者双引号引用。这与标识符使用反引号引用的规则相悖。")]),s._v(" "),t("div",{staticClass:"language-SQL line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在之前的语法约定中，如果需要创建时间序列 root.sg.`www.baidu.com`，需要使用下述语句：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'www.baidu.com'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" datatype"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BOOLEAN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" encoding"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PLAIN\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 该语句创建的时间序列实际为 root.sg.\'www.baidu.com\'，即引号一并存入,该时间序列的三个结点为{"root","sg","\'www.baidu.com\'"}')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在查询语句中，如果希望查询该时间序列的数据，查询语句如下：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'www.baidu.com'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("strong",[s._v("而在 1.0 版本的语法约定中，特殊路径结点名统一使用反引号引用：")])]),s._v(" "),t("div",{staticClass:"language-SQL line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在现有语法约定中，如果需要创建时间序列 root.sg.`www.baidu.com`，语法如下：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("www.baidu.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" datatype "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BOOLEAN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" encoding "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PLAIN\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询该时间序列可以通过如下语句：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("www.baidu.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h5",{attrs:{id:"路径结点名内部使用引号的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路径结点名内部使用引号的问题"}},[s._v("#")]),s._v(" 路径结点名内部使用引号的问题")]),s._v(" "),t("p",[s._v("在旧语法约定中，在路径结点名中使用单引号 ' 和 双引号 \" 时，需要使用反斜杠 \\ 进行转义，且反斜杠会被视为路径结点名的一部分存入，而在使用其它标识符时没有这个限制，造成了不统一。")]),s._v(" "),t("div",{staticClass:"language-SQL line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 创建时间序列 root.sg.\\"a')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" timeseries root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v('\\"a'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" datatype"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TEXT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("encoding"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PLAIN"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 查询时间序列 root.sg.\\"a')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v('\\"a'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-----------------------------+-----------+")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                         "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v('\\"a'),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-----------------------------+-----------+")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1970")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v("T08:"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.004")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("08")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       test"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-----------------------------+-----------+")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[t("strong",[s._v("在新语法约定中，特殊路径结点名统一使用反引号进行引用")]),s._v("，在路径结点名中使用单双引号无须添加反斜杠转义，使用反引号需要双写，具体可以参考新语法约定路径结点名章节。")]),s._v(" "),t("h4",{attrs:{id:"session-接口相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session-接口相关"}},[s._v("#")]),s._v(" Session 接口相关")]),s._v(" "),t("h5",{attrs:{id:"session-接口语法限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session-接口语法限制"}},[s._v("#")]),s._v(" Session 接口语法限制")]),s._v(" "),t("p",[s._v("在0.13版本中，对于非SQL接口中使用路径结点的限制如下：")]),s._v(" "),t("ul",[t("li",[s._v("经参数传入的路径或路径前缀中的节点：\n"),t("ul",[t("li",[s._v("在 SQL 语句中需要使用反引号（`）进行转义的，此处均不需要进行转义。")]),s._v(" "),t("li",[s._v("使用单引号或双引号括起的节点，仍需要使用单引号或双引号括起，并且要针对 JAVA 字符串进行反转义。")]),s._v(" "),t("li",[s._v("对于 "),t("code",[s._v("checkTimeseriesExists")]),s._v(" 接口，由于内部调用了 IoTDB-SQL 接口，因此需要和 SQL 语法规范保持一致，并且针对 JAVA 字符串进行反转义。")])])])]),s._v(" "),t("p",[t("strong",[s._v("1.0 版本中，对非SQL接口中使用路径结点的限制增强：")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("经参数传入的路径或路径前缀中的节点： 在 SQL 语句中需要使用反引号（`）进行转义的，均需要使用反引号进行转义。")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("语法说明相关代码示例可以参考：")]),t("code",[s._v("example/session/src/main/java/org/apache/iotdb/SyntaxConventionRelatedExample.java")])])])]),s._v(" "),t("h5",{attrs:{id:"sql和session接口对字符串反转义处理不一致"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql和session接口对字符串反转义处理不一致"}},[s._v("#")]),s._v(" SQL和Session接口对字符串反转义处理不一致")]),s._v(" "),t("p",[t("strong",[s._v("在之前版本中，使用字符串时，SQL 和 Session 接口存在不一致的情况")]),s._v("。比如使用 SQL 插入 Text 类型数据时，会对字符串进行反转义处理，而使用 Session 接口时不会进行这样的处理，存在不一致。"),t("strong",[s._v("在新的语法约定中，我们统一不对字符串做反转义处理，存入什么内容，在查询时就会得到什么内容(字符串内部使用单双引号的规则可以参考本文档字符串常量章节)。")])]),s._v(" "),t("p",[t("strong",[s._v("下面是旧语法约定中不一致的例子：")])]),s._v(" "),t("p",[s._v("使用 Session 的 insertRecord 方法向时序 root.sg.a 中插入数据")]),s._v(" "),t("div",{staticClass:"language-Java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// session 插入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" deviceId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root.sg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" measurements "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ArrayList")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmeasurements"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" values "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\\\\\\\"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\\\t"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\\\\\""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\\\u96d5"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" values"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" valueList "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ArrayList")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  valueList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("values"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  session"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("insertRecord")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deviceId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" measurements"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" valueList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("查询 root.sg.a 的数据，可以看到没有做反转义处理：")]),s._v(" "),t("div",{staticClass:"language-Plain%20Text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// 查询结果\n+-----------------------------+---------+\n|                         Time|root.sg.a|\n+-----------------------------+---------+\n|1970-01-01T08:00:00.001+08:00|       \\\\|\n|1970-01-01T08:00:00.002+08:00|       \\t|\n|1970-01-01T08:00:00.003+08:00|       \\"|\n|1970-01-01T08:00:00.004+08:00|   \\u96d5|\n+-----------------------------+---------+\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("而使用 SQL 向 root.sg.a 中插入数据")]),s._v(" "),t("div",{staticClass:"language-SQL line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SQL 插入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\\\"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\t"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\u96d5"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("查询 root.sg.a 的数据，可以看到字符串进行了反转义：")]),s._v(" "),t("div",{staticClass:"language-Plain%20Text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// 查询结果\n+-----------------------------+---------+\n|                         Time|root.sg.a|\n+-----------------------------+---------+\n|1970-01-01T08:00:00.001+08:00|        \\|\n|1970-01-01T08:00:00.002+08:00|         |\n|1970-01-01T08:00:00.003+08:00|        "|\n|1970-01-01T08:00:00.004+08:00|       雕|\n+-----------------------------+---------+\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h1",{attrs:{id:"如何升级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何升级"}},[s._v("#")]),s._v(" 如何升级")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("如何升级小版本 （例如，从 v0.12.4 to v0.12.5)?")]),s._v(" "),t("ul",[t("li",[s._v("同一个大版本下的多个小版本是互相兼容的。")]),s._v(" "),t("li",[s._v("只需要下载新的小版本， 然后修改其配置文件，使其与原有版本的设置一致。")]),s._v(" "),t("li",[s._v("停掉旧版本进程，启动新版本即可。")])])]),s._v(" "),t("li",[t("p",[s._v("如何从 v0.12.x 升级到 v0.13.x?")]),s._v(" "),t("ul",[t("li",[s._v("0.12 与 0.13 的数据文件格式兼容，但写前日志等格式不兼容，因此需要进行升级（但速度很快）：")]),s._v(" "),t("li",[t("strong",[t("font",{attrs:{color:"red"}},[s._v("在 0.12 的 CLI 中执行 "),t("code",[s._v("SET SYSTEM TO READONLY")]),s._v(" 命令，并停止新数据的写入。")])],1)]),s._v(" "),t("li",[s._v("在 CLI 执行 "),t("code",[s._v("flush")]),s._v(" 命令，确保关闭所有的 TsFile 文件。")]),s._v(" "),t("li",[s._v("我们推荐提前备份整个 data 目录，以备回滚。")]),s._v(" "),t("li",[s._v("下载最新 0.13 版本，解压并修改配置文件，尤其是 "),t("strong",[t("font",{attrs:{color:"red"}},[s._v("时间戳精度等首次启动后不可修改的配置参数 ")])],1),s._v("。并将各数据目录都指向备份的或者 v0.12 原来使用的数据目录。")]),s._v(" "),t("li",[s._v("停止 v0.12 的实例，启动 v0.13 的实例。")]),s._v(" "),t("li",[t("strong",[t("font",{attrs:{color:"red"}},[s._v("执行上述步骤后, 请确认"),t("code",[s._v("data/system/schema/system.properties")]),s._v("文件中的 "),t("code",[s._v("iotdb_version")]),s._v(" 是 "),t("code",[s._v("0.13.x")]),s._v(".\n如果不是，请手动修改为"),t("code",[s._v("0.13.x")]),s._v("。")])],1)]),s._v(" "),t("li",[t("strong",[s._v("注意：0.13 的配置文件进行了较大改动，因此不要直接将 0.12 的配置文件用于 0.13")])]),s._v(" "),t("li",[t("strong",[s._v("0.13 进行了 SQL 语法的改动，不使用反引号括起的标识符中仅能包含如下字符，否则需要使用反引号括起。")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("[0-9 a-z A-Z _ : @ # $ { }] （字母，数字，部分特殊字符）")])]),s._v(" "),t("li",[t("strong",[s._v("['\\u2E80'..'\\u9FFF'] （UNICODE 中文字符）")])])])]),s._v(" "),t("li",[t("strong",[s._v("0.13 中 "),t("code",[s._v("SELECT")]),s._v(' 子句中路径结点名如果是实数，需要使用反引号引起，用于与表达式中的常数区分。如语句 "select 123 + `123` from root.sg"，前一个123表示常数，后一个 `123`会和 root.sg 拼接，表示路径 root.sg.`123`。')])])])]),s._v(" "),t("li",[t("p",[s._v("如何从 v0.11.x 或 v0.10.x 升级到 v0.12.x?")]),s._v(" "),t("ul",[t("li",[s._v("从 0.11 或 0.10 升级到 0.12 的过程与 v0.9 升级到 v0.10 类似，升级工具会自动进行数据文件的升级。")]),s._v(" "),t("li",[t("strong",[t("font",{attrs:{color:"red"}},[s._v("停掉旧版本新数据写入。")])],1)]),s._v(" "),t("li",[s._v("用 CLI 调用"),t("code",[s._v("flush")]),s._v("，确保关闭所有的 TsFile 文件。")]),s._v(" "),t("li",[s._v("我们推荐提前备份数据文件（以及写前日志和 mlog 文件），以备回滚。")]),s._v(" "),t("li",[s._v("下载最新版，解压并修改配置文件。将各数据目录都指向备份的或者 v0.11 或 0.10 原来使用的数据目录。 把 0.11 中的其他修改都放到 0.12 中。")]),s._v(" "),t("li",[s._v("停止旧版本 IoTDB 的实例，启动 v0.12 的实例。IoTDB 将后台自动升级数据文件格式。在升级过程中数据可以进行查询和写入。\n"),t("ul",[t("li",[s._v("当日志中显示"),t("code",[s._v("All files upgraded successfully!")]),s._v(" 后代表升级成功。")]),s._v(" "),t("li",[t("strong",[s._v("注意 1：0.12 的配置文件进行了较大改动，因此不要直接将原本的配置文件用于 0.12")])]),s._v(" "),t("li",[t("strong",[s._v("注意 2: 由于 0.12 不支持从 0.9 或者更低版本升级，如果需要升级，请先升级到 0.10 版本")])]),s._v(" "),t("li",[t("strong",[s._v("注意 3: 在文件升级完成前，最好不要进行 delete 操作。如果删除某个 database 内的数据且该 database 内存在待升级文件，删除会失败。")])])])])])]),s._v(" "),t("li",[t("p",[s._v("如何从 v0.10.x 升级到 v0.11.x?")]),s._v(" "),t("ul",[t("li",[s._v("0.10 与 0.11 的数据文件格式兼容，但写前日志等格式不兼容，因此需要进行升级（但速度很快）：")]),s._v(" "),t("li",[t("strong",[t("font",{attrs:{color:"red"}},[s._v("停掉 0.10 的新数据写入。")])],1)]),s._v(" "),t("li",[s._v("用 CLI 调用"),t("code",[s._v("flush")]),s._v("，确保关闭所有的 TsFile 文件。")]),s._v(" "),t("li",[s._v("我们推荐提前备份写前日志和 mlog 文件，以备回滚。")]),s._v(" "),t("li",[s._v("下载最新版，解压并修改配置文件。将各数据目录都指向备份的或者 v0.10 原来使用的数据目录。")]),s._v(" "),t("li",[s._v("停止 v0.10 的实例，启动 v0.11 的实例。IoTDB 将自动升级不兼容的文件格式。")]),s._v(" "),t("li",[t("strong",[s._v("注意：0.11 的配置文件进行了较大改动，因此不要直接将 0.10 的配置文件用于 0.11")])])])]),s._v(" "),t("li",[t("p",[s._v("如何从 v0.9.x 升级到 v0.10.x?")]),s._v(" "),t("ul",[t("li",[t("strong",[t("font",{attrs:{color:"red"}},[s._v("停掉旧版本新数据写入。")])],1)]),s._v(" "),t("li",[s._v("用 CLI 调用"),t("code",[s._v("flush")]),s._v("，确保关闭所有的 TsFile 文件。")]),s._v(" "),t("li",[s._v("我们推荐提前备份数据文件（以及写前日志和 mlog 文件），以备回滚。")]),s._v(" "),t("li",[s._v("下载最新版，解压并修改配置文件。将各数据目录都指向备份的或者 v0.9 原来使用的数据目录。")]),s._v(" "),t("li",[s._v("停止 v0.9 的实例，启动 v0.10 的实例。IoTDB 将自动升级数据文件格式。")])])]),s._v(" "),t("li",[t("p",[s._v("如何从 0.8.x 升级到 v0.9.x?")]),s._v(" "),t("ul",[t("li",[s._v("我们推荐提前备份数据文件（以及写前日志和 mlog 文件），以备回滚。")]),s._v(" "),t("li",[s._v("下载最新版，解压并修改配置文件。将各数据目录都指向备份的或者 v0.8 原来使用的数据目录。")]),s._v(" "),t("li",[s._v("停止 v0.8 的实例，启动 v0.9.x 的实例。IoTDB 将自动升级数据文件格式。")])])])]),s._v(" "),t("h1",{attrs:{id:"所有版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#所有版本"}},[s._v("#")]),s._v(" 所有版本")]),s._v(" "),t("p",[s._v("在 "),t("a",{attrs:{href:"https://archive.apache.org/dist/iotdb/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Archive repository"),t("OutboundLink")],1),s._v(" 查看所有版本")]),s._v(" "),t("h1",{attrs:{id:"验证哈希和签名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#验证哈希和签名"}},[s._v("#")]),s._v(" 验证哈希和签名")]),s._v(" "),t("p",[s._v("除了我们的发行版，我们还在 *.sha512 文件中提供了 sha512 散列，并在 *.asc 文件中提供了加密签名。  Apache Software Foundation 提供了广泛的教程来 "),t("a",{attrs:{href:"http://www.apache.org/info/verification.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("验证哈希和签名"),t("OutboundLink")],1),s._v("，您可以使用任何这些发布签名的 "),t("a",{attrs:{href:"https://downloads.apache.org/iotdb/KEYS",target:"_blank",rel:"noopener noreferrer"}},[s._v("KEYS"),t("OutboundLink")],1),s._v(" 来遵循这些哈希和签名。")])])}),[],!1,null,null,null);t.default=e.exports}}]);