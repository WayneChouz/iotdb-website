(window.webpackJsonp=window.webpackJsonp||[]).push([[547],{1174:function(t,e,s){"use strict";s.r(e);var a=s(83),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"元数据模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#元数据模板"}},[t._v("#")]),t._v(" 元数据模板")]),t._v(" "),s("p",[t._v("IoTDB 支持元数据模板功能，实现同类型不同实体的物理量元数据共享，减少元数据内存占用，同时简化同类型实体的管理。")]),t._v(" "),s("h3",{attrs:{id:"创建元数据模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建元数据模板"}},[t._v("#")]),t._v(" 创建元数据模板")]),t._v(" "),s("p",[t._v("创建元数据模板的 SQL 语句如下所示：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("IoTDB> create schema template temp1(GPS(lat FLOAT encoding=Gorilla, lon FLOAT encoding=Gorilla compression=SNAPPY), status BOOLEAN encoding=PLAIN compression=SNAPPY)\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("其中，"),s("code",[t._v("GPS")]),t._v(" 设备下的物理量 "),s("code",[t._v("lat")]),t._v(" 和 "),s("code",[t._v("lon")]),t._v(" 是对齐的。")]),t._v(" "),s("h3",{attrs:{id:"挂载元数据模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#挂载元数据模板"}},[t._v("#")]),t._v(" 挂载元数据模板")]),t._v(" "),s("p",[t._v("挂载元数据模板的 SQL 语句如下所示：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("IoTDB> set schema template temp1 to root.ln.wf01\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("挂载好元数据模板后，即可进行数据的写入。例如存储组为root.ln，模板temp1被挂载到了节点root.ln.wf01，那么可直接向时间序列（如root.ln.wf01.GPS.lat和root.ln.wf01.status）写入时间序列数据，该时间序列已可被当作正常创建的序列使用。")]),t._v(" "),s("p",[s("strong",[t._v("注意")]),t._v("：在插入数据之前，模板定义的时间序列不会被创建。可以使用如下SQL语句在插入数据前创建时间序列：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("IoTDB> create timeseries of schema template on root.ln.wf01\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"卸载元数据模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#卸载元数据模板"}},[t._v("#")]),t._v(" 卸载元数据模板")]),t._v(" "),s("p",[t._v("卸载元数据模板的 SQL 语句如下所示：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("IoTDB> unset schema template temp1 from root.beijing\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("strong",[t._v("注意")]),t._v("：目前不支持从曾经使用模板插入数据后（即使数据已被删除）的实体中卸载模板。")])])}),[],!1,null,null,null);e.default=r.exports}}]);