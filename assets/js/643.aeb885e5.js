(window.webpackJsonp=window.webpackJsonp||[]).push([[643],{1047:function(n,s,a){"use strict";a.r(s);var e=a(19),t=Object(e.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"集群运维命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集群运维命令"}},[n._v("#")]),n._v(" 集群运维命令")]),n._v(" "),s("h2",{attrs:{id:"展示集群配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示集群配置"}},[n._v("#")]),n._v(" 展示集群配置")]),n._v(" "),s("p",[n._v("当前 IoTDB 支持使用如下 SQL 展示集群的关键参数：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("SHOW VARIABLES\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("示例：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show variables\n+----------------------------------+-----------------------------------------------------------------+\n|                         Variables|                                                            Value|\n+----------------------------------+-----------------------------------------------------------------+\n|                       ClusterName|                                                   defaultCluster|\n|             DataReplicationFactor|                                                                1|\n|           SchemaReplicationFactor|                                                                1|\n|  DataRegionConsensusProtocolClass|                      org.apache.iotdb.consensus.iot.IoTConsensus|\n|SchemaRegionConsensusProtocolClass|                  org.apache.iotdb.consensus.ratis.RatisConsensus|\n|  ConfigNodeConsensusProtocolClass|                  org.apache.iotdb.consensus.ratis.RatisConsensus|\n|             TimePartitionInterval|                                                        604800000|\n|                    DefaultTTL(ms)|                                              9223372036854775807|\n|              ReadConsistencyLevel|                                                           strong|\n|           SchemaRegionPerDataNode|                                                              1.0|\n|            DataRegionPerProcessor|                                                              1.0|\n|           LeastDataRegionGroupNum|                                                                5|\n|                     SeriesSlotNum|                                                            10000|\n|           SeriesSlotExecutorClass|org.apache.iotdb.commons.partition.executor.hash.BKDRHashExecutor|\n|         DiskSpaceWarningThreshold|                                                             0.05|\n+----------------------------------+-----------------------------------------------------------------+\nTotal line number = 15\nIt costs 0.225s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br")])]),s("p",[s("strong",[n._v("注意：")]),n._v(" 必须保证该 SQL 展示的所有配置参数在同一集群各个节点完全一致")]),n._v(" "),s("h2",{attrs:{id:"展示-confignode-信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示-confignode-信息"}},[n._v("#")]),n._v(" 展示 ConfigNode 信息")]),n._v(" "),s("p",[n._v("当前 IoTDB 支持使用如下 SQL 展示 ConfigNode 的信息：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("SHOW CONFIGNODES\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("示例：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show confignodes\n+------+-------+---------------+------------+--------+\n|NodeID| Status|InternalAddress|InternalPort|    Role|\n+------+-------+---------------+------------+--------+\n|     0|Running|      127.0.0.1|       10710|  Leader|\n|     1|Running|      127.0.0.1|       10711|Follower|\n|     2|Running|      127.0.0.1|       10712|Follower|\n+------+-------+---------------+------------+--------+\nTotal line number = 3\nIt costs 0.030s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br")])]),s("h3",{attrs:{id:"confignode-状态定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#confignode-状态定义"}},[n._v("#")]),n._v(" ConfigNode 状态定义")]),n._v(" "),s("p",[n._v("对 ConfigNode 各状态定义如下：")]),n._v(" "),s("ul",[s("li",[s("strong",[n._v("Running")]),n._v(": ConfigNode 正常运行")]),n._v(" "),s("li",[s("strong",[n._v("Unknown")]),n._v(": ConfigNode 未正常上报心跳")])]),n._v(" "),s("h2",{attrs:{id:"展示-datanode-信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示-datanode-信息"}},[n._v("#")]),n._v(" 展示 DataNode 信息")]),n._v(" "),s("p",[n._v("当前 IoTDB 支持使用如下 SQL 展示 DataNode 的信息：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("SHOW DATANODES\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("示例：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> create timeseries root.sg.d1.s1 with datatype=BOOLEAN,encoding=PLAIN\nMsg: The statement is executed successfully.\nIoTDB> create timeseries root.sg.d2.s1 with datatype=BOOLEAN,encoding=PLAIN\nMsg: The statement is executed successfully.\nIoTDB> create timeseries root.ln.d1.s1 with datatype=BOOLEAN,encoding=PLAIN\nMsg: The statement is executed successfully.\nIoTDB> show datanodes\n+------+-------+----------+-------+-------------+---------------+\n|NodeID| Status|RpcAddress|RpcPort|DataRegionNum|SchemaRegionNum|\n+------+-------+----------+-------+-------------+---------------+\n|     1|Running| 127.0.0.1|   6667|            0|              1|\n|     2|Running| 127.0.0.1|   6668|            0|              1|\n+------+-------+----------+-------+-------------+---------------+\n\nTotal line number = 2\nIt costs 0.007s\n\nIoTDB> insert into root.ln.d1(timestamp,s1) values(1,true)\nMsg: The statement is executed successfully.\nIoTDB> show datanodes\n+------+-------+----------+-------+-------------+---------------+\n|NodeID| Status|RpcAddress|RpcPort|DataRegionNum|SchemaRegionNum|\n+------+-------+----------+-------+-------------+---------------+\n|     1|Running| 127.0.0.1|   6667|            1|              1|\n|     2|Running| 127.0.0.1|   6668|            0|              1|\n+------+-------+----------+-------+-------------+---------------+\nTotal line number = 2\nIt costs 0.006s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br")])]),s("h3",{attrs:{id:"datanode-状态定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datanode-状态定义"}},[n._v("#")]),n._v(" DataNode 状态定义")]),n._v(" "),s("p",[n._v("DataNode 的状态机如下图所示：\n"),s("img",{staticStyle:{width:"100%","max-width":"500px","max-height":"500px","margin-left":"auto","margin-right":"auto",display:"block"},attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/Cluster/DataNode-StateMachine-ZH.jpg?raw=true"}})]),n._v(" "),s("p",[n._v("对 DataNode 各状态定义如下：")]),n._v(" "),s("ul",[s("li",[s("strong",[n._v("Running")]),n._v(": DataNode 正常运行，可读可写")]),n._v(" "),s("li",[s("strong",[n._v("Unknown")]),n._v(": DataNode 未正常上报心跳，ConfigNode 认为该 DataNode 不可读写")]),n._v(" "),s("li",[s("strong",[n._v("Removing")]),n._v(": DataNode 正在移出集群，不可读写")]),n._v(" "),s("li",[s("strong",[n._v("ReadOnly")]),n._v(": DataNode 磁盘剩余空间低于 disk_warning_threshold（默认 5%），DataNode 可读但不能写入，不能同步数据")])]),n._v(" "),s("h2",{attrs:{id:"展示全部节点信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示全部节点信息"}},[n._v("#")]),n._v(" 展示全部节点信息")]),n._v(" "),s("p",[n._v("当前 IoTDB 支持使用如下 SQL 展示全部节点的信息：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("SHOW CLUSTER\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("示例：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show cluster\n+------+----------+-------+---------------+------------+\n|NodeID|  NodeType| Status|InternalAddress|InternalPort|\n+------+----------+-------+---------------+------------+\n|     0|ConfigNode|Running|      127.0.0.1|       10710|\n|     1|ConfigNode|Running|      127.0.0.1|       10711|\n|     2|ConfigNode|Running|      127.0.0.1|       10712|\n|     3|  DataNode|Running|      127.0.0.1|       10730|\n|     4|  DataNode|Running|      127.0.0.1|       10731|\n|     5|  DataNode|Running|      127.0.0.1|       10732|\n+------+----------+-------+---------------+------------+\nTotal line number = 6\nIt costs 0.011s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br")])]),s("p",[n._v("在节点被关停后，它的状态也会改变，如下所示：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show cluster\n+------+----------+-------+---------------+------------+\n|NodeID|  NodeType| Status|InternalAddress|InternalPort|\n+------+----------+-------+---------------+------------+\n|     0|ConfigNode|Running|      127.0.0.1|       10710|\n|     1|ConfigNode|Unknown|      127.0.0.1|       10711|\n|     2|ConfigNode|Running|      127.0.0.1|       10712|\n|     3|  DataNode|Running|      127.0.0.1|       10730|\n|     4|  DataNode|Running|      127.0.0.1|       10731|\n|     5|  DataNode|Running|      127.0.0.1|       10732|\n+------+----------+-------+---------------+------------+\nTotal line number = 6\nIt costs 0.012s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br")])]),s("p",[n._v("展示全部节点的详细配置信息：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("SHOW CLUSTER DETAILS\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("示例：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show cluster details\n+------+----------+-------+---------------+------------+-------------------+----------+-------+-------+-------------------+-----------------+\n|NodeID|  NodeType| Status|InternalAddress|InternalPort|ConfigConsensusPort|RpcAddress|RpcPort|MppPort|SchemaConsensusPort|DataConsensusPort|\n+------+----------+-------+---------------+------------+-------------------+----------+-------+-------+-------------------+-----------------+\n|     0|ConfigNode|Running|      127.0.0.1|       10710|              10720|          |       |       |                   |                 |\n|     1|ConfigNode|Running|      127.0.0.1|       10711|              10721|          |       |       |                   |                 |\n|     2|ConfigNode|Running|      127.0.0.1|       10712|              10722|          |       |       |                   |                 |\n|     3|  DataNode|Running|      127.0.0.1|       10730|                   | 127.0.0.1|   6667|  10740|              10750|            10760|\n|     4|  DataNode|Running|      127.0.0.1|       10731|                   | 127.0.0.1|   6668|  10741|              10751|            10761|\n|     5|  DataNode|Running|      127.0.0.1|       10732|                   | 127.0.0.1|   6669|  10742|              10752|            10762|\n+------+----------+-------+---------------+------------+-------------------+----------+-------+-------+-------------------+-----------------+\nTotal line number = 6\nIt costs 0.340s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br")])]),s("h2",{attrs:{id:"展示-region-信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示-region-信息"}},[n._v("#")]),n._v(" 展示 Region 信息")]),n._v(" "),s("p",[n._v("集群中以 SchemaRegion/DataRegion 作为元数据/数据的复制和管理单元，Region 的状态和分布对于系统运维和测试有很大帮助，如以下场景：")]),n._v(" "),s("ul",[s("li",[n._v("查看集群中各个 Region 被分配到了哪些 DataNode，是否均衡")]),n._v(" "),s("li",[n._v("查看集群中各个 Region 被分配了哪些分区，是否均衡")]),n._v(" "),s("li",[n._v("查看集群中各个 RegionGroup 的 leader 被分配到了哪些 DataNode，是否均衡")])]),n._v(" "),s("p",[n._v("当前 IoTDB 支持使用如下 SQL 展示 Region 信息：")]),n._v(" "),s("ul",[s("li",[s("code",[n._v("SHOW REGIONS")]),n._v(": 展示所有 Region 分布")]),n._v(" "),s("li",[s("code",[n._v("SHOW SCHEMA REGIONS")]),n._v(": 展示所有 SchemaRegion 分布")]),n._v(" "),s("li",[s("code",[n._v("SHOW DATA REGIONS")]),n._v(": 展示所有 DataRegion 分布")]),n._v(" "),s("li",[s("code",[n._v("SHOW (DATA|SCHEMA)? REGIONS OF DATABASE <sg1,sg2,...>")]),n._v(": 展示指定数据库 <sg1,sg2,...> 对应的 Region 分布")])]),n._v(" "),s("p",[n._v("展示所有 Region 的分布：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show regions\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|RegionId|        Type| Status|Database|SeriesSlots|TimeSlots|DataNodeId|RpcAddress|RpcPort|    Role|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|       0|  DataRegion|Running|root.sg1|          1|        1|         1| 127.0.0.1|   6667|Follower|\n|       0|  DataRegion|Running|root.sg1|          1|        1|         2| 127.0.0.1|   6668|  Leader|\n|       0|  DataRegion|Running|root.sg1|          1|        1|         3| 127.0.0.1|   6669|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         1| 127.0.0.1|   6667|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         2| 127.0.0.1|   6668|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         3| 127.0.0.1|   6669|  Leader|\n|       2|  DataRegion|Running|root.sg2|          1|        1|         1| 127.0.0.1|   6667|  Leader|\n|       2|  DataRegion|Running|root.sg2|          1|        1|         2| 127.0.0.1|   6668|Follower|\n|       2|  DataRegion|Running|root.sg2|          1|        1|         3| 127.0.0.1|   6669|Follower|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         1| 127.0.0.1|   6667|Follower|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         2| 127.0.0.1|   6668|  Leader|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         3| 127.0.0.1|   6669|Follower|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\nTotal line number = 12\nIt costs 0.165s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br")])]),s("p",[n._v("展示 SchemaRegion 或 DataRegion 的分布：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show data regions\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|RegionId|        Type| Status|Database|SeriesSlots|TimeSlots|DataNodeId|RpcAddress|RpcPort|    Role|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|       0|  DataRegion|Running|root.sg1|          1|        1|         1| 127.0.0.1|   6667|Follower|\n|       0|  DataRegion|Running|root.sg1|          1|        1|         2| 127.0.0.1|   6668|  Leader|\n|       0|  DataRegion|Running|root.sg1|          1|        1|         3| 127.0.0.1|   6669|Follower|\n|       2|  DataRegion|Running|root.sg2|          1|        1|         1| 127.0.0.1|   6667|  Leader|\n|       2|  DataRegion|Running|root.sg2|          1|        1|         2| 127.0.0.1|   6668|Follower|\n|       2|  DataRegion|Running|root.sg2|          1|        1|         3| 127.0.0.1|   6669|Follower|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\nTotal line number = 6\nIt costs 0.011s\n\nIoTDB> show schema regions\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|RegionId|        Type| Status|Database|SeriesSlots|TimeSlots|DataNodeId|RpcAddress|RpcPort|    Role|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         1| 127.0.0.1|   6667|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         2| 127.0.0.1|   6668|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         3| 127.0.0.1|   6669|  Leader|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         1| 127.0.0.1|   6667|Follower|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         2| 127.0.0.1|   6668|  Leader|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         3| 127.0.0.1|   6669|Follower|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\nTotal line number = 6\nIt costs 0.012s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br")])]),s("p",[n._v("展示指定数据库 <sg1,sg2,...> 对应的 Region 分布：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show regions of database root.sg1\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|RegionId|        Type| Status|Database|SeriesSlots|TimeSlots|DataNodeId|RpcAddress|RpcPort|    Role|\n+--------+------------+-------+-- -----+-----------+---------+----------+----------+-------+--------+\n|       0|  DataRegion|Running|root.sg1|          1|        1|         1| 127.0.0.1|   6667|Follower|\n|       0|  DataRegion|Running|root.sg1|          1|        1|         2| 127.0.0.1|   6668|  Leader|\n|       0|  DataRegion|Running|root.sg1|          1|        1|         3| 127.0.0.1|   6669|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         1| 127.0.0.1|   6667|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         2| 127.0.0.1|   6668|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         3| 127.0.0.1|   6669|  Leader|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\nTotal line number = 6\nIt costs 0.007s\n\nIoTDB> show regions of database root.sg1, root.sg2\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|RegionId|        Type| Status|Database|SeriesSlots|TimeSlots|DataNodeId|RpcAddress|RpcPort|    Role|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|       0|  DataRegion|Running|root.sg1|          1|        1|         1| 127.0.0.1|   6667|Follower|\n|       0|  DataRegion|Running|root.sg1|          1|        1|         2| 127.0.0.1|   6668|  Leader|\n|       0|  DataRegion|Running|root.sg1|          1|        1|         3| 127.0.0.1|   6669|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         1| 127.0.0.1|   6667|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         2| 127.0.0.1|   6668|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         3| 127.0.0.1|   6669|  Leader|\n|       2|  DataRegion|Running|root.sg2|          1|        1|         1| 127.0.0.1|   6667|  Leader|\n|       2|  DataRegion|Running|root.sg2|          1|        1|         2| 127.0.0.1|   6668|Follower|\n|       2|  DataRegion|Running|root.sg2|          1|        1|         3| 127.0.0.1|   6669|Follower|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         1| 127.0.0.1|   6667|Follower|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         2| 127.0.0.1|   6668|  Leader|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         3| 127.0.0.1|   6669|Follower|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\nTotal line number = 12\nIt costs 0.009s\n\nIoTDB> show data regions of database root.sg1, root.sg2\n+--------+----------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|RegionId|      Type| Status|Database|SeriesSlots|TimeSlots|DataNodeId|RpcAddress|RpcPort|    Role|\n+--------+----------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|       0|DataRegion|Running|root.sg1|          1|        1|         1| 127.0.0.1|   6667|Follower|\n|       0|DataRegion|Running|root.sg1|          1|        1|         2| 127.0.0.1|   6668|  Leader|\n|       0|DataRegion|Running|root.sg1|          1|        1|         3| 127.0.0.1|   6669|Follower|\n|       2|DataRegion|Running|root.sg2|          1|        1|         1| 127.0.0.1|   6667|  Leader|\n|       2|DataRegion|Running|root.sg2|          1|        1|         2| 127.0.0.1|   6668|Follower|\n|       2|DataRegion|Running|root.sg2|          1|        1|         3| 127.0.0.1|   6669|Follower|\n+--------+----------+-------+--------+-----------+---------+----------+----------+-------+--------+\nTotal line number = 6\nIt costs 0.007s\n\nIoTDB> show schema regions of database root.sg1, root.sg2\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|RegionId|        Type| Status|Database|SeriesSlots|TimeSlots|DataNodeId|RpcAddress|RpcPort|    Role|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         1| 127.0.0.1|   6667|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         2| 127.0.0.1|   6668|Follower|\n|       1|SchemaRegion|Running|root.sg1|          1|        0|         3| 127.0.0.1|   6669|  Leader|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         1| 127.0.0.1|   6667|Follower|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         2| 127.0.0.1|   6668|  Leader|\n|       3|SchemaRegion|Running|root.sg2|          1|        0|         3| 127.0.0.1|   6669|Follower|\n+--------+------------+-------+--------+-----------+---------+----------+----------+-------+--------+\nTotal line number = 6\nIt costs 0.009s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br")])]),s("h3",{attrs:{id:"region-状态定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#region-状态定义"}},[n._v("#")]),n._v(" Region 状态定义")]),n._v(" "),s("p",[n._v("Region 继承所在 DataNode 的状态，对 Region 各状态定义如下：")]),n._v(" "),s("ul",[s("li",[s("strong",[n._v("Running")]),n._v(": Region 所在 DataNode 正常运行，Region 可读可写")]),n._v(" "),s("li",[s("strong",[n._v("Unknown")]),n._v(": Region 所在 DataNode 未正常上报心跳，ConfigNode 认为该 Region 不可读写")]),n._v(" "),s("li",[s("strong",[n._v("Removing")]),n._v(": Region 所在 DataNode 正在被移出集群，Region 不可读写")]),n._v(" "),s("li",[s("strong",[n._v("ReadOnly")]),n._v(": Region 所在 DataNode 的磁盘剩余空间低于 disk_warning_threshold（默认 5%），Region 可读，但不能写入，不能同步数据")])]),n._v(" "),s("h2",{attrs:{id:"展示集群槽信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示集群槽信息"}},[n._v("#")]),n._v(" 展示集群槽信息")]),n._v(" "),s("p",[n._v("集群使用分区来管理元数据和数据，分区定义如下：")]),n._v(" "),s("ul",[s("li",[s("strong",[n._v("元数据分区")]),n._v("：序列槽")]),n._v(" "),s("li",[s("strong",[n._v("数据分区")]),n._v("：<序列槽，时间分区槽>")])]),n._v(" "),s("p",[n._v("可以使用以下 SQL 来查询分区对应信息：")]),n._v(" "),s("h3",{attrs:{id:"展示数据分区所在的-dataregion"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示数据分区所在的-dataregion"}},[n._v("#")]),n._v(" 展示数据分区所在的 DataRegion")]),n._v(" "),s("p",[n._v("展示一个数据分区（或一个序列槽下的所有数据分区）所在的 DataRegion:")]),n._v(" "),s("ul",[s("li",[s("code",[n._v("SHOW DATA REGIONID OF root.sg WHERE SERIESSLOTID=s0 (AND TIMESLOTID=t0)")])])]),n._v(" "),s("p",[n._v("其中，”SERIESSLOTID=s0”可以被替换为”DEVICEID=xxx.xx.xx“. 这样的话，sql会自动计算对应该设备id的序列槽。")]),n._v(" "),s("p",[n._v('同样的，"TIMESLOTID=t0"也可以被替换为"TIMESTAMP=t1"。这样，SQL会计算该时间戳对应的时间槽，也就是时间段包含该时间戳的时间槽。')]),n._v(" "),s("p",[n._v("示例:")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show data regionid of root.sg where seriesslotid=5286 and timeslotid=0\n+--------+\n|RegionId|\n+--------+\n|       1|\n+--------+\nTotal line number = 1\nIt costs 0.006s\n\nIoTDB> show data regionid of root.sg where seriesslotid=5286\n+--------+\n|RegionId|\n+--------+\n|       1|\n|       2|\n+--------+\nTotal line number = 2\nIt costs 0.006s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br")])]),s("h3",{attrs:{id:"展示元数据分区所在的-schemaregion"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示元数据分区所在的-schemaregion"}},[n._v("#")]),n._v(" 展示元数据分区所在的 SchemaRegion")]),n._v(" "),s("p",[n._v("展示一个元数据分区所在的 SchemaRegion：")]),n._v(" "),s("ul",[s("li",[s("code",[n._v("SHOW SCHEMA REGIONID OF root.sg WHERE SERIESSLOTID=s0")])])]),n._v(" "),s("p",[n._v("同样的，”SERIESSLOTID“与”TIMESLOTID“依然是可替换的。")]),n._v(" "),s("p",[n._v("示例:")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show schema regionid of root.sg where seriesslotid=5286\n+--------+\n|RegionId|\n+--------+\n|       0|\n+--------+\nTotal line number = 1\nIt costs 0.007s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br")])]),s("h3",{attrs:{id:"展示序列槽下的时间槽"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示序列槽下的时间槽"}},[n._v("#")]),n._v(" 展示序列槽下的时间槽")]),n._v(" "),s("p",[n._v("展示一个序列槽下的所有时间槽：")]),n._v(" "),s("ul",[s("li",[s("code",[n._v("SHOW TIMESLOTID OF root.sg WHERE SERIESLOTID=s0 (AND STARTTIME=t1) (AND ENDTIME=t2)")])])]),n._v(" "),s("p",[n._v("示例:")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show timeslotid of root.sg where seriesslotid=5286\n+----------+\n|TimeSlotId|\n+----------+\n|         0|\n|      1000|\n+----------+\nTotal line number = 1\nIt costs 0.007s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br")])]),s("h3",{attrs:{id:"展示数据库的序列槽"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示数据库的序列槽"}},[n._v("#")]),n._v(" 展示数据库的序列槽")]),n._v(" "),s("p",[n._v("展示一个数据库内，数据，元数据或是所有的序列槽：")]),n._v(" "),s("ul",[s("li",[s("code",[n._v("SHOW (DATA|SCHEMA)? SERIESSLOTID OF root.sg")])])]),n._v(" "),s("p",[n._v("示例:")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> show data seriesslotid of root.sg\n+------------+\n|SeriesSlotId|\n+------------+\n|        5286|\n+------------+\nTotal line number = 1\nIt costs 0.007s\n\nIoTDB> show schema seriesslotid of root.sg\n+------------+\n|SeriesSlotId|\n+------------+\n|        5286|\n+------------+\nTotal line number = 1\nIt costs 0.006s\n\nIoTDB> show seriesslotid of root.sg\n+------------+\n|SeriesSlotId|\n+------------+\n|        5286|\n+------------+\nTotal line number = 1\nIt costs 0.006s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br")])]),s("h2",{attrs:{id:"迁移-region"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#迁移-region"}},[n._v("#")]),n._v(" 迁移 Region")]),n._v(" "),s("p",[n._v("以下 SQL 语句可以被用于手动迁移一个 region， 可用于负载均衡或其他目的。")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("MIGRATE REGION <Region-id> FROM <original-DataNodeId> TO <dest-DataNodeId>\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("示例:")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("IoTDB> SHOW REGIONS\n+--------+------------+-------+-------------+------------+----------+----------+----------+-------+--------+\n|RegionId|        Type| Status|     Database|SeriesSlotId|TimeSlotId|DataNodeId|RpcAddress|RpcPort|    Role|\n+--------+------------+-------+-------------+------------+----------+----------+----------+-------+--------+\n|       0|SchemaRegion|Running|root.test.g_0|         500|         0|         3| 127.0.0.1|   6670|  Leader|\n|       0|SchemaRegion|Running|root.test.g_0|         500|         0|         4| 127.0.0.1|   6681|Follower|\n|       0|SchemaRegion|Running|root.test.g_0|         500|         0|         5| 127.0.0.1|   6668|Follower|\n|       1|  DataRegion|Running|root.test.g_0|         183|       200|         1| 127.0.0.1|   6667|Follower|\n|       1|  DataRegion|Running|root.test.g_0|         183|       200|         3| 127.0.0.1|   6670|Follower|\n|       1|  DataRegion|Running|root.test.g_0|         183|       200|         7| 127.0.0.1|   6669|  Leader|\n|       2|  DataRegion|Running|root.test.g_0|         181|       200|         3| 127.0.0.1|   6670|  Leader|\n|       2|  DataRegion|Running|root.test.g_0|         181|       200|         4| 127.0.0.1|   6681|Follower|\n|       2|  DataRegion|Running|root.test.g_0|         181|       200|         5| 127.0.0.1|   6668|Follower|\n|       3|  DataRegion|Running|root.test.g_0|         180|       200|         1| 127.0.0.1|   6667|Follower|\n|       3|  DataRegion|Running|root.test.g_0|         180|       200|         5| 127.0.0.1|   6668|  Leader|\n|       3|  DataRegion|Running|root.test.g_0|         180|       200|         7| 127.0.0.1|   6669|Follower|\n|       4|  DataRegion|Running|root.test.g_0|         179|       200|         3| 127.0.0.1|   6670|Follower|\n|       4|  DataRegion|Running|root.test.g_0|         179|       200|         4| 127.0.0.1|   6681|  Leader|\n|       4|  DataRegion|Running|root.test.g_0|         179|       200|         7| 127.0.0.1|   6669|Follower|\n|       5|  DataRegion|Running|root.test.g_0|         179|       200|         1| 127.0.0.1|   6667|  Leader|\n|       5|  DataRegion|Running|root.test.g_0|         179|       200|         4| 127.0.0.1|   6681|Follower|\n|       5|  DataRegion|Running|root.test.g_0|         179|       200|         5| 127.0.0.1|   6668|Follower|\n+--------+------------+-------+-------------+------------+----------+----------+----------+-------+--------+\nTotal line number = 18\nIt costs 0.161s\n\nIoTDB> MIGRATE REGION 1 FROM 3 TO 4\nMsg: The statement is executed successfully.\n\nIoTDB> SHOW REGIONS\n+--------+------------+-------+-------------+------------+----------+----------+----------+-------+--------+\n|RegionId|        Type| Status|     Database|SeriesSlotId|TimeSlotId|DataNodeId|RpcAddress|RpcPort|    Role|\n+--------+------------+-------+-------------+------------+----------+----------+----------+-------+--------+\n|       0|SchemaRegion|Running|root.test.g_0|         500|         0|         3| 127.0.0.1|   6670|  Leader|\n|       0|SchemaRegion|Running|root.test.g_0|         500|         0|         4| 127.0.0.1|   6681|Follower|\n|       0|SchemaRegion|Running|root.test.g_0|         500|         0|         5| 127.0.0.1|   6668|Follower|\n|       1|  DataRegion|Running|root.test.g_0|         183|       200|         1| 127.0.0.1|   6667|Follower|\n|       1|  DataRegion|Running|root.test.g_0|         183|       200|         4| 127.0.0.1|   6681|Follower|\n|       1|  DataRegion|Running|root.test.g_0|         183|       200|         7| 127.0.0.1|   6669|  Leader|\n|       2|  DataRegion|Running|root.test.g_0|         181|       200|         3| 127.0.0.1|   6670|  Leader|\n|       2|  DataRegion|Running|root.test.g_0|         181|       200|         4| 127.0.0.1|   6681|Follower|\n|       2|  DataRegion|Running|root.test.g_0|         181|       200|         5| 127.0.0.1|   6668|Follower|\n|       3|  DataRegion|Running|root.test.g_0|         180|       200|         1| 127.0.0.1|   6667|Follower|\n|       3|  DataRegion|Running|root.test.g_0|         180|       200|         5| 127.0.0.1|   6668|  Leader|\n|       3|  DataRegion|Running|root.test.g_0|         180|       200|         7| 127.0.0.1|   6669|Follower|\n|       4|  DataRegion|Running|root.test.g_0|         179|       200|         3| 127.0.0.1|   6670|Follower|\n|       4|  DataRegion|Running|root.test.g_0|         179|       200|         4| 127.0.0.1|   6681|  Leader|\n|       4|  DataRegion|Running|root.test.g_0|         179|       200|         7| 127.0.0.1|   6669|Follower|\n|       5|  DataRegion|Running|root.test.g_0|         179|       200|         1| 127.0.0.1|   6667|  Leader|\n|       5|  DataRegion|Running|root.test.g_0|         179|       200|         4| 127.0.0.1|   6681|Follower|\n|       5|  DataRegion|Running|root.test.g_0|         179|       200|         5| 127.0.0.1|   6668|Follower|\n+--------+------------+-------+-------------+------------+----------+----------+----------+-------+--------+\nTotal line number = 18\nIt costs 0.165s\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br")])])])}),[],!1,null,null,null);s.default=t.exports}}]);