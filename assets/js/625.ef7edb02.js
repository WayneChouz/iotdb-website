(window.webpackJsonp=window.webpackJsonp||[]).push([[625],{1034:function(a,t,s){"use strict";s.r(t);var e=s(19),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"sql-命令行终端-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql-命令行终端-cli"}},[a._v("#")]),a._v(" SQL 命令行终端 (CLI)")]),a._v(" "),t("p",[a._v("IOTDB 为用户提供 cli/Shell 工具用于启动客户端和服务端程序。下面介绍每个 cli/Shell 工具的运行方式和相关参数。")]),a._v(" "),t("blockquote",[t("p",[a._v("$IOTDB_HOME 表示 IoTDB 的安装目录所在路径。")])]),a._v(" "),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("p",[a._v("在 iotdb 的根目录下执行")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" mvn clean package "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pl")]),a._v(" cli "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-am")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DskipTests")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v('在生成完毕之后，IoTDB 的 cli 工具位于文件夹"cli/target/iotdb-cli-{project.version}"中。')]),a._v(" "),t("h3",{attrs:{id:"运行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[a._v("#")]),a._v(" 运行")]),a._v(" "),t("h4",{attrs:{id:"cli-运行方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cli-运行方式"}},[a._v("#")]),a._v(" Cli 运行方式")]),a._v(" "),t("p",[a._v("安装后的 IoTDB 中有一个默认用户："),t("code",[a._v("root")]),a._v("，默认密码为"),t("code",[a._v("root")]),a._v("。用户可以使用该用户尝试运行 IoTDB 客户端以测试服务器是否正常启动。客户端启动脚本为$IOTDB_HOME/sbin 文件夹下的"),t("code",[a._v("start-cli")]),a._v("脚本。启动脚本时需要指定运行 IP 和 RPC PORT。以下为服务器在本机启动，且用户未更改运行端口号的示例，默认端口为 6667。若用户尝试连接远程服务器或更改了服务器运行的端口号，请在-h 和-p 项处使用服务器的 IP 和 RPC PORT。"),t("br"),a._v('\n用户也可以在启动脚本的最前方设置自己的环境变量，如 JAVA_HOME 等 （对于 linux 用户，脚本路径为："/sbin/start-cli.sh"； 对于 windows 用户，脚本路径为："/sbin/start-cli.bat")')]),a._v(" "),t("p",[a._v("Linux 系统与 MacOS 系统启动命令如下：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("Shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6667")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" root\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("Windows 系统启动命令如下：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("Shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" sbin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("start-cli.bat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6667")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" root\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("回车后即可成功启动客户端。启动后出现如图提示即为启动成功。")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(" _____       _________  ______   ______\n|_   _|     |  _   _  ||_   _ `.|_   _ \\\n  | |   .--.|_/ | | \\_|  | | `. \\ | |_) |\n  | | / .'`\\ \\  | |      | |  | | |  __'.\n _| |_| \\__. | _| |_    _| |_.' /_| |__) |\n|_____|'.__.' |_____|  |______.'|_______/  version <version>\n\nIoTDB> login successfully\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("p",[a._v("输入"),t("code",[a._v("quit")]),a._v("或"),t("code",[a._v("exit")]),a._v("可退出 cli 结束本次会话，cli 输出"),t("code",[a._v("quit normally")]),a._v("表示退出成功。")]),a._v(" "),t("h4",{attrs:{id:"cli-运行参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cli-运行参数"}},[a._v("#")]),a._v(" Cli 运行参数")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[a._v("参数名")]),a._v(" "),t("th",{staticStyle:{"text-align":"left"}},[a._v("参数类型")]),a._v(" "),t("th",{staticStyle:{"text-align":"left"}},[a._v("是否为必需参数")]),a._v(" "),t("th",{staticStyle:{"text-align":"left"}},[a._v("说明")]),a._v(" "),t("th",{staticStyle:{"text-align":"left"}},[a._v("例子")])])]),a._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[a._v("-disableISO8601")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("没有参数")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("否")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("如果设置了这个参数，IoTDB 将以数字的形式打印时间戳 (timestamp)。")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("-disableISO8601")])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[a._v("-h <"),t("code",[a._v("host")]),a._v(">")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("string 类型，不需要引号")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("是")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("IoTDB 客户端连接 IoTDB 服务器的 IP 地址。")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("-h 10.129.187.21")])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[a._v("-help")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("没有参数")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("否")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("打印 IoTDB 的帮助信息")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("-help")])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[a._v("-p <"),t("code",[a._v("rpcPort")]),a._v(">")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("int 类型")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("是")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("IoTDB 连接服务器的端口号，IoTDB 默认运行在 6667 端口。")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("-p 6667")])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[a._v("-pw <"),t("code",[a._v("password")]),a._v(">")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("string 类型，不需要引号")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("否")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("IoTDB 连接服务器所使用的密码。如果没有输入密码 IoTDB 会在 Cli 端提示输入密码。")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("-pw root")])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[a._v("-u <"),t("code",[a._v("username")]),a._v(">")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("string 类型，不需要引号")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("是")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("IoTDB 连接服务器锁使用的用户名。")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("-u root")])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[a._v("-maxPRC <"),t("code",[a._v("maxPrintRowCount")]),a._v(">")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("int 类型")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("否")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("设置 IoTDB 返回客户端命令行中所显示的最大行数。")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("-maxPRC 10")])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[a._v("-e <"),t("code",[a._v("execute")]),a._v(">")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("string 类型")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("否")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("在不进入客户端输入模式的情况下，批量操作 IoTDB")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v('-e "show storage group"')])]),a._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[a._v("-c")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("空")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("否")]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("如果服务器设置了 "),t("code",[a._v("rpc_thrift_compression_enable=true")]),a._v(", 则 CLI 必须使用 "),t("code",[a._v("-c")])]),a._v(" "),t("td",{staticStyle:{"text-align":"left"}},[a._v("-c")])])])]),a._v(" "),t("p",[a._v("下面展示一条客户端命令，功能是连接 IP 为 10.129.187.21 的主机，端口为 6667 ，用户名为 root，密码为 root，以数字的形式打印时间戳，IoTDB 命令行显示的最大行数为 10。")]),a._v(" "),t("p",[a._v("Linux 系统与 MacOS 系统启动命令如下：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("Shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.129")]),a._v(".187.21 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6667")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-disableISO8601")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-maxPRC")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("Windows 系统启动命令如下：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("Shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" sbin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("start-cli.bat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.129")]),a._v(".187.21 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6667")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-disableISO8601")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-maxPRC")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h4",{attrs:{id:"使用-openid-作为用户名认证登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-openid-作为用户名认证登录"}},[a._v("#")]),a._v(" 使用 OpenID 作为用户名认证登录")]),a._v(" "),t("p",[a._v("OpenID Connect (OIDC) 使用 keycloack 作为 OIDC 服务权限认证服务。")]),a._v(" "),t("h5",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),t("p",[a._v("配置位于 iotdb-engines.properties，设定 authorizer_provider_class 为 org.apache.iotdb.db.auth.authorizer.OpenIdAuthorizer 则开启了 openID 服务，默认情况下值为 org.apache.iotdb.db.auth.authorizer.LocalFileAuthorizer 表示没有开启 openID 服务。")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("authorizer_provider_class=org.apache.iotdb.db.auth.authorizer.OpenIdAuthorizer\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("如果开启了 openID 服务则 openID_url 为必填项，openID_url 值为 http://ip:port/auth/realms/{realmsName}")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("openID_url=http://127.0.0.1:8080/auth/realms/iotdb/\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h4",{attrs:{id:"keycloack-配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#keycloack-配置"}},[a._v("#")]),a._v(" keycloack 配置")]),a._v(" "),t("p",[a._v("1、下载 keycloack 程序，在 keycloack/bin 中启动 keycloack")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("Shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("cd bin\nShell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("./standalone.sh\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("2、使用 https://ip:port/auth 登陆 keycloack, 首次登陆需要创建用户")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/login_keycloak.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("3、点击 Administration Console 进入管理端")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/Administration%20Console.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("4、在左侧的 Master 菜单点击 add Realm, 输入 Name 创建一个新的 Realm")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/add%20Realm_1.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/add%20Realm_2.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("5、点击左侧菜单 Clients，创建 client")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/client.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("6、点击左侧菜单 User，创建 user")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/user.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("7、点击新创建的用户 id，点击 Credentials 导航输入密码和关闭 Temporary 选项，至此 keyclork 配置完成")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/pwd.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("8、创建角色，点击左侧菜单的 Roles然后点击Add Role 按钮添加角色")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/add_role1.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("9、在Role Name 中输入"),t("code",[a._v("iotdb_admin")]),a._v("，点击save 按钮。提示：这里的"),t("code",[a._v("iotdb_admin")]),a._v("不能为其他名称否则即使登陆成功后也将无权限使用iotdb的查询、插入、创建存储组、添加用户、角色等功能")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/add_role2.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("10、点击左侧的User 菜单然后点击用户列表中的Edit的按钮为该用户添加我们刚创建的"),t("code",[a._v("iotdb_admin")]),a._v("角色")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/add_role3.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("11、选择Role Mappings ，在Available Role选择"),t("code",[a._v("iotdb_admin")]),a._v("角色然后点Add selected 按钮添加角色")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/add_role4.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("12、如果"),t("code",[a._v("iotdb_admin")]),a._v("角色在Assigned Roles中并且出现"),t("code",[a._v("Success Role mappings updated")]),a._v("提示，证明角色添加成功")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/apache/iotdb-bin-resources/blob/main/docs/UserGuide/CLI/Command-Line-Interface/add_role5.png?raw=true",alt:"avatar"}})]),a._v(" "),t("p",[a._v("提示：如果用户角色有调整需要重新生成token并且重新登陆iotdb才会生效")]),a._v(" "),t("p",[a._v("以上步骤提供了一种 keycloak 登陆 iotdb 方式，更多方式请参考 keycloak 配置")]),a._v(" "),t("p",[a._v("若对应的 IoTDB 服务器开启了使用 OpenID Connect (OIDC) 作为权限认证服务，那么就不再需要使用用户名密码进行登录。\n替而代之的是使用 Token，以及空密码。\n此时，登录命令如下：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("Shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.129")]),a._v(".187.21 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6667")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("my-access-token"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("其中，需要将{my-access-token} （注意，包括{}）替换成你的 token，即 access_token 对应的值。")]),a._v(" "),t("p",[a._v("如何获取 token 取决于你的 OIDC 设置。 最简单的一种情况是使用"),t("code",[a._v("password-grant")]),a._v("。例如，假设你在用 keycloack 作为你的 OIDC 服务，\n并且你在 keycloack 中有一个被定义成 public 的"),t("code",[a._v("iotdb")]),a._v("客户的 realm，那么你可以使用如下"),t("code",[a._v("curl")]),a._v("命令获得 token。\n（注意例子中的{}和里面的内容需要替换成具体的服务器地址和 realm 名字）：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://{your-keycloack-server}/auth/realms/{your-realm}/protocol/openid-connect/token"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Content-Type: application/x-www-form-urlencoded"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"username={username}"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"password={password}"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'grant_type=password'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"client_id=iotdb-client"')]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("p",[a._v("示例结果如下：")]),a._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"access_token"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJxMS1XbTBvelE1TzBtUUg4LVNKYXAyWmNONE1tdWNXd25RV0tZeFpKNG93In0.eyJleHAiOjE1OTAzOTgwNzEsImlhdCI6MTU5MDM5Nzc3MSwianRpIjoiNjA0ZmYxMDctN2NiNy00NTRmLWIwYmQtY2M2ZDQwMjFiNGU4IiwiaXNzIjoiaHR0cDovL2F1dGguZGVtby5wcmFnbWF0aWNpbmR1c3RyaWVzLmRlL2F1dGgvcmVhbG1zL0lvVERCIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImJhMzJlNDcxLWM3NzItNGIzMy04ZGE2LTZmZThhY2RhMDA3MyIsInR5cCI6IkJlYXJlciIsImF6cCI6ImlvdGRiIiwic2Vzc2lvbl9zdGF0ZSI6IjA2MGQyODYyLTE0ZWQtNDJmZS1iYWY3LThkMWY3ODQ2NTdmMSIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsibG9jYWxob3N0OjgwODAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJpb3RkYl9hZG1pbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJ1c2VyIn0.nwbrJkWdCNjzFrTDwKNuV5h9dDMg5ytRKGOXmFIajpfsbOutJytjWTCB2WpA8E1YI3KM6gU6Jx7cd7u0oPo5syHhfCz119n_wBiDnyTZkFOAPsx0M2z20kvBLN9k36_VfuCMFUeddJjO31MeLTmxB0UKg2VkxdczmzMH3pnalhxqpnWWk3GnrRrhAf2sZog0foH4Ae3Ks0lYtYzaWK_Yo7E4Px42-gJpohy3JevOC44aJ4auzJR1RBj9LUbgcRinkBy0JLi6XXiYznSC2V485CSBHW3sseXn7pSXQADhnmGQrLfFGO5ZljmPO18eFJaimdjvgSChsrlSEmTDDsoo5Q"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"expires_in"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("300")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"refresh_expires_in"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1800")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"refresh_token"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJhMzZlMGU0NC02MWNmLTQ5NmMtOGRlZi03NTkwNjQ5MzQzMjEifQ.eyJleHAiOjE1OTAzOTk1NzEsImlhdCI6MTU5MDM5Nzc3MSwianRpIjoiNmMxNTBiY2EtYmE5NC00NTgxLWEwODEtYjI2YzhhMmI5YmZmIiwiaXNzIjoiaHR0cDovL2F1dGguZGVtby5wcmFnbWF0aWNpbmR1c3RyaWVzLmRlL2F1dGgvcmVhbG1zL0lvVERCIiwiYXVkIjoiaHR0cDovL2F1dGguZGVtby5wcmFnbWF0aWNpbmR1c3RyaWVzLmRlL2F1dGgvcmVhbG1zL0lvVERCIiwic3ViIjoiYmEzMmU0NzEtYzc3Mi00YjMzLThkYTYtNmZlOGFjZGEwMDczIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImlvdGRiIiwic2Vzc2lvbl9zdGF0ZSI6IjA2MGQyODYyLTE0ZWQtNDJmZS1iYWY3LThkMWY3ODQ2NTdmMSIsInNjb3BlIjoiZW1haWwgcHJvZmlsZSJ9.ayNpXdNX28qahodX1zowrMGiUCw2AodlHBQFqr8Ui7c"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"token_type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"bearer"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"not-before-policy"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"session_state"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"060d2862-14ed-42fe-baf7-8d1f784657f1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"scope"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"email profile"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"cli-的批量操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cli-的批量操作"}},[a._v("#")]),a._v(" Cli 的批量操作")]),a._v(" "),t("p",[a._v("当您想要通过脚本的方式通过 Cli / Shell 对 IoTDB 进行批量操作时，可以使用-e 参数。通过使用该参数，您可以在不进入客户端输入模式的情况下操作 IoTDB。")]),a._v(" "),t("p",[a._v("为了避免 SQL 语句和其他参数混淆，现在只支持-e 参数作为最后的参数使用。")]),a._v(" "),t("p",[a._v("针对 cli/Shell 工具的-e 参数用法如下：")]),a._v(" "),t("p",[a._v("Linux 系统与 MacOS 指令：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("Shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("host"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("rpcPort"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("password"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("sql "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" iotdb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("Windows 系统指令")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("Shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" sbin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("start-cli.bat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("host"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("rpcPort"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("password"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("sql "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" iotdb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("在 Windows 环境下，-e 参数的 SQL 语句需要使用"),t("code",[a._v("``")]),a._v("对于"),t("code",[a._v('" "')]),a._v("进行替换")]),a._v(" "),t("p",[a._v("为了更好的解释-e 参数的使用，可以参考下面在 Linux 上执行的例子。")]),a._v(" "),t("p",[a._v("假设用户希望对一个新启动的 IoTDB 进行如下操作：")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("创建名为 root.demo 的存储组")])]),a._v(" "),t("li",[t("p",[a._v("创建名为 root.demo.s1 的时间序列")])]),a._v(" "),t("li",[t("p",[a._v("向创建的时间序列中插入三个数据点")])]),a._v(" "),t("li",[t("p",[a._v("查询验证数据是否插入成功")])])]),a._v(" "),t("p",[a._v("那么通过使用 cli/Shell 工具的 -e 参数，可以采用如下的脚本：")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# !/bin/bash")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("rpcPort")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6667")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("pass")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root\n\n./sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${host}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${rpcPort}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${user}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${pass}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"set storage group to root.demo"')]),a._v("\n./sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${host}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${rpcPort}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${user}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${pass}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"create timeseries root.demo.s1 WITH DATATYPE=INT32, ENCODING=RLE"')]),a._v("\n./sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${host}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${rpcPort}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${user}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${pass}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"insert into root.demo(timestamp,s1) values(1,10)"')]),a._v("\n./sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${host}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${rpcPort}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${user}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${pass}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"insert into root.demo(timestamp,s1) values(2,11)"')]),a._v("\n./sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${host}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${rpcPort}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${user}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${pass}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"insert into root.demo(timestamp,s1) values(3,12)"')]),a._v("\n./sbin/start-cli.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${host}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${rpcPort}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${user}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${pass}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"select s1 from root.demo"')]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br")])]),t("p",[a._v("打印出来的结果显示如下，通过这种方式进行的操作与客户端的输入模式以及通过 JDBC 进行操作结果是一致的。")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v(" Shell "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" ./shell.sh \n+-----------------------------+------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("                         Time"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("root.demo.s1"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n+-----------------------------+------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1970")]),a._v("-01-01T08:00:00.001+08:00"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("          "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1970")]),a._v("-01-01T08:00:00.002+08:00"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("          "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1970")]),a._v("-01-01T08:00:00.003+08:00"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("          "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("12")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n+-----------------------------+------------+\nTotal line number "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("\nIt costs "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(".267s\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br")])]),t("p",[a._v("需要特别注意的是，在脚本中使用 -e 参数时要对特殊字符进行转义。")])])}),[],!1,null,null,null);t.default=r.exports}}]);