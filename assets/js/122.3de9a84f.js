(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{660:function(e,t,s){"use strict";s.r(t);var a=s(19),r=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"query-alignment-mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#query-alignment-mode"}},[e._v("#")]),e._v(" Query Alignment Mode")]),e._v(" "),t("p",[e._v("In addition, IoTDB supports another result set format: "),t("code",[e._v("ALIGN BY DEVICE")]),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"align-by-device"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#align-by-device"}},[e._v("#")]),e._v(" align by device")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("ALIGN BY DEVICE")]),e._v(" indicates that the deviceId is considered as a column. Therefore, there are totally limited columns in the dataset.")]),e._v(" "),t("blockquote",[t("p",[e._v("NOTEï¼š")]),e._v(" "),t("p",[e._v("1.You can see the result of 'align by device' as one relational table, "),t("code",[e._v("Time + Device")]),e._v(" is the primary key of this Table.")]),e._v(" "),t("p",[e._v("2.The result is order by "),t("code",[e._v("Device")]),e._v(" firstly, and then by "),t("code",[e._v("Time")]),e._v(" order.")])]),e._v(" "),t("p",[e._v("The SQL statement is:")]),e._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("select")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("ln"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("where")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("time")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2017")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("11")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("01")]),e._v("T00:"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("01")]),e._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("00")]),e._v(" align "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("by")]),e._v(" device"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("The result shows below:")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("+-----------------------------+-----------------+-----------+------+--------+\n|                         Time|           Device|temperature|status|hardware|\n+-----------------------------+-----------------+-----------+------+--------+\n|2017-11-01T00:00:00.000+08:00|root.ln.wf01.wt01|      25.96|  true|    null|\n|2017-11-01T00:01:00.000+08:00|root.ln.wf01.wt01|      24.36|  true|    null|\n|1970-01-01T08:00:00.001+08:00|root.ln.wf02.wt02|       null|  true|      v1|\n|1970-01-01T08:00:00.002+08:00|root.ln.wf02.wt02|       null| false|      v2|\n|2017-11-01T00:00:00.000+08:00|root.ln.wf02.wt02|       null|  true|      v2|\n|2017-11-01T00:01:00.000+08:00|root.ln.wf02.wt02|       null|  true|      v2|\n+-----------------------------+-----------------+-----------+------+--------+\nTotal line number = 6\nIt costs 0.012s\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br")])]),t("h3",{attrs:{id:"ordering-in-align-by-device"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ordering-in-align-by-device"}},[e._v("#")]),e._v(" ordering in ALIGN BY DEVICE")]),e._v(" "),t("p",[e._v("ALIGN BY DEVICE mode arranges according to the device first, and sort each device in ascending order according to the timestamp. The ordering and priority can be adjusted through "),t("code",[e._v("ORDER BY")]),e._v(" clause.")]),e._v(" "),t("p",[e._v("For details and examples, see the document "),t("RouterLink",{attrs:{to:"/UserGuide/Master/Query-Data/Order-By.html"}},[e._v("Order By")]),e._v(".")],1)])}),[],!1,null,null,null);t.default=r.exports}}]);