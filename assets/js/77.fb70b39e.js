(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{479:function(a,t,e){"use strict";e.r(t);var s=e(30),n=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"iotdb-rewrite-tsfile-tool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iotdb-rewrite-tsfile-tool"}},[a._v("#")]),a._v(" IoTDB Rewrite-TsFile Tool")]),a._v(" "),t("h2",{attrs:{id:"introduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[a._v("#")]),a._v(" Introduction")]),a._v(" "),t("p",[a._v("The Rewrite-TsFile tool is used to write the data in TsFile to the running IoTDB.")]),a._v(" "),t("h2",{attrs:{id:"how-to-use"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use"}},[a._v("#")]),a._v(" How to use")]),a._v(" "),t("p",[a._v("Run rewrite-tsfile.bat if you are in a Windows environment, or rewrite-tsfile.sh if you are on Linux or Unix.")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./rewrite-tsfile.bat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" filePath "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-h host"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-help"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-p port"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-pw password"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" user\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" File or Dictionary to be loaded.\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" Host Name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("optional, default "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-help")]),a._v(" Display "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("help")]),a._v(" information"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("optional"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" Port "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("optional, default "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6667")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" password "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("optional"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" User name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("required"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("h2",{attrs:{id:"example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[a._v("#")]),a._v(" Example")]),a._v(" "),t("p",[a._v("Assuming that an IoTDB instance is running on server 192.168.0.101:6667, you want to load all TsFile files from the locally saved TsFile backup folder D:\\IoTDB\\data into this IoTDB instance.")]),a._v(" "),t("p",[a._v("First move to the folder where rewrite-tsfile.bat is located, open the command line, and execute")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./load-rewrite.bat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"D:\\IoTDB\\data"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.101 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6667")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pw")]),a._v(" root\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("After waiting for the script execution to complete, you can check that the data in the IoTDB instance has been loaded correctly.")]),a._v(" "),t("h2",{attrs:{id:"q-a"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q-a"}},[a._v("#")]),a._v(" Q&A")]),a._v(" "),t("ul",[t("li",[a._v("Cannot find or load the main class RewriteTsFileTool\n"),t("ul",[t("li",[a._v("It may be because the environment variable $IOTDB_HOME is not set, please set the environment variable and try again")])])]),a._v(" "),t("li",[a._v("Missing require argument: f or Missing require argument: u\n"),t("ul",[t("li",[a._v("The input command is missing the -f field (file or folder path to be loaded) or the -u field (user name), please add it and re-execute")])])]),a._v(" "),t("li",[a._v("What if the execution crashes in the middle and you want to reload?\n"),t("ul",[t("li",[a._v("The easiest way, you re-execute the command just now, reloading the data will not affect the correctness after loading")]),a._v(" "),t("li",[a._v("If you want to save time by avoiding reloading a file that has already been loaded, you can remove the TsFile that the last execution log shows has been loaded from the pending folder and reload that folder")])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);