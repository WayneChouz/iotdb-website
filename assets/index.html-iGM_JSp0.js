import{_ as i,c,b as t,d as a,e as n,a as l,f as e,r as p,o as d}from"./app-BYaFSWl1.js";const u={};function B(y,s){const o=p("font"),r=p("RouteLink");return d(),c("div",null,[s[39]||(s[39]=t(`<h1 id="发行版本" tabindex="-1"><a class="header-anchor" href="#发行版本"><span>发行版本</span></a></h1><table><tbody><tr><th>版本</th><th colspan="3">IoTDB 二进制包</th><th colspan="3">IoTDB 源代码</th><th>发布说明</th></tr><tr><td rowspan="2">1.3.3</td><td><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.3/apache-iotdb-1.3.3-all-bin.zip">All-in-one</a></td><td><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.3/apache-iotdb-1.3.3-all-bin.zip.sha512">SHA512</a></td><td><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.3/apache-iotdb-1.3.3-all-bin.zip.asc">ASC</a></td><td rowspan="2"><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.3/apache-iotdb-1.3.3-source-release.zip">源代码</a></td><td rowspan="2"><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.3/apache-iotdb-1.3.3-source-release.zip.sha512">SHA512</a></td><td rowspan="2"><a href="https://www.apache.org/dyn/closer.cgi/1.3.3/apache-iotdb-1.3.3-source-release.zip.asc">ASC</a></td><td rowspan="2"><a href="https://dlcdn.apache.org/iotdb/1.3.3/RELEASE_NOTES.md">release notes</a></td></tr><tr><td><a href="https://archive.apache.org/dist/iotdb/1.3.3/apache-iotdb-1.3.3-ainode-bin.zip">AINode</a></td><td><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.3/apache-iotdb-1.3.3-ainode-bin.zip.sha512">SHA512</a></td><td><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.3/apache-iotdb-1.3.3-ainode-bin.zip.asc">ASC</a></td></tr><tr><td rowspan="1">1.3.2</td><td><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.2/apache-iotdb-1.3.2-all-bin.zip">All-in-one</a></td><td><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.2/apache-iotdb-1.3.2-all-bin.zip.sha512">SHA512</a></td><td><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.2/apache-iotdb-1.3.2-all-bin.zip.asc">ASC</a></td><td rowspan="1"><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.2/apache-iotdb-1.3.2-source-release.zip">源代码</a></td><td rowspan="1"><a href="https://www.apache.org/dyn/closer.cgi/iotdb/1.3.2/apache-iotdb-1.3.2-source-release.zip.sha512">SHA512</a></td><td rowspan="1"><a href="https://www.apache.org/dyn/closer.cgi/1.3.2/apache-iotdb-1.3.2-source-release.zip.asc">ASC</a></td><td rowspan="1"><a href="https://raw.githubusercontent.com/apache/iotdb/rc/1.3.2/RELEASE_NOTES.md">release notes</a></td></tr><tr><td rowspan="3">0.13.4</td><td><a href="https://dlcdn.apache.org/iotdb/0.13.4/apache-iotdb-0.13.4-all-bin.zip">All-in-one</a></td><td><a href="https://dlcdn.apache.org/iotdb/0.13.4/apache-iotdb-0.13.4-all-bin.zip.sha512">SHA512</a></td><td><a href="https://dlcdn.apache.org/iotdb/0.13.4/apache-iotdb-0.13.4-all-bin.zip.asc">ASC</a></td><td rowspan="3"><a href="https://dlcdn.apache.org/iotdb/0.13.4/apache-iotdb-0.13.4-source-release.zip">源代码</a></td><td rowspan="3"><a href="https://dlcdn.apache.org/iotdb/0.13.4/apache-iotdb-0.13.4-source-release.zip.sha512">SHA512</a></td><td rowspan="3"><a href="https://dlcdn.apache.org/iotdb/0.13.4/apache-iotdb-0.13.4-source-release.zip.asc">ASC</a></td><td rowspan="3"><a href="https://archive.apache.org/dist/iotdb/0.13.4/RELEASE_NOTES.md">release notes</a></td></tr><tr><td><a href="https://dlcdn.apache.org/iotdb/0.13.4/apache-iotdb-0.13.4-grafana-connector-bin.zip">Grafana 连接器</a></td><td><a href="https://dlcdn.apache.org/iotdb/0.13.4/apache-iotdb-0.13.4-grafana-connector-bin.zip.sha512">SHA512</a></td><td><a href="https://dlcdn.apache.org/iotdb/0.13.4/apache-iotdb-0.13.4-grafana-connector-bin.zip.asc">ASC</a></td></tr><tr><td><a href="https://www.apache.org/dyn/closer.cgi/iotdb/0.13.3/apache-iotdb-0.13.3-grafana-plugin-bin.zip">Grafana 插件</a></td><td><a href="https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-grafana-plugin-bin.zip.sha512">SHA512</a></td><td><a href="https://downloads.apache.org/iotdb/0.13.3/apache-iotdb-0.13.3-grafana-plugin-bin.zip.asc">ASC</a></td></tr></tbody></table><p>历史版本下载：<a href="https://archive.apache.org/dist/iotdb/" target="_blank" rel="noopener noreferrer">https://archive.apache.org/dist/iotdb/</a></p><h2 id="环境配置" tabindex="-1"><a class="header-anchor" href="#环境配置"><span>环境配置</span></a></h2><ul><li>推荐修改的操作系统参数 <ul><li>将 somaxconn 设置为 65535 以避免系统在高负载时出现 &quot;connection reset&quot; 错误。<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span># Linux</span></span>
<span class="line"><span>&gt; sudo sysctl -w net.core.somaxconn=65535</span></span>
<span class="line"><span> </span></span>
<span class="line"><span># FreeBSD or Darwin</span></span>
<span class="line"><span>&gt; sudo sysctl -w kern.ipc.somaxconn=65535</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h2 id="关于-version-1-0" tabindex="-1"><a class="header-anchor" href="#关于-version-1-0"><span>关于 Version 1.0</span></a></h2><ul><li><p>如何从 v0.13.x 升级到 v1.0.x?</p><ul><li><strong>1.0版本进行了 SQL 语法约定的改动（请参考用户手册语法约定章节）,不兼容之处可以参考下方1.0 版本不兼容的语法详细说明</strong>。</li><li>为了保证 UDF 相关 API 的稳定性，1.0 版本中 UDF 相关 API 被独立为一个单独的 module，不再依赖 tsfile 包，已经实现的 UDF 需要改写代码，将 <code>TsDataType</code> 替换为 <code>Type</code>，将 <code>org.apache.iotdb.tsfile.utils.Binary</code> 替换成 <code>org.apache.iotdb.udf.api.type.Binary</code>，并重新进行打包装载流程。</li></ul></li></ul><h3 id="_1-0-版本不兼容的语法详细说明" tabindex="-1"><a class="header-anchor" href="#_1-0-版本不兼容的语法详细说明"><span>1.0 版本不兼容的语法详细说明</span></a></h3><p>在之前版本的语法约定中，为了保持兼容性，我们引入了一些会引起歧义的规定。为了避免歧义，我们设计了新的语法约定，本章将说明旧语法约定中存在的问题，以及我们做出改动的原因。</p><h4 id="标识符限制增强" tabindex="-1"><a class="header-anchor" href="#标识符限制增强"><span>标识符限制增强</span></a></h4><p>在0.13及之前版本中，不使用反引号引用的标识符（包括路径结点）允许为实数（实数路径名在 <code>SELECT</code> 子句中需要用反引号括起），且允许包含部分特殊字符，<strong>在 1.0 版本中，不使用反引号引用的标识符不允许为实数，不使用反引号引用的标识符，只允许包含字母、中文字符、下划线。</strong></p><h4 id="路径名使用的相关问题" tabindex="-1"><a class="header-anchor" href="#路径名使用的相关问题"><span>路径名使用的相关问题</span></a></h4><p>在旧语法约定中，什么时候需要给路径结点名添加引号，用单双引号还是反引号的规则较为复杂，在新的语法约定中我们做了统一，具体可以参考本文档的相关章节。</p><h5 id="单双引号和反引号的使用时机" tabindex="-1"><a class="header-anchor" href="#单双引号和反引号的使用时机"><span>单双引号和反引号的使用时机</span></a></h5><p>在之前的语法约定中，路径结点名被定义成标识符，但是当需要在路径结点名中使用路径分隔符 . 时，需要使用单引号或者双引号引用。这与标识符使用反引号引用的规则相悖。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;"># 在之前的语法约定中，如果需要创建时间序列 </span><span style="color:#D19A66;">root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">.</span><span style="color:#98C379;">\`www.baidu.com\`</span><span style="color:#ABB2BF;">，需要使用下述语句：</span></span>
<span class="line"><span style="color:#C678DD;">create</span><span style="color:#D19A66;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">.</span><span style="color:#98C379;">&#39;www.baidu.com&#39;</span><span style="color:#C678DD;"> with</span><span style="color:#ABB2BF;"> datatype</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">BOOLEAN</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">encoding</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">PLAIN</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;"># 该语句创建的时间序列实际为 </span><span style="color:#D19A66;">root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">.</span><span style="color:#98C379;">&#39;www.baidu.com&#39;</span><span style="color:#ABB2BF;">，即引号一并存入,该时间序列的三个结点为{</span><span style="color:#98C379;">&quot;root&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&quot;sg&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&quot;&#39;www.baidu.com&#39;&quot;</span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;"># 在查询语句中，如果希望查询该时间序列的数据，查询语句如下：</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#98C379;"> &#39;www.baidu.com&#39;</span><span style="color:#C678DD;"> from</span><span style="color:#D19A66;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>而在 1.0 版本的语法约定中，特殊路径结点名统一使用反引号引用：</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;"># 在现有语法约定中，如果需要创建时间序列 </span><span style="color:#D19A66;">root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">.</span><span style="color:#98C379;">\`www.baidu.com\`</span><span style="color:#ABB2BF;">，语法如下：</span></span>
<span class="line"><span style="color:#C678DD;">create</span><span style="color:#D19A66;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">.</span><span style="color:#98C379;">\`www.baidu.com\`</span><span style="color:#C678DD;"> with</span><span style="color:#ABB2BF;"> datatype </span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;"> BOOLEAN</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">encoding</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> PLAIN</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;"># 查询该时间序列可以通过如下语句：</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#98C379;"> \`www.baidu.com\`</span><span style="color:#C678DD;"> from</span><span style="color:#D19A66;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="路径结点名内部使用引号的问题" tabindex="-1"><a class="header-anchor" href="#路径结点名内部使用引号的问题"><span>路径结点名内部使用引号的问题</span></a></h5><p>在旧语法约定中，在路径结点名中使用单引号 &#39; 和 双引号 &quot; 时，需要使用反斜杠 \\ 进行转义，且反斜杠会被视为路径结点名的一部分存入，而在使用其它标识符时没有这个限制，造成了不统一。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;"># 创建时间序列 </span><span style="color:#D19A66;">root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">.\\</span><span style="color:#98C379;">&quot;a</span></span>
<span class="line"><span style="color:#98C379;">create timeseries root.sg.\`\\&quot;</span><span style="color:#ABB2BF;">a</span><span style="color:#98C379;">\` with datatype=TEXT,encoding=PLAIN;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;"># 查询时间序列 root.sg.</span><span style="color:#56B6C2;">\\&quot;</span><span style="color:#98C379;">a</span></span>
<span class="line"><span style="color:#98C379;">select \`</span><span style="color:#ABB2BF;">\\</span><span style="color:#98C379;">&quot;a\` from root.sg;</span></span>
<span class="line"><span style="color:#98C379;">+-----------------------------+-----------+</span></span>
<span class="line"><span style="color:#98C379;">|                         Time|root.sg.\\&quot;</span><span style="color:#ABB2BF;">a|</span></span>
<span class="line"><span style="color:#ABB2BF;">+</span><span style="color:#7F848E;font-style:italic;">-----------------------------+-----------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">1970</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">01</span><span style="color:#ABB2BF;">-01T08:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">004</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|       test|</span></span>
<span class="line"><span style="color:#ABB2BF;">+</span><span style="color:#7F848E;font-style:italic;">-----------------------------+-----------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>在新语法约定中，特殊路径结点名统一使用反引号进行引用</strong>，在路径结点名中使用单双引号无须添加反斜杠转义，使用反引号需要双写，具体可以参考新语法约定路径结点名章节。</p><h4 id="session-接口相关" tabindex="-1"><a class="header-anchor" href="#session-接口相关"><span>Session 接口相关</span></a></h4><h5 id="session-接口语法限制" tabindex="-1"><a class="header-anchor" href="#session-接口语法限制"><span>Session 接口语法限制</span></a></h5><p>在0.13版本中，对于非SQL接口中使用路径结点的限制如下：</p><ul><li>经参数传入的路径或路径前缀中的节点： <ul><li>在 SQL 语句中需要使用反引号（\`）进行转义的，此处均不需要进行转义。</li><li>使用单引号或双引号括起的节点，仍需要使用单引号或双引号括起，并且要针对 JAVA 字符串进行反转义。</li><li>对于 <code>checkTimeseriesExists</code> 接口，由于内部调用了 IoTDB-SQL 接口，因此需要和 SQL 语法规范保持一致，并且针对 JAVA 字符串进行反转义。</li></ul></li></ul><p><strong>1.0 版本中，对非SQL接口中使用路径结点的限制增强：</strong></p><ul><li><p><strong>经参数传入的路径或路径前缀中的节点： 在 SQL 语句中需要使用反引号（\`）进行转义的，均需要使用反引号进行转义。</strong></p></li><li><p><strong>语法说明相关代码示例可以参考：</strong><code>example/session/src/main/java/org/apache/iotdb/SyntaxConventionRelatedExample.java</code></p></li></ul><h5 id="sql和session接口对字符串反转义处理不一致" tabindex="-1"><a class="header-anchor" href="#sql和session接口对字符串反转义处理不一致"><span>SQL和Session接口对字符串反转义处理不一致</span></a></h5><p><strong>在之前版本中，使用字符串时，SQL 和 Session 接口存在不一致的情况</strong>。比如使用 SQL 插入 Text 类型数据时，会对字符串进行反转义处理，而使用 Session 接口时不会进行这样的处理，存在不一致。<strong>在新的语法约定中，我们统一不对字符串做反转义处理，存入什么内容，在查询时就会得到什么内容(字符串内部使用单双引号的规则可以参考本文档字符串常量章节)。</strong></p><p><strong>下面是旧语法约定中不一致的例子：</strong></p><p>使用 Session 的 insertRecord 方法向时序 root.sg.a 中插入数据</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// session 插入</span></span>
<span class="line"><span style="color:#E5C07B;">String</span><span style="color:#E06C75;"> deviceId </span><span style="color:#56B6C2;">=</span><span style="color:#98C379;"> &quot;root.sg&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">List</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">String</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#E06C75;"> measurements </span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;"> new</span><span style="color:#E5C07B;"> ArrayList</span><span style="color:#ABB2BF;">&lt;&gt;</span><span style="color:#E06C75;">()</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">measurements</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">String</span><span style="color:#E06C75;">[] values </span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;"> new</span><span style="color:#E5C07B;"> String</span><span style="color:#E06C75;">[]{</span><span style="color:#98C379;">&quot;</span><span style="color:#56B6C2;">\\\\\\\\</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;"> &quot;</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">t&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;"> &quot;</span><span style="color:#56B6C2;">\\\\\\&quot;</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;"> &quot;</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">u96d5&quot;</span><span style="color:#E06C75;">}</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#E06C75;">(</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> i </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span><span style="color:#E06C75;"> i </span><span style="color:#56B6C2;">&lt;=</span><span style="color:#E5C07B;"> values</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">length</span><span style="color:#ABB2BF;">;</span><span style="color:#E06C75;"> i</span><span style="color:#ABB2BF;">++</span><span style="color:#E06C75;">){</span></span>
<span class="line"><span style="color:#E5C07B;">  List</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">String</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#E06C75;"> valueList </span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;"> new</span><span style="color:#E5C07B;"> ArrayList</span><span style="color:#ABB2BF;">&lt;&gt;</span><span style="color:#E06C75;">()</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">  valueList</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(values[i]);</span></span>
<span class="line"><span style="color:#E5C07B;">  session</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">insertRecord</span><span style="color:#ABB2BF;">(deviceId, i </span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">, measurements, valueList);</span></span>
<span class="line"><span style="color:#E06C75;">  }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询 root.sg.a 的数据，可以看到没有做反转义处理：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span>// 查询结果</span></span>
<span class="line"><span>+-----------------------------+---------+</span></span>
<span class="line"><span>|                         Time|root.sg.a|</span></span>
<span class="line"><span>+-----------------------------+---------+</span></span>
<span class="line"><span>|1970-01-01T08:00:00.001+08:00|       \\\\|</span></span>
<span class="line"><span>|1970-01-01T08:00:00.002+08:00|       \\t|</span></span>
<span class="line"><span>|1970-01-01T08:00:00.003+08:00|       \\&quot;|</span></span>
<span class="line"><span>|1970-01-01T08:00:00.004+08:00|   \\u96d5|</span></span>
<span class="line"><span>+-----------------------------+---------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而使用 SQL 向 root.sg.a 中插入数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;"># </span><span style="color:#C678DD;">SQL</span><span style="color:#ABB2BF;"> 插入</span></span>
<span class="line"><span style="color:#C678DD;">insert into</span><span style="color:#D19A66;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">time</span><span style="color:#ABB2BF;">, a) </span><span style="color:#C678DD;">values</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;\\\\&quot;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">insert into</span><span style="color:#D19A66;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">time</span><span style="color:#ABB2BF;">, a) </span><span style="color:#C678DD;">values</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;\\t&quot;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">insert into</span><span style="color:#D19A66;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sg</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">time</span><span style="color:#ABB2BF;">, a) </span><span style="color:#C678DD;">values</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;\\&quot;&quot;)</span></span>
<span class="line"><span style="color:#98C379;">insert into root.sg(time, a) values(4, &quot;</span><span style="color:#ABB2BF;">\\u96d5</span><span style="color:#98C379;">&quot;)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询 root.sg.a 的数据，可以看到字符串进行了反转义：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span>// 查询结果</span></span>
<span class="line"><span>+-----------------------------+---------+</span></span>
<span class="line"><span>|                         Time|root.sg.a|</span></span>
<span class="line"><span>+-----------------------------+---------+</span></span>
<span class="line"><span>|1970-01-01T08:00:00.001+08:00|        \\|</span></span>
<span class="line"><span>|1970-01-01T08:00:00.002+08:00|         |</span></span>
<span class="line"><span>|1970-01-01T08:00:00.003+08:00|        &quot;|</span></span>
<span class="line"><span>|1970-01-01T08:00:00.004+08:00|       雕|</span></span>
<span class="line"><span>+-----------------------------+---------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="如何升级" tabindex="-1"><a class="header-anchor" href="#如何升级"><span>如何升级</span></a></h1>`,40)),a("ul",null,[s[36]||(s[36]=a("li",null,[a("p",null,"如何升级小版本 （例如，从 v0.12.4 to v0.12.5)?"),a("ul",null,[a("li",null,"同一个大版本下的多个小版本是互相兼容的。"),a("li",null,"只需要下载新的小版本， 然后修改其配置文件，使其与原有版本的设置一致。"),a("li",null,"停掉旧版本进程，启动新版本即可。")])],-1)),a("li",null,[s[6]||(s[6]=a("p",null,"如何从 v0.13.x 升级到 v1.0.x？",-1)),a("ul",null,[a("li",null,[s[2]||(s[2]=n("0.13版本与1.0版本的文件目录结构不同，")),a("strong",null,[l(o,{color:"red"},{default:e(()=>s[0]||(s[0]=[n("不能将0.13的data目录直接拷贝到1.0集群使用")])),_:1})]),s[3]||(s[3]=n("。如果需要将0.13的数据导入至1.0，可以使用")),l(r,{to:"/zh/UserGuide/latest/Tools-System/TsFile-Import-Export-Tool.html"},{default:e(()=>s[1]||(s[1]=[n("LOAD")])),_:1}),s[4]||(s[4]=n("功能;"))]),s[5]||(s[5]=a("li",null,[a("strong",null,"0.13版本的默认RPC地址是0.0.0.0，1.0版本的默认RPC地址是127.0.0.1")],-1))])]),s[37]||(s[37]=a("li",null,[a("p",null,"如何从 v1.0.0 升级到 v1.x.0？"),a("ul",null,[a("li",null,"停止写入，下载新版本文件，将lib文件夹全部替换，重启即可")])],-1)),a("li",null,[s[17]||(s[17]=a("p",null,"如何从 v0.12.x 升级到 v0.13.x?",-1)),a("ul",null,[s[12]||(s[12]=a("li",null,"0.12 与 0.13 的数据文件格式兼容，但写前日志等格式不兼容，因此需要进行升级（但速度很快）：",-1)),a("li",null,[a("strong",null,[l(o,{color:"red"},{default:e(()=>s[7]||(s[7]=[n("在 0.12 的 CLI 中执行 "),a("code",null,"SET SYSTEM TO READONLY",-1),n(" 命令，并停止新数据的写入。")])),_:1})])]),s[13]||(s[13]=a("li",null,[n("在 CLI 执行 "),a("code",null,"flush"),n(" 命令，确保关闭所有的 TsFile 文件。")],-1)),s[14]||(s[14]=a("li",null,"我们推荐提前备份整个 data 目录，以备回滚。",-1)),a("li",null,[s[9]||(s[9]=n("下载最新 0.13 版本，解压并修改配置文件，尤其是 ")),a("strong",null,[l(o,{color:"red"},{default:e(()=>s[8]||(s[8]=[n("时间戳精度等首次启动后不可修改的配置参数 ")])),_:1})]),s[10]||(s[10]=n("。并将各数据目录都指向备份的或者 v0.12 原来使用的数据目录。"))]),s[15]||(s[15]=a("li",null,"停止 v0.12 的实例，启动 v0.13 的实例。",-1)),a("li",null,[a("strong",null,[l(o,{color:"red"},{default:e(()=>s[11]||(s[11]=[n("执行上述步骤后, 请确认"),a("code",null,"data/system/schema/system.properties",-1),n("文件中的 "),a("code",null,"iotdb_version",-1),n(" 是 "),a("code",null,"0.13.x",-1),n("."),a("br",null,null,-1),n(" 如果不是，请手动修改为"),a("code",null,"0.13.x",-1),n("。")])),_:1})])]),s[16]||(s[16]=t('<li><strong>注意：0.13 的配置文件进行了较大改动，因此不要直接将 0.12 的配置文件用于 0.13</strong></li><li><strong>0.13 进行了 SQL 语法的改动，不使用反引号括起的标识符中仅能包含如下字符，否则需要使用反引号括起。</strong><ul><li><strong>[0-9 a-z A-Z _ : @ # $ { }] （字母，数字，部分特殊字符）</strong></li><li><strong>[&#39;\\u2E80&#39;..&#39;\\u9FFF&#39;] （UNICODE 中文字符）</strong></li></ul></li><li><strong>0.13 中 <code>SELECT</code> 子句中路径结点名如果是实数，需要使用反引号引起，用于与表达式中的常数区分。如语句 &quot;select 123 + `123` from <a href="http://root.sg" target="_blank" rel="noopener noreferrer">root.sg</a>&quot;，前一个123表示常数，后一个 `123`会和 <a href="http://root.sg" target="_blank" rel="noopener noreferrer">root.sg</a> 拼接，表示路径 <a href="http://root.sg" target="_blank" rel="noopener noreferrer">root.sg</a>.`123`。</strong></li>',3))])]),a("li",null,[s[21]||(s[21]=a("p",null,"如何从 v0.11.x 或 v0.10.x 升级到 v0.12.x?",-1)),a("ul",null,[s[19]||(s[19]=a("li",null,"从 0.11 或 0.10 升级到 0.12 的过程与 v0.9 升级到 v0.10 类似，升级工具会自动进行数据文件的升级。",-1)),a("li",null,[a("strong",null,[l(o,{color:"red"},{default:e(()=>s[18]||(s[18]=[n("停掉旧版本新数据写入。")])),_:1})])]),s[20]||(s[20]=t("<li>用 CLI 调用<code>flush</code>，确保关闭所有的 TsFile 文件。</li><li>我们推荐提前备份数据文件（以及写前日志和 mlog 文件），以备回滚。</li><li>下载最新版，解压并修改配置文件。将各数据目录都指向备份的或者 v0.11 或 0.10 原来使用的数据目录。 把 0.11 中的其他修改都放到 0.12 中。</li><li>停止旧版本 IoTDB 的实例，启动 v0.12 的实例。IoTDB 将后台自动升级数据文件格式。在升级过程中数据可以进行查询和写入。 <ul><li>当日志中显示<code>All files upgraded successfully! </code> 后代表升级成功。</li><li><strong>注意 1：0.12 的配置文件进行了较大改动，因此不要直接将原本的配置文件用于 0.12</strong></li><li><strong>注意 2: 由于 0.12 不支持从 0.9 或者更低版本升级，如果需要升级，请先升级到 0.10 版本</strong></li><li><strong>注意 3: 在文件升级完成前，最好不要进行 delete 操作。如果删除某个 database 内的数据且该 database 内存在待升级文件，删除会失败。</strong></li></ul></li>",4))])]),a("li",null,[s[29]||(s[29]=a("p",null,"如何从 v0.10.x 升级到 v0.11.x?",-1)),a("ul",null,[s[23]||(s[23]=a("li",null,"0.10 与 0.11 的数据文件格式兼容，但写前日志等格式不兼容，因此需要进行升级（但速度很快）：",-1)),a("li",null,[a("strong",null,[l(o,{color:"red"},{default:e(()=>s[22]||(s[22]=[n("停掉 0.10 的新数据写入。")])),_:1})])]),s[24]||(s[24]=a("li",null,[n("用 CLI 调用"),a("code",null,"flush"),n("，确保关闭所有的 TsFile 文件。")],-1)),s[25]||(s[25]=a("li",null,"我们推荐提前备份写前日志和 mlog 文件，以备回滚。",-1)),s[26]||(s[26]=a("li",null,"下载最新版，解压并修改配置文件。将各数据目录都指向备份的或者 v0.10 原来使用的数据目录。",-1)),s[27]||(s[27]=a("li",null,"停止 v0.10 的实例，启动 v0.11 的实例。IoTDB 将自动升级不兼容的文件格式。",-1)),s[28]||(s[28]=a("li",null,[a("strong",null,"注意：0.11 的配置文件进行了较大改动，因此不要直接将 0.10 的配置文件用于 0.11")],-1))])]),a("li",null,[s[35]||(s[35]=a("p",null,"如何从 v0.9.x 升级到 v0.10.x?",-1)),a("ul",null,[a("li",null,[a("strong",null,[l(o,{color:"red"},{default:e(()=>s[30]||(s[30]=[n("停掉旧版本新数据写入。")])),_:1})])]),s[31]||(s[31]=a("li",null,[n("用 CLI 调用"),a("code",null,"flush"),n("，确保关闭所有的 TsFile 文件。")],-1)),s[32]||(s[32]=a("li",null,"我们推荐提前备份数据文件（以及写前日志和 mlog 文件），以备回滚。",-1)),s[33]||(s[33]=a("li",null,"下载最新版，解压并修改配置文件。将各数据目录都指向备份的或者 v0.9 原来使用的数据目录。",-1)),s[34]||(s[34]=a("li",null,"停止 v0.9 的实例，启动 v0.10 的实例。IoTDB 将自动升级数据文件格式。",-1))])]),s[38]||(s[38]=a("li",null,[a("p",null,"如何从 0.8.x 升级到 v0.9.x?"),a("ul",null,[a("li",null,"我们推荐提前备份数据文件（以及写前日志和 mlog 文件），以备回滚。"),a("li",null,"下载最新版，解压并修改配置文件。将各数据目录都指向备份的或者 v0.8 原来使用的数据目录。"),a("li",null,"停止 v0.8 的实例，启动 v0.9.x 的实例。IoTDB 将自动升级数据文件格式。")])],-1))]),s[40]||(s[40]=t('<h1 id="所有版本" tabindex="-1"><a class="header-anchor" href="#所有版本"><span>所有版本</span></a></h1><p>在 <a href="https://archive.apache.org/dist/iotdb/" target="_blank" rel="noopener noreferrer">Archive repository</a> 查看所有版本</p><h1 id="验证哈希和签名" tabindex="-1"><a class="header-anchor" href="#验证哈希和签名"><span>验证哈希和签名</span></a></h1><p>除了我们的发行版，我们还在 *.sha512 文件中提供了 sha512 散列，并在 *.asc 文件中提供了加密签名。 Apache Software Foundation 提供了广泛的教程来 <a href="http://www.apache.org/info/verification.html" target="_blank" rel="noopener noreferrer">验证哈希和签名</a>，您可以使用任何这些发布签名的 <a href="https://downloads.apache.org/iotdb/KEYS" target="_blank" rel="noopener noreferrer">KEYS</a> 来遵循这些哈希和签名。</p>',4))])}const b=i(u,[["render",B],["__file","index.html.vue"]]),g=JSON.parse('{"path":"/zh/Download/","title":"发行版本","lang":"zh-CN","frontmatter":{"description":"发行版本 历史版本下载：https://archive.apache.org/dist/iotdb/ 环境配置 推荐修改的操作系统参数 将 somaxconn 设置为 65535 以避免系统在高负载时出现 \\"connection reset\\" 错误。 关于 Version 1.0 如何从 v0.13.x 升级到 v1.0.x? 1.0版本进行了 SQL...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://iotdb.apache.org/Download/"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/zh/Download/"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"发行版本"}],["meta",{"property":"og:description","content":"发行版本 历史版本下载：https://archive.apache.org/dist/iotdb/ 环境配置 推荐修改的操作系统参数 将 somaxconn 设置为 65535 以避免系统在高负载时出现 \\"connection reset\\" 错误。 关于 Version 1.0 如何从 v0.13.x 升级到 v1.0.x? 1.0版本进行了 SQL..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-12-16T14:58:01.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-16T14:58:01.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"发行版本\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-12-16T14:58:01.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"环境配置","slug":"环境配置","link":"#环境配置","children":[]},{"level":2,"title":"关于 Version 1.0","slug":"关于-version-1-0","link":"#关于-version-1-0","children":[{"level":3,"title":"1.0 版本不兼容的语法详细说明","slug":"_1-0-版本不兼容的语法详细说明","link":"#_1-0-版本不兼容的语法详细说明","children":[]}]}],"git":{"createdTime":1688958677000,"updatedTime":1734361081000,"contributors":[{"name":"Mister-Hope","username":"Mister-Hope","email":"mister-hope@outlook.com","commits":1,"url":"https://github.com/Mister-Hope"},{"name":"Haonan","username":"Haonan","email":"hhaonan@outlook.com","commits":12,"url":"https://github.com/Haonan"},{"name":"W1y1r","username":"W1y1r","email":"150988475+W1y1r@users.noreply.github.com","commits":1,"url":"https://github.com/W1y1r"},{"name":"Summer","username":"Summer","email":"43237967+2b3c511@users.noreply.github.com","commits":1,"url":"https://github.com/Summer"},{"name":"2b3c511","username":"2b3c511","email":"rong.li@timecho.com","commits":1,"url":"https://github.com/2b3c511"},{"name":"wanghui42","username":"wanghui42","email":"105700158+wanghui42@users.noreply.github.com","commits":1,"url":"https://github.com/wanghui42"},{"name":"CritasWang","username":"CritasWang","email":"critas@outlook.com","commits":2,"url":"https://github.com/CritasWang"}]},"readingTime":{"minutes":12,"words":3600},"filePathRelative":"zh/Download/README.md","localizedDate":"2023年7月10日","autoDesc":true}');export{b as comp,g as data};
