<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title> </title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-5MM3J6X84E"></script>
    <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-5MM3J6X84E');</script>
    <meta name="description" content=" ">
    <meta name="Description" content="Apache IoTDB: Time Series Database for IoT">
    <meta name="Keywords" content="TSDB, time series, time series database, IoTDB, IoT database, IoT data management,时序数据库, 时间序列管理, IoTDB, 物联网数据库, 实时数据库, 物联网数据管理, 物联网数据">
    <meta name="baidu-site-verification" content="wfKETzB3OT">
    <meta name="google-site-verification" content="mZWAoRY0yj_HAr-s47zHCGHzx5Ju-RVm5wDbPnwQYFo">
    
    <link rel="preload" href="/assets/css/0.styles.2b4582cb.css" as="style"><link rel="preload" href="/assets/js/app.21e166ed.js" as="script"><link rel="preload" href="/assets/js/3.63247913.js" as="script"><link rel="preload" href="/assets/js/4.d54ec4e5.js" as="script"><link rel="preload" href="/assets/js/82.f08426c6.js" as="script"><link rel="prefetch" href="/assets/js/10.00f1b9cb.js"><link rel="prefetch" href="/assets/js/100.aa32dbea.js"><link rel="prefetch" href="/assets/js/101.fb1c57ef.js"><link rel="prefetch" href="/assets/js/102.dfad92d6.js"><link rel="prefetch" href="/assets/js/103.f2f83a3e.js"><link rel="prefetch" href="/assets/js/104.9da01563.js"><link rel="prefetch" href="/assets/js/105.f058fe88.js"><link rel="prefetch" href="/assets/js/106.85a70a68.js"><link rel="prefetch" href="/assets/js/107.e6d213cf.js"><link rel="prefetch" href="/assets/js/108.c13da703.js"><link rel="prefetch" href="/assets/js/109.9bc1f84c.js"><link rel="prefetch" href="/assets/js/11.e4ceb073.js"><link rel="prefetch" href="/assets/js/110.7e882f13.js"><link rel="prefetch" href="/assets/js/111.7773a736.js"><link rel="prefetch" href="/assets/js/112.85a36016.js"><link rel="prefetch" href="/assets/js/113.25d1bfcc.js"><link rel="prefetch" href="/assets/js/114.9137a863.js"><link rel="prefetch" href="/assets/js/115.b81574cf.js"><link rel="prefetch" href="/assets/js/116.e15c2202.js"><link rel="prefetch" href="/assets/js/117.4ceb1827.js"><link rel="prefetch" href="/assets/js/118.823304a5.js"><link rel="prefetch" href="/assets/js/119.9ffd89d3.js"><link rel="prefetch" href="/assets/js/12.792a9bfc.js"><link rel="prefetch" href="/assets/js/120.9a6eaa3c.js"><link rel="prefetch" href="/assets/js/121.271f7142.js"><link rel="prefetch" href="/assets/js/122.6fb2850c.js"><link rel="prefetch" href="/assets/js/123.01783125.js"><link rel="prefetch" href="/assets/js/124.22773c82.js"><link rel="prefetch" href="/assets/js/125.34711117.js"><link rel="prefetch" href="/assets/js/126.66636840.js"><link rel="prefetch" href="/assets/js/127.1b31c287.js"><link rel="prefetch" href="/assets/js/128.1107ba80.js"><link rel="prefetch" href="/assets/js/129.55ea2a28.js"><link rel="prefetch" href="/assets/js/13.55b9faba.js"><link rel="prefetch" href="/assets/js/130.8e8951eb.js"><link rel="prefetch" href="/assets/js/131.2f9f9f74.js"><link rel="prefetch" href="/assets/js/132.e689be2b.js"><link rel="prefetch" href="/assets/js/133.50a4f8f1.js"><link rel="prefetch" href="/assets/js/134.84dedc23.js"><link rel="prefetch" href="/assets/js/135.0112a155.js"><link rel="prefetch" href="/assets/js/136.67e071fd.js"><link rel="prefetch" href="/assets/js/137.2e93d828.js"><link rel="prefetch" href="/assets/js/138.a15b5d86.js"><link rel="prefetch" href="/assets/js/139.31338d2f.js"><link rel="prefetch" href="/assets/js/14.52ccf071.js"><link rel="prefetch" href="/assets/js/140.4d5f6939.js"><link rel="prefetch" href="/assets/js/141.2f796dab.js"><link rel="prefetch" href="/assets/js/142.a24f5532.js"><link rel="prefetch" href="/assets/js/143.7339de9c.js"><link rel="prefetch" href="/assets/js/144.2ec9008f.js"><link rel="prefetch" href="/assets/js/145.349052b6.js"><link rel="prefetch" href="/assets/js/146.b32c1a80.js"><link rel="prefetch" href="/assets/js/147.c3593720.js"><link rel="prefetch" href="/assets/js/148.37b6e1ab.js"><link rel="prefetch" href="/assets/js/149.2abf3c6b.js"><link rel="prefetch" href="/assets/js/15.131f088d.js"><link rel="prefetch" href="/assets/js/150.4f363479.js"><link rel="prefetch" href="/assets/js/151.7f9b626f.js"><link rel="prefetch" href="/assets/js/152.7d0b44bc.js"><link rel="prefetch" href="/assets/js/153.6f6d1227.js"><link rel="prefetch" href="/assets/js/154.210acd02.js"><link rel="prefetch" href="/assets/js/155.946e2c67.js"><link rel="prefetch" href="/assets/js/156.3c83606b.js"><link rel="prefetch" href="/assets/js/157.8b4041ec.js"><link rel="prefetch" href="/assets/js/158.3b239e45.js"><link rel="prefetch" href="/assets/js/159.4902155a.js"><link rel="prefetch" href="/assets/js/16.0f39d809.js"><link rel="prefetch" href="/assets/js/160.babe5e0c.js"><link rel="prefetch" href="/assets/js/161.65e417e6.js"><link rel="prefetch" href="/assets/js/162.c7e7726d.js"><link rel="prefetch" href="/assets/js/163.15c39086.js"><link rel="prefetch" href="/assets/js/164.3e885cf3.js"><link rel="prefetch" href="/assets/js/165.e81f6835.js"><link rel="prefetch" href="/assets/js/166.4ad0e509.js"><link rel="prefetch" href="/assets/js/167.515c00f6.js"><link rel="prefetch" href="/assets/js/168.ed3d1a19.js"><link rel="prefetch" href="/assets/js/169.60e0f22a.js"><link rel="prefetch" href="/assets/js/17.c763b8ae.js"><link rel="prefetch" href="/assets/js/170.cd5676b1.js"><link rel="prefetch" href="/assets/js/171.be5229da.js"><link rel="prefetch" href="/assets/js/172.cf42a92e.js"><link rel="prefetch" href="/assets/js/173.f21b7df7.js"><link rel="prefetch" href="/assets/js/174.8db9303f.js"><link rel="prefetch" href="/assets/js/175.4e6b8b10.js"><link rel="prefetch" href="/assets/js/176.996865ab.js"><link rel="prefetch" href="/assets/js/177.6402f48f.js"><link rel="prefetch" href="/assets/js/178.57ab1a75.js"><link rel="prefetch" href="/assets/js/179.e7cbb91e.js"><link rel="prefetch" href="/assets/js/18.acd42aea.js"><link rel="prefetch" href="/assets/js/180.950087fa.js"><link rel="prefetch" href="/assets/js/181.e3ad129b.js"><link rel="prefetch" href="/assets/js/182.32ee6229.js"><link rel="prefetch" href="/assets/js/183.8b91737b.js"><link rel="prefetch" href="/assets/js/184.e0c33fe2.js"><link rel="prefetch" href="/assets/js/185.88663c57.js"><link rel="prefetch" href="/assets/js/186.7eac35ce.js"><link rel="prefetch" href="/assets/js/187.30137a8a.js"><link rel="prefetch" href="/assets/js/188.0bf73223.js"><link rel="prefetch" href="/assets/js/189.d89c3655.js"><link rel="prefetch" href="/assets/js/19.232be089.js"><link rel="prefetch" href="/assets/js/190.3566e5e1.js"><link rel="prefetch" href="/assets/js/191.ed7c399e.js"><link rel="prefetch" href="/assets/js/192.e55d2183.js"><link rel="prefetch" href="/assets/js/193.3ba3e6ab.js"><link rel="prefetch" href="/assets/js/194.fb482a26.js"><link rel="prefetch" href="/assets/js/195.6f828ab2.js"><link rel="prefetch" href="/assets/js/196.1785d260.js"><link rel="prefetch" href="/assets/js/197.4d1a8f96.js"><link rel="prefetch" href="/assets/js/198.49ffbffd.js"><link rel="prefetch" href="/assets/js/199.4ae635c9.js"><link rel="prefetch" href="/assets/js/20.ce5cbfa8.js"><link rel="prefetch" href="/assets/js/200.d7a9de7f.js"><link rel="prefetch" href="/assets/js/201.7651a5bc.js"><link rel="prefetch" href="/assets/js/202.b0d1d9f3.js"><link rel="prefetch" href="/assets/js/203.ca9d90b5.js"><link rel="prefetch" href="/assets/js/204.f93bff82.js"><link rel="prefetch" href="/assets/js/205.ee22f061.js"><link rel="prefetch" href="/assets/js/206.d7fc0d69.js"><link rel="prefetch" href="/assets/js/207.8ea62a7b.js"><link rel="prefetch" href="/assets/js/208.41cfd6b1.js"><link rel="prefetch" href="/assets/js/209.4574c5c7.js"><link rel="prefetch" href="/assets/js/21.b508fbb3.js"><link rel="prefetch" href="/assets/js/210.3f93de0a.js"><link rel="prefetch" href="/assets/js/211.d82dfc09.js"><link rel="prefetch" href="/assets/js/212.5bc78701.js"><link rel="prefetch" href="/assets/js/213.484ac767.js"><link rel="prefetch" href="/assets/js/214.8423cda6.js"><link rel="prefetch" href="/assets/js/215.853bf18d.js"><link rel="prefetch" href="/assets/js/216.61204887.js"><link rel="prefetch" href="/assets/js/217.c62b4827.js"><link rel="prefetch" href="/assets/js/218.3cf68a0a.js"><link rel="prefetch" href="/assets/js/219.04fb29aa.js"><link rel="prefetch" href="/assets/js/22.50f016e9.js"><link rel="prefetch" href="/assets/js/220.8b4105a3.js"><link rel="prefetch" href="/assets/js/221.9f929eef.js"><link rel="prefetch" href="/assets/js/222.6b36392f.js"><link rel="prefetch" href="/assets/js/223.9a4f8122.js"><link rel="prefetch" href="/assets/js/224.9d2462c4.js"><link rel="prefetch" href="/assets/js/225.27aee9d5.js"><link rel="prefetch" href="/assets/js/226.de06d401.js"><link rel="prefetch" href="/assets/js/227.357f4a04.js"><link rel="prefetch" href="/assets/js/228.b8354a97.js"><link rel="prefetch" href="/assets/js/229.644c2de1.js"><link rel="prefetch" href="/assets/js/23.e02bb5bd.js"><link rel="prefetch" href="/assets/js/230.25651bec.js"><link rel="prefetch" href="/assets/js/231.220fc1ee.js"><link rel="prefetch" href="/assets/js/232.f5ec8ae1.js"><link rel="prefetch" href="/assets/js/233.1a3db2b7.js"><link rel="prefetch" href="/assets/js/234.eca19bac.js"><link rel="prefetch" href="/assets/js/235.b33f80cd.js"><link rel="prefetch" href="/assets/js/236.a400f991.js"><link rel="prefetch" href="/assets/js/237.77a5c350.js"><link rel="prefetch" href="/assets/js/238.be49cb9f.js"><link rel="prefetch" href="/assets/js/239.b9b997ef.js"><link rel="prefetch" href="/assets/js/24.3250972d.js"><link rel="prefetch" href="/assets/js/240.e85a7b21.js"><link rel="prefetch" href="/assets/js/241.76f68d97.js"><link rel="prefetch" href="/assets/js/242.abf19aa4.js"><link rel="prefetch" href="/assets/js/243.144ab9e2.js"><link rel="prefetch" href="/assets/js/244.80d4e76d.js"><link rel="prefetch" href="/assets/js/245.55c15cfd.js"><link rel="prefetch" href="/assets/js/246.7f86332f.js"><link rel="prefetch" href="/assets/js/247.86b3cd82.js"><link rel="prefetch" href="/assets/js/248.9a5f7586.js"><link rel="prefetch" href="/assets/js/249.6a9db585.js"><link rel="prefetch" href="/assets/js/25.e5132946.js"><link rel="prefetch" href="/assets/js/250.94733d53.js"><link rel="prefetch" href="/assets/js/251.73b4c539.js"><link rel="prefetch" href="/assets/js/252.72c92705.js"><link rel="prefetch" href="/assets/js/253.8692dd14.js"><link rel="prefetch" href="/assets/js/254.fe11a2a3.js"><link rel="prefetch" href="/assets/js/255.8a340659.js"><link rel="prefetch" href="/assets/js/256.a69e0c09.js"><link rel="prefetch" href="/assets/js/257.eba1184c.js"><link rel="prefetch" href="/assets/js/258.be24c4ca.js"><link rel="prefetch" href="/assets/js/259.e88c45c5.js"><link rel="prefetch" href="/assets/js/26.140603c6.js"><link rel="prefetch" href="/assets/js/260.98dc4ce6.js"><link rel="prefetch" href="/assets/js/261.96ab4a79.js"><link rel="prefetch" href="/assets/js/262.901a3a5a.js"><link rel="prefetch" href="/assets/js/263.5de26a8f.js"><link rel="prefetch" href="/assets/js/264.974f5b66.js"><link rel="prefetch" href="/assets/js/265.824d4c41.js"><link rel="prefetch" href="/assets/js/266.09225f3b.js"><link rel="prefetch" href="/assets/js/267.d1b3ad2c.js"><link rel="prefetch" href="/assets/js/268.a37517d5.js"><link rel="prefetch" href="/assets/js/269.c7fa5ee7.js"><link rel="prefetch" href="/assets/js/27.5fa2473d.js"><link rel="prefetch" href="/assets/js/270.df6b2996.js"><link rel="prefetch" href="/assets/js/271.0bd0bf0e.js"><link rel="prefetch" href="/assets/js/272.e3e93ee8.js"><link rel="prefetch" href="/assets/js/273.e2791aa5.js"><link rel="prefetch" href="/assets/js/274.06f45126.js"><link rel="prefetch" href="/assets/js/275.a77b5280.js"><link rel="prefetch" href="/assets/js/276.139959d7.js"><link rel="prefetch" href="/assets/js/277.dc684e4a.js"><link rel="prefetch" href="/assets/js/278.f87c31a0.js"><link rel="prefetch" href="/assets/js/279.f429296e.js"><link rel="prefetch" href="/assets/js/28.c5ec973b.js"><link rel="prefetch" href="/assets/js/280.db2a3e6f.js"><link rel="prefetch" href="/assets/js/281.579a8753.js"><link rel="prefetch" href="/assets/js/282.e976fbbf.js"><link rel="prefetch" href="/assets/js/283.8d337e43.js"><link rel="prefetch" href="/assets/js/284.f738ec08.js"><link rel="prefetch" href="/assets/js/285.01d5d7b6.js"><link rel="prefetch" href="/assets/js/286.93ba9f1f.js"><link rel="prefetch" href="/assets/js/287.40d3e15e.js"><link rel="prefetch" href="/assets/js/288.f41e0cc5.js"><link rel="prefetch" href="/assets/js/289.0b8e6ce3.js"><link rel="prefetch" href="/assets/js/29.74edbc0f.js"><link rel="prefetch" href="/assets/js/290.04a62356.js"><link rel="prefetch" href="/assets/js/291.6bcc3bf5.js"><link rel="prefetch" href="/assets/js/292.a70afe55.js"><link rel="prefetch" href="/assets/js/293.9c0e60dc.js"><link rel="prefetch" href="/assets/js/294.b312c112.js"><link rel="prefetch" href="/assets/js/295.3126f178.js"><link rel="prefetch" href="/assets/js/296.8f69040e.js"><link rel="prefetch" href="/assets/js/297.7715107c.js"><link rel="prefetch" href="/assets/js/298.9b2fb0eb.js"><link rel="prefetch" href="/assets/js/299.07334e12.js"><link rel="prefetch" href="/assets/js/30.e5bfff69.js"><link rel="prefetch" href="/assets/js/300.d93216ab.js"><link rel="prefetch" href="/assets/js/301.b1e4aa66.js"><link rel="prefetch" href="/assets/js/302.ae1b8e55.js"><link rel="prefetch" href="/assets/js/303.043a4cda.js"><link rel="prefetch" href="/assets/js/304.4e243a9e.js"><link rel="prefetch" href="/assets/js/305.8b1f3c0c.js"><link rel="prefetch" href="/assets/js/306.cb0702cf.js"><link rel="prefetch" href="/assets/js/307.5d988829.js"><link rel="prefetch" href="/assets/js/308.1362374d.js"><link rel="prefetch" href="/assets/js/309.78c690f1.js"><link rel="prefetch" href="/assets/js/31.c3a19131.js"><link rel="prefetch" href="/assets/js/310.e629c545.js"><link rel="prefetch" href="/assets/js/311.ce58d88b.js"><link rel="prefetch" href="/assets/js/312.75e8134b.js"><link rel="prefetch" href="/assets/js/313.9c64f98d.js"><link rel="prefetch" href="/assets/js/314.7735708d.js"><link rel="prefetch" href="/assets/js/315.89468494.js"><link rel="prefetch" href="/assets/js/316.5f4669bb.js"><link rel="prefetch" href="/assets/js/317.f626a210.js"><link rel="prefetch" href="/assets/js/318.14b829e9.js"><link rel="prefetch" href="/assets/js/319.23a37b15.js"><link rel="prefetch" href="/assets/js/32.85adce0f.js"><link rel="prefetch" href="/assets/js/320.4f6ac880.js"><link rel="prefetch" href="/assets/js/321.ddaa804d.js"><link rel="prefetch" href="/assets/js/322.03946bf9.js"><link rel="prefetch" href="/assets/js/323.bf53a3be.js"><link rel="prefetch" href="/assets/js/324.d3ddf6bd.js"><link rel="prefetch" href="/assets/js/325.58d8ec59.js"><link rel="prefetch" href="/assets/js/326.de9916c1.js"><link rel="prefetch" href="/assets/js/327.ee4495b0.js"><link rel="prefetch" href="/assets/js/328.05c4caa8.js"><link rel="prefetch" href="/assets/js/329.1ddb3ad7.js"><link rel="prefetch" href="/assets/js/33.404a1125.js"><link rel="prefetch" href="/assets/js/330.7273129b.js"><link rel="prefetch" href="/assets/js/331.e174ca04.js"><link rel="prefetch" href="/assets/js/332.fc8c150a.js"><link rel="prefetch" href="/assets/js/333.935d3c0c.js"><link rel="prefetch" href="/assets/js/334.7efae988.js"><link rel="prefetch" href="/assets/js/335.35b77389.js"><link rel="prefetch" href="/assets/js/336.53063734.js"><link rel="prefetch" href="/assets/js/337.08054709.js"><link rel="prefetch" href="/assets/js/338.b6b9f166.js"><link rel="prefetch" href="/assets/js/339.594ca85d.js"><link rel="prefetch" href="/assets/js/34.5ae7a53a.js"><link rel="prefetch" href="/assets/js/340.c42765f8.js"><link rel="prefetch" href="/assets/js/341.e3c53704.js"><link rel="prefetch" href="/assets/js/342.a95880da.js"><link rel="prefetch" href="/assets/js/343.4ceadc91.js"><link rel="prefetch" href="/assets/js/344.6f777310.js"><link rel="prefetch" href="/assets/js/345.9522fe05.js"><link rel="prefetch" href="/assets/js/346.4bca49c1.js"><link rel="prefetch" href="/assets/js/347.11a63c75.js"><link rel="prefetch" href="/assets/js/348.21220258.js"><link rel="prefetch" href="/assets/js/349.bf784431.js"><link rel="prefetch" href="/assets/js/35.d14183e7.js"><link rel="prefetch" href="/assets/js/350.ffd7db4f.js"><link rel="prefetch" href="/assets/js/351.a6e3a3be.js"><link rel="prefetch" href="/assets/js/352.775c1342.js"><link rel="prefetch" href="/assets/js/353.7e652716.js"><link rel="prefetch" href="/assets/js/354.30773da3.js"><link rel="prefetch" href="/assets/js/355.34fd106b.js"><link rel="prefetch" href="/assets/js/356.df24eb50.js"><link rel="prefetch" href="/assets/js/357.7f4bad44.js"><link rel="prefetch" href="/assets/js/358.aef13a3d.js"><link rel="prefetch" href="/assets/js/359.e2f3c480.js"><link rel="prefetch" href="/assets/js/36.18161619.js"><link rel="prefetch" href="/assets/js/360.e41a357d.js"><link rel="prefetch" href="/assets/js/361.c62ea2e1.js"><link rel="prefetch" href="/assets/js/362.88bb78ff.js"><link rel="prefetch" href="/assets/js/363.a3b3a2d1.js"><link rel="prefetch" href="/assets/js/364.d8251212.js"><link rel="prefetch" href="/assets/js/365.45d500d9.js"><link rel="prefetch" href="/assets/js/366.8c378e71.js"><link rel="prefetch" href="/assets/js/367.f8aeeafe.js"><link rel="prefetch" href="/assets/js/368.88114d1b.js"><link rel="prefetch" href="/assets/js/369.4123b625.js"><link rel="prefetch" href="/assets/js/37.61330a1f.js"><link rel="prefetch" href="/assets/js/370.1fdaa734.js"><link rel="prefetch" href="/assets/js/371.05e92fb1.js"><link rel="prefetch" href="/assets/js/372.e9250e7e.js"><link rel="prefetch" href="/assets/js/373.894711d1.js"><link rel="prefetch" href="/assets/js/374.bb7e9f95.js"><link rel="prefetch" href="/assets/js/375.8704d0e8.js"><link rel="prefetch" href="/assets/js/376.b67a01b7.js"><link rel="prefetch" href="/assets/js/377.79faed12.js"><link rel="prefetch" href="/assets/js/378.76c12748.js"><link rel="prefetch" href="/assets/js/379.54c61ee3.js"><link rel="prefetch" href="/assets/js/38.69c76b06.js"><link rel="prefetch" href="/assets/js/380.85f8f300.js"><link rel="prefetch" href="/assets/js/381.d5124350.js"><link rel="prefetch" href="/assets/js/382.66102b0e.js"><link rel="prefetch" href="/assets/js/383.f9d6622d.js"><link rel="prefetch" href="/assets/js/384.8b8fd2da.js"><link rel="prefetch" href="/assets/js/385.71e388bf.js"><link rel="prefetch" href="/assets/js/386.c1104b2a.js"><link rel="prefetch" href="/assets/js/387.9962405b.js"><link rel="prefetch" href="/assets/js/388.24beb38a.js"><link rel="prefetch" href="/assets/js/389.329b6cad.js"><link rel="prefetch" href="/assets/js/39.6f70ecc8.js"><link rel="prefetch" href="/assets/js/390.36369387.js"><link rel="prefetch" href="/assets/js/391.fedf20a4.js"><link rel="prefetch" href="/assets/js/392.b4675015.js"><link rel="prefetch" href="/assets/js/393.a64dbf55.js"><link rel="prefetch" href="/assets/js/394.8b02e684.js"><link rel="prefetch" href="/assets/js/395.dcbc5c25.js"><link rel="prefetch" href="/assets/js/396.03477be6.js"><link rel="prefetch" href="/assets/js/397.dc09715d.js"><link rel="prefetch" href="/assets/js/398.ab3857ae.js"><link rel="prefetch" href="/assets/js/399.47da1c5d.js"><link rel="prefetch" href="/assets/js/40.666d26f5.js"><link rel="prefetch" href="/assets/js/400.b2db7039.js"><link rel="prefetch" href="/assets/js/401.36a66527.js"><link rel="prefetch" href="/assets/js/402.37debf01.js"><link rel="prefetch" href="/assets/js/403.023e0b18.js"><link rel="prefetch" href="/assets/js/404.db6b98af.js"><link rel="prefetch" href="/assets/js/405.ae5975f2.js"><link rel="prefetch" href="/assets/js/406.274b15e8.js"><link rel="prefetch" href="/assets/js/407.508acd43.js"><link rel="prefetch" href="/assets/js/408.570df606.js"><link rel="prefetch" href="/assets/js/409.53cabb96.js"><link rel="prefetch" href="/assets/js/41.4d43c596.js"><link rel="prefetch" href="/assets/js/410.a7965fe9.js"><link rel="prefetch" href="/assets/js/411.19d13f57.js"><link rel="prefetch" href="/assets/js/412.7949c7d4.js"><link rel="prefetch" href="/assets/js/413.c6428130.js"><link rel="prefetch" href="/assets/js/414.895963bf.js"><link rel="prefetch" href="/assets/js/415.2df766c2.js"><link rel="prefetch" href="/assets/js/416.a3b611d4.js"><link rel="prefetch" href="/assets/js/417.698061ad.js"><link rel="prefetch" href="/assets/js/418.c301beb6.js"><link rel="prefetch" href="/assets/js/419.3909a67f.js"><link rel="prefetch" href="/assets/js/42.5b9255b5.js"><link rel="prefetch" href="/assets/js/420.a5961323.js"><link rel="prefetch" href="/assets/js/421.21aab71b.js"><link rel="prefetch" href="/assets/js/422.2a71b0ec.js"><link rel="prefetch" href="/assets/js/423.73e67e02.js"><link rel="prefetch" href="/assets/js/424.e375c060.js"><link rel="prefetch" href="/assets/js/425.5f1d263c.js"><link rel="prefetch" href="/assets/js/426.e466ed0f.js"><link rel="prefetch" href="/assets/js/427.7d5c5bc4.js"><link rel="prefetch" href="/assets/js/428.628c69b5.js"><link rel="prefetch" href="/assets/js/429.70e240de.js"><link rel="prefetch" href="/assets/js/43.7e6eaf15.js"><link rel="prefetch" href="/assets/js/430.65c935ee.js"><link rel="prefetch" href="/assets/js/431.7d71ddae.js"><link rel="prefetch" href="/assets/js/432.957984d1.js"><link rel="prefetch" href="/assets/js/433.c95166e5.js"><link rel="prefetch" href="/assets/js/434.6688ece8.js"><link rel="prefetch" href="/assets/js/435.ed0483c0.js"><link rel="prefetch" href="/assets/js/436.987b477c.js"><link rel="prefetch" href="/assets/js/437.ca815a65.js"><link rel="prefetch" href="/assets/js/438.4e4bdbcd.js"><link rel="prefetch" href="/assets/js/439.08c572cd.js"><link rel="prefetch" href="/assets/js/44.1f2b06d9.js"><link rel="prefetch" href="/assets/js/440.f2121144.js"><link rel="prefetch" href="/assets/js/441.618a215e.js"><link rel="prefetch" href="/assets/js/442.438e9844.js"><link rel="prefetch" href="/assets/js/443.5fabc75f.js"><link rel="prefetch" href="/assets/js/444.32709e95.js"><link rel="prefetch" href="/assets/js/445.6bd52ff2.js"><link rel="prefetch" href="/assets/js/446.273efe72.js"><link rel="prefetch" href="/assets/js/447.00ee05d6.js"><link rel="prefetch" href="/assets/js/448.7e937bea.js"><link rel="prefetch" href="/assets/js/449.e4d9f7ad.js"><link rel="prefetch" href="/assets/js/45.5e1bf320.js"><link rel="prefetch" href="/assets/js/450.7eef8187.js"><link rel="prefetch" href="/assets/js/451.4e862ece.js"><link rel="prefetch" href="/assets/js/452.83e12e01.js"><link rel="prefetch" href="/assets/js/453.27fc29b0.js"><link rel="prefetch" href="/assets/js/454.9437ef8f.js"><link rel="prefetch" href="/assets/js/455.934f9712.js"><link rel="prefetch" href="/assets/js/456.c435ef71.js"><link rel="prefetch" href="/assets/js/457.f1b3ea60.js"><link rel="prefetch" href="/assets/js/458.5d911ccd.js"><link rel="prefetch" href="/assets/js/459.5f642d06.js"><link rel="prefetch" href="/assets/js/46.d1d792a2.js"><link rel="prefetch" href="/assets/js/460.0b8f5c0c.js"><link rel="prefetch" href="/assets/js/461.f248a5a9.js"><link rel="prefetch" href="/assets/js/462.6693fa8b.js"><link rel="prefetch" href="/assets/js/463.8f9b24b7.js"><link rel="prefetch" href="/assets/js/464.023b67c4.js"><link rel="prefetch" href="/assets/js/465.b7930d32.js"><link rel="prefetch" href="/assets/js/466.929307fe.js"><link rel="prefetch" href="/assets/js/467.bc6a04da.js"><link rel="prefetch" href="/assets/js/468.4f2d9563.js"><link rel="prefetch" href="/assets/js/469.92c10422.js"><link rel="prefetch" href="/assets/js/47.2b62906a.js"><link rel="prefetch" href="/assets/js/470.19d356c8.js"><link rel="prefetch" href="/assets/js/471.1eeab227.js"><link rel="prefetch" href="/assets/js/472.f45abcfc.js"><link rel="prefetch" href="/assets/js/473.d061aa4e.js"><link rel="prefetch" href="/assets/js/474.d37ae332.js"><link rel="prefetch" href="/assets/js/475.2ec4fe2e.js"><link rel="prefetch" href="/assets/js/476.45cb1a7f.js"><link rel="prefetch" href="/assets/js/477.623d261b.js"><link rel="prefetch" href="/assets/js/478.98f1f238.js"><link rel="prefetch" href="/assets/js/479.eb1d414a.js"><link rel="prefetch" href="/assets/js/48.dae5e6dc.js"><link rel="prefetch" href="/assets/js/480.da4bb2fd.js"><link rel="prefetch" href="/assets/js/481.cdde2bc5.js"><link rel="prefetch" href="/assets/js/482.6af34adf.js"><link rel="prefetch" href="/assets/js/483.e141119b.js"><link rel="prefetch" href="/assets/js/484.04748254.js"><link rel="prefetch" href="/assets/js/485.9b346da3.js"><link rel="prefetch" href="/assets/js/486.82cfdb4b.js"><link rel="prefetch" href="/assets/js/487.886a5bda.js"><link rel="prefetch" href="/assets/js/488.51500625.js"><link rel="prefetch" href="/assets/js/489.dc9625db.js"><link rel="prefetch" href="/assets/js/49.3c10c702.js"><link rel="prefetch" href="/assets/js/490.05f6fef1.js"><link rel="prefetch" href="/assets/js/491.9890f072.js"><link rel="prefetch" href="/assets/js/492.b63adb6b.js"><link rel="prefetch" href="/assets/js/493.615bd4cf.js"><link rel="prefetch" href="/assets/js/494.e8b528fc.js"><link rel="prefetch" href="/assets/js/495.14fa11d3.js"><link rel="prefetch" href="/assets/js/496.e0b03f6e.js"><link rel="prefetch" href="/assets/js/497.144ab0e7.js"><link rel="prefetch" href="/assets/js/498.2f97dbaf.js"><link rel="prefetch" href="/assets/js/499.c195467c.js"><link rel="prefetch" href="/assets/js/5.c4edf467.js"><link rel="prefetch" href="/assets/js/50.d72b3971.js"><link rel="prefetch" href="/assets/js/500.4a8fa025.js"><link rel="prefetch" href="/assets/js/501.ea548002.js"><link rel="prefetch" href="/assets/js/502.10597d4e.js"><link rel="prefetch" href="/assets/js/503.d5bb9b37.js"><link rel="prefetch" href="/assets/js/504.10cfcdf4.js"><link rel="prefetch" href="/assets/js/505.ca3da369.js"><link rel="prefetch" href="/assets/js/506.b48e8e7a.js"><link rel="prefetch" href="/assets/js/507.7807adc5.js"><link rel="prefetch" href="/assets/js/508.54af8b3c.js"><link rel="prefetch" href="/assets/js/509.0f83ba01.js"><link rel="prefetch" href="/assets/js/51.692079bf.js"><link rel="prefetch" href="/assets/js/510.a70b661c.js"><link rel="prefetch" href="/assets/js/511.b2eedacd.js"><link rel="prefetch" href="/assets/js/512.6414064e.js"><link rel="prefetch" href="/assets/js/513.1f1d3446.js"><link rel="prefetch" href="/assets/js/514.eacf304b.js"><link rel="prefetch" href="/assets/js/515.146b5612.js"><link rel="prefetch" href="/assets/js/516.b6ecae4e.js"><link rel="prefetch" href="/assets/js/517.859a2c88.js"><link rel="prefetch" href="/assets/js/518.04088eee.js"><link rel="prefetch" href="/assets/js/519.70c6f51b.js"><link rel="prefetch" href="/assets/js/52.68cfe987.js"><link rel="prefetch" href="/assets/js/520.1a9b17d2.js"><link rel="prefetch" href="/assets/js/521.e458d3bd.js"><link rel="prefetch" href="/assets/js/522.7fb547c2.js"><link rel="prefetch" href="/assets/js/523.2b883450.js"><link rel="prefetch" href="/assets/js/524.1e24644d.js"><link rel="prefetch" href="/assets/js/525.cd0afc91.js"><link rel="prefetch" href="/assets/js/526.f7c6c238.js"><link rel="prefetch" href="/assets/js/527.267d9b3b.js"><link rel="prefetch" href="/assets/js/528.05b57958.js"><link rel="prefetch" href="/assets/js/529.250954a0.js"><link rel="prefetch" href="/assets/js/53.030b6d09.js"><link rel="prefetch" href="/assets/js/530.1ac17555.js"><link rel="prefetch" href="/assets/js/531.c6ce72aa.js"><link rel="prefetch" href="/assets/js/532.587b6d94.js"><link rel="prefetch" href="/assets/js/533.98d18136.js"><link rel="prefetch" href="/assets/js/534.fb7258c3.js"><link rel="prefetch" href="/assets/js/535.35a5b41c.js"><link rel="prefetch" href="/assets/js/536.845c583e.js"><link rel="prefetch" href="/assets/js/537.b558502c.js"><link rel="prefetch" href="/assets/js/538.b27e632b.js"><link rel="prefetch" href="/assets/js/539.048b26df.js"><link rel="prefetch" href="/assets/js/54.c6f8be3b.js"><link rel="prefetch" href="/assets/js/540.fe898fa4.js"><link rel="prefetch" href="/assets/js/541.fadcb8d7.js"><link rel="prefetch" href="/assets/js/542.d7e9d41c.js"><link rel="prefetch" href="/assets/js/543.bf8e24b0.js"><link rel="prefetch" href="/assets/js/544.4809b037.js"><link rel="prefetch" href="/assets/js/545.3e8fcfca.js"><link rel="prefetch" href="/assets/js/546.a071c772.js"><link rel="prefetch" href="/assets/js/547.b5b5611f.js"><link rel="prefetch" href="/assets/js/548.19945c42.js"><link rel="prefetch" href="/assets/js/549.53e1b625.js"><link rel="prefetch" href="/assets/js/55.adc90b84.js"><link rel="prefetch" href="/assets/js/550.04e073d9.js"><link rel="prefetch" href="/assets/js/551.ba54644b.js"><link rel="prefetch" href="/assets/js/552.15e2d150.js"><link rel="prefetch" href="/assets/js/553.0dd86759.js"><link rel="prefetch" href="/assets/js/554.352e511d.js"><link rel="prefetch" href="/assets/js/555.eef8967c.js"><link rel="prefetch" href="/assets/js/556.04cdb5d2.js"><link rel="prefetch" href="/assets/js/557.1d5ff280.js"><link rel="prefetch" href="/assets/js/558.59ab9d8f.js"><link rel="prefetch" href="/assets/js/559.eb4d97c3.js"><link rel="prefetch" href="/assets/js/56.6471e704.js"><link rel="prefetch" href="/assets/js/560.54a7319d.js"><link rel="prefetch" href="/assets/js/561.2e4f7858.js"><link rel="prefetch" href="/assets/js/562.4649494f.js"><link rel="prefetch" href="/assets/js/563.8eadd83f.js"><link rel="prefetch" href="/assets/js/564.21b1d7de.js"><link rel="prefetch" href="/assets/js/565.b9376aa2.js"><link rel="prefetch" href="/assets/js/566.5eecbbcb.js"><link rel="prefetch" href="/assets/js/567.990a3f29.js"><link rel="prefetch" href="/assets/js/568.abb5d3e5.js"><link rel="prefetch" href="/assets/js/569.2c201acc.js"><link rel="prefetch" href="/assets/js/57.5a98a72f.js"><link rel="prefetch" href="/assets/js/570.3924b87b.js"><link rel="prefetch" href="/assets/js/571.1772bb4d.js"><link rel="prefetch" href="/assets/js/572.39236157.js"><link rel="prefetch" href="/assets/js/573.074b457c.js"><link rel="prefetch" href="/assets/js/574.3c8c2923.js"><link rel="prefetch" href="/assets/js/575.ec48cfc7.js"><link rel="prefetch" href="/assets/js/576.3381268d.js"><link rel="prefetch" href="/assets/js/577.5490ef44.js"><link rel="prefetch" href="/assets/js/578.ad9f51cc.js"><link rel="prefetch" href="/assets/js/579.632b6617.js"><link rel="prefetch" href="/assets/js/58.17165541.js"><link rel="prefetch" href="/assets/js/580.bdb9b756.js"><link rel="prefetch" href="/assets/js/581.572ab9f6.js"><link rel="prefetch" href="/assets/js/582.ae6d91bb.js"><link rel="prefetch" href="/assets/js/583.53fca87f.js"><link rel="prefetch" href="/assets/js/584.53003a84.js"><link rel="prefetch" href="/assets/js/585.f39adcfe.js"><link rel="prefetch" href="/assets/js/586.28b9843d.js"><link rel="prefetch" href="/assets/js/587.973e7ba8.js"><link rel="prefetch" href="/assets/js/588.5c605ae5.js"><link rel="prefetch" href="/assets/js/589.d6635309.js"><link rel="prefetch" href="/assets/js/59.5587d3f2.js"><link rel="prefetch" href="/assets/js/590.f65e2ae1.js"><link rel="prefetch" href="/assets/js/591.dd13cb79.js"><link rel="prefetch" href="/assets/js/592.07e941d2.js"><link rel="prefetch" href="/assets/js/593.f476d24a.js"><link rel="prefetch" href="/assets/js/594.e318f4f3.js"><link rel="prefetch" href="/assets/js/595.75fd4325.js"><link rel="prefetch" href="/assets/js/596.cb321b4f.js"><link rel="prefetch" href="/assets/js/597.7b6f366f.js"><link rel="prefetch" href="/assets/js/598.0daf4765.js"><link rel="prefetch" href="/assets/js/599.b22d8449.js"><link rel="prefetch" href="/assets/js/6.da9c19b5.js"><link rel="prefetch" href="/assets/js/60.3570fbeb.js"><link rel="prefetch" href="/assets/js/600.be5c0b26.js"><link rel="prefetch" href="/assets/js/601.28b62b76.js"><link rel="prefetch" href="/assets/js/602.52421058.js"><link rel="prefetch" href="/assets/js/603.debc2c51.js"><link rel="prefetch" href="/assets/js/604.37ba6359.js"><link rel="prefetch" href="/assets/js/605.7ca8b7b4.js"><link rel="prefetch" href="/assets/js/606.0d6618d8.js"><link rel="prefetch" href="/assets/js/607.d549b5cd.js"><link rel="prefetch" href="/assets/js/608.3851d22c.js"><link rel="prefetch" href="/assets/js/609.cb8e43cf.js"><link rel="prefetch" href="/assets/js/61.bef36633.js"><link rel="prefetch" href="/assets/js/610.9c31f346.js"><link rel="prefetch" href="/assets/js/611.d83c8a67.js"><link rel="prefetch" href="/assets/js/612.77374afa.js"><link rel="prefetch" href="/assets/js/613.04e14d36.js"><link rel="prefetch" href="/assets/js/614.c01e01c8.js"><link rel="prefetch" href="/assets/js/615.8029ba67.js"><link rel="prefetch" href="/assets/js/616.337272f4.js"><link rel="prefetch" href="/assets/js/617.6d99be44.js"><link rel="prefetch" href="/assets/js/618.ac0d7a8c.js"><link rel="prefetch" href="/assets/js/619.68761ed8.js"><link rel="prefetch" href="/assets/js/62.ea6f19b6.js"><link rel="prefetch" href="/assets/js/620.5662b47b.js"><link rel="prefetch" href="/assets/js/621.d4f87977.js"><link rel="prefetch" href="/assets/js/622.7eb1160f.js"><link rel="prefetch" href="/assets/js/623.0b91405a.js"><link rel="prefetch" href="/assets/js/624.0fecf949.js"><link rel="prefetch" href="/assets/js/625.8cd406b0.js"><link rel="prefetch" href="/assets/js/626.102ba155.js"><link rel="prefetch" href="/assets/js/627.223e8365.js"><link rel="prefetch" href="/assets/js/628.36f7c1ad.js"><link rel="prefetch" href="/assets/js/629.f9c66618.js"><link rel="prefetch" href="/assets/js/63.4beac51d.js"><link rel="prefetch" href="/assets/js/630.fa0abf5d.js"><link rel="prefetch" href="/assets/js/631.f6ebc7a3.js"><link rel="prefetch" href="/assets/js/632.0b58437a.js"><link rel="prefetch" href="/assets/js/633.483f62f3.js"><link rel="prefetch" href="/assets/js/634.db4fac71.js"><link rel="prefetch" href="/assets/js/635.18c40ceb.js"><link rel="prefetch" href="/assets/js/636.ead1517e.js"><link rel="prefetch" href="/assets/js/637.aa563563.js"><link rel="prefetch" href="/assets/js/638.e51d3f9f.js"><link rel="prefetch" href="/assets/js/639.268fa314.js"><link rel="prefetch" href="/assets/js/64.15fd2931.js"><link rel="prefetch" href="/assets/js/640.bab7c75d.js"><link rel="prefetch" href="/assets/js/641.65577e27.js"><link rel="prefetch" href="/assets/js/642.04ee2c13.js"><link rel="prefetch" href="/assets/js/643.70f63602.js"><link rel="prefetch" href="/assets/js/644.4f4532e2.js"><link rel="prefetch" href="/assets/js/645.7100448e.js"><link rel="prefetch" href="/assets/js/646.5475bec2.js"><link rel="prefetch" href="/assets/js/647.6d56d9cd.js"><link rel="prefetch" href="/assets/js/648.889575ab.js"><link rel="prefetch" href="/assets/js/649.ff0e7c4e.js"><link rel="prefetch" href="/assets/js/65.23eb35eb.js"><link rel="prefetch" href="/assets/js/650.d99bd7ef.js"><link rel="prefetch" href="/assets/js/651.1a00fd07.js"><link rel="prefetch" href="/assets/js/652.5a1ff97a.js"><link rel="prefetch" href="/assets/js/653.935666ef.js"><link rel="prefetch" href="/assets/js/654.05573069.js"><link rel="prefetch" href="/assets/js/655.6e866825.js"><link rel="prefetch" href="/assets/js/656.73a34b57.js"><link rel="prefetch" href="/assets/js/657.0ba8a309.js"><link rel="prefetch" href="/assets/js/658.2483c800.js"><link rel="prefetch" href="/assets/js/659.881302e4.js"><link rel="prefetch" href="/assets/js/66.4dfc22bf.js"><link rel="prefetch" href="/assets/js/660.e567f23a.js"><link rel="prefetch" href="/assets/js/661.ec25c179.js"><link rel="prefetch" href="/assets/js/662.c1b44f26.js"><link rel="prefetch" href="/assets/js/663.03b8b544.js"><link rel="prefetch" href="/assets/js/664.ad6d49b3.js"><link rel="prefetch" href="/assets/js/665.ab901d78.js"><link rel="prefetch" href="/assets/js/666.7a4fe787.js"><link rel="prefetch" href="/assets/js/667.6dffedee.js"><link rel="prefetch" href="/assets/js/668.f2568798.js"><link rel="prefetch" href="/assets/js/669.2d74a328.js"><link rel="prefetch" href="/assets/js/67.043a9dad.js"><link rel="prefetch" href="/assets/js/670.2d4031d6.js"><link rel="prefetch" href="/assets/js/671.c47473c4.js"><link rel="prefetch" href="/assets/js/672.01751528.js"><link rel="prefetch" href="/assets/js/673.d7673749.js"><link rel="prefetch" href="/assets/js/674.d6d5cfc6.js"><link rel="prefetch" href="/assets/js/675.a9f4f9e0.js"><link rel="prefetch" href="/assets/js/676.f7e4a9f0.js"><link rel="prefetch" href="/assets/js/677.0ab0756b.js"><link rel="prefetch" href="/assets/js/678.9766e460.js"><link rel="prefetch" href="/assets/js/679.fd7321c3.js"><link rel="prefetch" href="/assets/js/68.78536d67.js"><link rel="prefetch" href="/assets/js/680.8d4eedab.js"><link rel="prefetch" href="/assets/js/681.21e43c4a.js"><link rel="prefetch" href="/assets/js/682.c4a7900a.js"><link rel="prefetch" href="/assets/js/683.5508e21d.js"><link rel="prefetch" href="/assets/js/684.b7083fe8.js"><link rel="prefetch" href="/assets/js/685.ba2ee11c.js"><link rel="prefetch" href="/assets/js/686.def25d31.js"><link rel="prefetch" href="/assets/js/687.688c61eb.js"><link rel="prefetch" href="/assets/js/688.1e970022.js"><link rel="prefetch" href="/assets/js/689.f1f3dd31.js"><link rel="prefetch" href="/assets/js/69.2db2575f.js"><link rel="prefetch" href="/assets/js/690.6159546e.js"><link rel="prefetch" href="/assets/js/691.25b6b3cd.js"><link rel="prefetch" href="/assets/js/692.d57353aa.js"><link rel="prefetch" href="/assets/js/693.abb31bcc.js"><link rel="prefetch" href="/assets/js/694.4e826b39.js"><link rel="prefetch" href="/assets/js/695.38ea1685.js"><link rel="prefetch" href="/assets/js/696.db13592b.js"><link rel="prefetch" href="/assets/js/697.3eff304c.js"><link rel="prefetch" href="/assets/js/698.0cdd3665.js"><link rel="prefetch" href="/assets/js/699.0533fe5b.js"><link rel="prefetch" href="/assets/js/7.acfa829b.js"><link rel="prefetch" href="/assets/js/70.e2f25cff.js"><link rel="prefetch" href="/assets/js/700.faecdcaa.js"><link rel="prefetch" href="/assets/js/701.bf5d2fe1.js"><link rel="prefetch" href="/assets/js/702.dd7446d9.js"><link rel="prefetch" href="/assets/js/703.01e86cc4.js"><link rel="prefetch" href="/assets/js/704.ac56a063.js"><link rel="prefetch" href="/assets/js/705.b21af1cb.js"><link rel="prefetch" href="/assets/js/706.5f84e6f0.js"><link rel="prefetch" href="/assets/js/707.ed4504a9.js"><link rel="prefetch" href="/assets/js/708.23d4580e.js"><link rel="prefetch" href="/assets/js/709.32f85e97.js"><link rel="prefetch" href="/assets/js/71.40867b13.js"><link rel="prefetch" href="/assets/js/710.f6125851.js"><link rel="prefetch" href="/assets/js/711.b1b30a4f.js"><link rel="prefetch" href="/assets/js/712.551b53c2.js"><link rel="prefetch" href="/assets/js/713.a336b954.js"><link rel="prefetch" href="/assets/js/714.23f6daf8.js"><link rel="prefetch" href="/assets/js/715.15d96a39.js"><link rel="prefetch" href="/assets/js/716.4c77bf30.js"><link rel="prefetch" href="/assets/js/717.61be790f.js"><link rel="prefetch" href="/assets/js/718.43168cee.js"><link rel="prefetch" href="/assets/js/719.5a028744.js"><link rel="prefetch" href="/assets/js/72.16e3a504.js"><link rel="prefetch" href="/assets/js/720.f46530a3.js"><link rel="prefetch" href="/assets/js/721.f0b6faaa.js"><link rel="prefetch" href="/assets/js/722.1bb36e47.js"><link rel="prefetch" href="/assets/js/723.912cd2e7.js"><link rel="prefetch" href="/assets/js/724.349935ce.js"><link rel="prefetch" href="/assets/js/725.f7e29048.js"><link rel="prefetch" href="/assets/js/726.8efaef43.js"><link rel="prefetch" href="/assets/js/727.3abb2dfa.js"><link rel="prefetch" href="/assets/js/728.feb32d68.js"><link rel="prefetch" href="/assets/js/729.b947da16.js"><link rel="prefetch" href="/assets/js/73.46fafb64.js"><link rel="prefetch" href="/assets/js/730.f6a603e8.js"><link rel="prefetch" href="/assets/js/731.10838b08.js"><link rel="prefetch" href="/assets/js/732.c52d5376.js"><link rel="prefetch" href="/assets/js/733.c2399ec5.js"><link rel="prefetch" href="/assets/js/734.801a2a43.js"><link rel="prefetch" href="/assets/js/735.0167654a.js"><link rel="prefetch" href="/assets/js/736.7d27bca3.js"><link rel="prefetch" href="/assets/js/737.d05c98cc.js"><link rel="prefetch" href="/assets/js/738.def4a37b.js"><link rel="prefetch" href="/assets/js/739.9b23267c.js"><link rel="prefetch" href="/assets/js/74.3e687e3c.js"><link rel="prefetch" href="/assets/js/740.71926dff.js"><link rel="prefetch" href="/assets/js/741.1d2bf2f8.js"><link rel="prefetch" href="/assets/js/742.429672f9.js"><link rel="prefetch" href="/assets/js/743.8913ac7f.js"><link rel="prefetch" href="/assets/js/744.9f3d3d20.js"><link rel="prefetch" href="/assets/js/745.075ea537.js"><link rel="prefetch" href="/assets/js/746.f4a860d0.js"><link rel="prefetch" href="/assets/js/747.6e0f173d.js"><link rel="prefetch" href="/assets/js/748.de9fae3d.js"><link rel="prefetch" href="/assets/js/749.fbb3990b.js"><link rel="prefetch" href="/assets/js/75.c9f883b1.js"><link rel="prefetch" href="/assets/js/750.34d58524.js"><link rel="prefetch" href="/assets/js/751.500e9c8c.js"><link rel="prefetch" href="/assets/js/752.59531e4b.js"><link rel="prefetch" href="/assets/js/753.b3614b22.js"><link rel="prefetch" href="/assets/js/754.ed24fd47.js"><link rel="prefetch" href="/assets/js/755.ae95861e.js"><link rel="prefetch" href="/assets/js/756.b54d9c85.js"><link rel="prefetch" href="/assets/js/757.534c3106.js"><link rel="prefetch" href="/assets/js/758.bce125f3.js"><link rel="prefetch" href="/assets/js/759.50520348.js"><link rel="prefetch" href="/assets/js/76.feb280ac.js"><link rel="prefetch" href="/assets/js/760.b1313293.js"><link rel="prefetch" href="/assets/js/761.d5bdb602.js"><link rel="prefetch" href="/assets/js/762.b0e3e41f.js"><link rel="prefetch" href="/assets/js/763.a080c7e7.js"><link rel="prefetch" href="/assets/js/764.ccb03704.js"><link rel="prefetch" href="/assets/js/765.b10f39a1.js"><link rel="prefetch" href="/assets/js/766.4a926b1c.js"><link rel="prefetch" href="/assets/js/767.aa994bfa.js"><link rel="prefetch" href="/assets/js/768.92331ecd.js"><link rel="prefetch" href="/assets/js/769.c8f55fa3.js"><link rel="prefetch" href="/assets/js/77.fdfc3c24.js"><link rel="prefetch" href="/assets/js/770.1f68a317.js"><link rel="prefetch" href="/assets/js/771.8e38277c.js"><link rel="prefetch" href="/assets/js/772.36c33b5b.js"><link rel="prefetch" href="/assets/js/773.9578c33e.js"><link rel="prefetch" href="/assets/js/774.69fe692c.js"><link rel="prefetch" href="/assets/js/775.1d1b7196.js"><link rel="prefetch" href="/assets/js/776.909a0b30.js"><link rel="prefetch" href="/assets/js/777.e65d2c5a.js"><link rel="prefetch" href="/assets/js/778.d8bb69aa.js"><link rel="prefetch" href="/assets/js/779.fa1b607e.js"><link rel="prefetch" href="/assets/js/78.f37947a6.js"><link rel="prefetch" href="/assets/js/780.382f8da0.js"><link rel="prefetch" href="/assets/js/781.ddaf2ba3.js"><link rel="prefetch" href="/assets/js/782.681752ce.js"><link rel="prefetch" href="/assets/js/783.e3ae0052.js"><link rel="prefetch" href="/assets/js/784.dccbb592.js"><link rel="prefetch" href="/assets/js/785.49b12873.js"><link rel="prefetch" href="/assets/js/786.d659497e.js"><link rel="prefetch" href="/assets/js/787.645d756f.js"><link rel="prefetch" href="/assets/js/788.2d733c6e.js"><link rel="prefetch" href="/assets/js/789.4573c39a.js"><link rel="prefetch" href="/assets/js/79.97224c0e.js"><link rel="prefetch" href="/assets/js/790.f994d16a.js"><link rel="prefetch" href="/assets/js/791.bb0e74fb.js"><link rel="prefetch" href="/assets/js/792.7528bb8c.js"><link rel="prefetch" href="/assets/js/793.ef496a19.js"><link rel="prefetch" href="/assets/js/794.037458e2.js"><link rel="prefetch" href="/assets/js/795.112dbdb7.js"><link rel="prefetch" href="/assets/js/796.5c491d6d.js"><link rel="prefetch" href="/assets/js/797.ca82cfdf.js"><link rel="prefetch" href="/assets/js/798.b526a69c.js"><link rel="prefetch" href="/assets/js/799.3f1255ab.js"><link rel="prefetch" href="/assets/js/8.97e97f58.js"><link rel="prefetch" href="/assets/js/80.593c74c0.js"><link rel="prefetch" href="/assets/js/800.e877b368.js"><link rel="prefetch" href="/assets/js/801.058eb26a.js"><link rel="prefetch" href="/assets/js/802.1fc66a61.js"><link rel="prefetch" href="/assets/js/803.1bc2df16.js"><link rel="prefetch" href="/assets/js/804.2c494535.js"><link rel="prefetch" href="/assets/js/805.a47bec64.js"><link rel="prefetch" href="/assets/js/806.a1c307fa.js"><link rel="prefetch" href="/assets/js/807.8e839562.js"><link rel="prefetch" href="/assets/js/808.3f2c4497.js"><link rel="prefetch" href="/assets/js/809.26190373.js"><link rel="prefetch" href="/assets/js/81.2c2ab37a.js"><link rel="prefetch" href="/assets/js/810.29a08771.js"><link rel="prefetch" href="/assets/js/811.ccd6f10e.js"><link rel="prefetch" href="/assets/js/812.63439073.js"><link rel="prefetch" href="/assets/js/813.89099f3c.js"><link rel="prefetch" href="/assets/js/814.e2a62f85.js"><link rel="prefetch" href="/assets/js/815.8563dad0.js"><link rel="prefetch" href="/assets/js/816.7202a9a3.js"><link rel="prefetch" href="/assets/js/817.2d6f9e46.js"><link rel="prefetch" href="/assets/js/818.4762eeb6.js"><link rel="prefetch" href="/assets/js/83.3ea118d3.js"><link rel="prefetch" href="/assets/js/84.9a20498a.js"><link rel="prefetch" href="/assets/js/85.cdcfb116.js"><link rel="prefetch" href="/assets/js/86.0ab21796.js"><link rel="prefetch" href="/assets/js/87.f12335a7.js"><link rel="prefetch" href="/assets/js/88.41e9ef3f.js"><link rel="prefetch" href="/assets/js/89.9724880c.js"><link rel="prefetch" href="/assets/js/9.95e60f64.js"><link rel="prefetch" href="/assets/js/90.0b0174e2.js"><link rel="prefetch" href="/assets/js/91.02a485de.js"><link rel="prefetch" href="/assets/js/92.88a47467.js"><link rel="prefetch" href="/assets/js/93.77573e9d.js"><link rel="prefetch" href="/assets/js/94.5a443249.js"><link rel="prefetch" href="/assets/js/95.1782e7be.js"><link rel="prefetch" href="/assets/js/96.3818132b.js"><link rel="prefetch" href="/assets/js/97.e5e9589e.js"><link rel="prefetch" href="/assets/js/98.b5b9930f.js"><link rel="prefetch" href="/assets/js/99.28424325.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.48476541.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2b4582cb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt=" " class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Documentation</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UserGuide/Master/QuickStart/QuickStart.html" class="nav-link">latest</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.13.x/QuickStart/QuickStart.html" class="nav-link">v0.13.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.12.x/QuickStart/QuickStart.html" class="nav-link">v0.12.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.11.x/Get Started/QuickStart.html" class="nav-link">v0.11.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.10.x/Get Started/QuickStart.html" class="nav-link">v0.10.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.9.x/0-Get Started/1-QuickStart.html" class="nav-link">v0.9.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.8.x/0-Get Started/1-QuickStart.html" class="nav-link">v0.8.x</a></li></ul></div></div><div class="nav-item"><a href="https://cwiki.apache.org/confluence/display/IOTDB/System+Design" class="nav-link external">
  Design
  <!----></a></div><div class="nav-item"><a href="/Download/" class="nav-link">Download</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cwiki.apache.org/confluence/display/iotdb" class="nav-link external">
  Wiki
  <!----></a></li><li class="dropdown-item"><!----> <a href="/Community/Community-Project Committers.html" class="nav-link">People</a></li><li class="dropdown-item"><!----> <a href="/Community/Community-Powered By.html" class="nav-link">Powered By</a></li><li class="dropdown-item"><!----> <a href="/Community/Materials.html" class="nav-link">Resources</a></li><li class="dropdown-item"><!----> <a href="/Community/Feedback.html" class="nav-link">Feedback</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Development/VoteRelease.html" class="nav-link">How to vote</a></li><li class="dropdown-item"><!----> <a href="/Development/HowToCommit.html" class="nav-link">How to Commit</a></li><li class="dropdown-item"><!----> <a href="/Development/Committer.html" class="nav-link">Become a Committer</a></li><li class="dropdown-item"><!----> <a href="/Development/ContributeGuide.html" class="nav-link">ContributeGuide</a></li><li class="dropdown-item"><!----> <a href="/Development/format-changelist.html" class="nav-link">Changelist of TsFile</a></li><li class="dropdown-item"><!----> <a href="/Development/rpc-changelist.html" class="nav-link">Changelist of RPC</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ASF</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.apache.org/" class="nav-link external">
  Foundation
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/licenses/" class="nav-link external">
  License
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/security/" class="nav-link external">
  Security
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/foundation/sponsorship.html" class="nav-link external">
  Sponsorship
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/foundation/thanks.html" class="nav-link external">
  Thanks
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/events/current-event" class="nav-link external">
  Current Events
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UserGuide/Master/Process-Data/UDF-Library.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/UserGuide/Master/Process-Data/UDF-Library.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/apache/iotdb.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Documentation</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UserGuide/Master/QuickStart/QuickStart.html" class="nav-link">latest</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.13.x/QuickStart/QuickStart.html" class="nav-link">v0.13.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.12.x/QuickStart/QuickStart.html" class="nav-link">v0.12.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.11.x/Get Started/QuickStart.html" class="nav-link">v0.11.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.10.x/Get Started/QuickStart.html" class="nav-link">v0.10.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.9.x/0-Get Started/1-QuickStart.html" class="nav-link">v0.9.x</a></li><li class="dropdown-item"><!----> <a href="/UserGuide/V0.8.x/0-Get Started/1-QuickStart.html" class="nav-link">v0.8.x</a></li></ul></div></div><div class="nav-item"><a href="https://cwiki.apache.org/confluence/display/IOTDB/System+Design" class="nav-link external">
  Design
  <!----></a></div><div class="nav-item"><a href="/Download/" class="nav-link">Download</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cwiki.apache.org/confluence/display/iotdb" class="nav-link external">
  Wiki
  <!----></a></li><li class="dropdown-item"><!----> <a href="/Community/Community-Project Committers.html" class="nav-link">People</a></li><li class="dropdown-item"><!----> <a href="/Community/Community-Powered By.html" class="nav-link">Powered By</a></li><li class="dropdown-item"><!----> <a href="/Community/Materials.html" class="nav-link">Resources</a></li><li class="dropdown-item"><!----> <a href="/Community/Feedback.html" class="nav-link">Feedback</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Development/VoteRelease.html" class="nav-link">How to vote</a></li><li class="dropdown-item"><!----> <a href="/Development/HowToCommit.html" class="nav-link">How to Commit</a></li><li class="dropdown-item"><!----> <a href="/Development/Committer.html" class="nav-link">Become a Committer</a></li><li class="dropdown-item"><!----> <a href="/Development/ContributeGuide.html" class="nav-link">ContributeGuide</a></li><li class="dropdown-item"><!----> <a href="/Development/format-changelist.html" class="nav-link">Changelist of TsFile</a></li><li class="dropdown-item"><!----> <a href="/Development/rpc-changelist.html" class="nav-link">Changelist of RPC</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ASF</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.apache.org/" class="nav-link external">
  Foundation
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/licenses/" class="nav-link external">
  License
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/security/" class="nav-link external">
  Security
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/foundation/sponsorship.html" class="nav-link external">
  Sponsorship
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/foundation/thanks.html" class="nav-link external">
  Thanks
  <!----></a></li><li class="dropdown-item"><!----> <a href="http://www.apache.org/events/current-event" class="nav-link external">
  Current Events
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UserGuide/Master/Process-Data/UDF-Library.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/UserGuide/Master/Process-Data/UDF-Library.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/apache/iotdb.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>IoTDB User Guide (latest)</span> <!----></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>IoTDB Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Quick Start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Data Concept</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Syntax Conventions</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Operate Metadata</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Write and Delete Data</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Query Data</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Process Data</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html" class="sidebar-link">UDF (User Defined Function)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#udf-types" class="sidebar-link">UDF Types</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#udf-development-dependencies" class="sidebar-link">UDF Development Dependencies</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#udtf-user-defined-timeseries-generating-function" class="sidebar-link">UDTF（User Defined Timeseries Generating Function）</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#maven-project-example" class="sidebar-link">Maven Project Example</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#udf-registration" class="sidebar-link">UDF Registration</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#udf-deregistration" class="sidebar-link">UDF Deregistration</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#udf-queries" class="sidebar-link">UDF Queries</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#show-all-registered-udfs" class="sidebar-link">Show All Registered UDFs</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#user-permission-management" class="sidebar-link">User Permission Management</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#configurable-properties" class="sidebar-link">Configurable Properties</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#contribute-udf" class="sidebar-link">Contribute UDF</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#known-implementation-udf-libraries" class="sidebar-link">Known Implementation UDF Libraries</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html#q-a" class="sidebar-link">Q&amp;A</a></li></ul></li><li><a href="/UserGuide/Master/Process-Data/UDF-Library.html" aria-current="page" class="active sidebar-link">UDF Library</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-Library.html#data-profiling" class="sidebar-link">Data Profiling</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-Library.html#data-quality" class="sidebar-link">Data Quality</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-Library.html#data-repairing" class="sidebar-link">Data Repairing</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-Library.html#data-matching" class="sidebar-link">Data Matching</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-Library.html#anomaly-detection" class="sidebar-link">Anomaly Detection</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-Library.html#frequency-domain" class="sidebar-link">Frequency Domain</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-Library.html#series-discovery" class="sidebar-link">Series Discovery</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-Library.html#string-processing" class="sidebar-link">String Processing</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/UDF-Library.html#m4" class="sidebar-link">M4</a></li></ul></li><li><a href="/UserGuide/Master/Process-Data/Select-Into.html" class="sidebar-link">Query Write-back (SELECT INTO)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Select-Into.html#sql" class="sidebar-link">SQL</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Select-Into.html#user-permission-management" class="sidebar-link">User Permission Management</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Select-Into.html#configurable-properties" class="sidebar-link">Configurable Properties</a></li></ul></li><li><a href="/UserGuide/Master/Process-Data/Continuous-Query.html" class="sidebar-link">CQ (Continuous Query)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Continuous-Query.html#sql-statements" class="sidebar-link">SQL statements</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Continuous-Query.html#system-parameter-configuration" class="sidebar-link">System Parameter Configuration</a></li></ul></li><li><a href="/UserGuide/Master/Process-Data/Triggers.html" class="sidebar-link">Triggers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Triggers.html#triggers-implementation" class="sidebar-link">Triggers Implementation</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Triggers.html#triggers-management" class="sidebar-link">Triggers Management</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Triggers.html#utilities" class="sidebar-link">Utilities</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Triggers.html#maven-project-example" class="sidebar-link">Maven Project Example</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Triggers.html#important-notes-2" class="sidebar-link">Important Notes</a></li></ul></li><li><a href="/UserGuide/Master/Process-Data/Alerting.html" class="sidebar-link">Alerting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Alerting.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Alerting.html#deploying-alertmanager" class="sidebar-link">Deploying AlertManager</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Alerting.html#creating-trigger" class="sidebar-link">Creating trigger</a></li><li class="sidebar-sub-header"><a href="/UserGuide/Master/Process-Data/Alerting.html#writing-data" class="sidebar-link">Writing data</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Administration Management</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Maintenance Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ecosystem Integration</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Cluster Setup</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="content content__default"><h1 id="udf-library"><a href="#udf-library" class="header-anchor">#</a> UDF Library</h1> <p>For applications based on time series data, data quality is vital.
<strong>UDF Library</strong> is IoTDB User Defined Functions (UDF) about data quality, including data profiling, data quality evalution and data repairing.
It effectively meets the demand for data quality in the industrial field.</p> <h3 id="quick-start"><a href="#quick-start" class="header-anchor">#</a> Quick Start</h3> <ol><li>Download the JAR with all dependencies and the script of registering UDF.</li> <li>Copy the JAR package to <code>ext\udf</code> under the directory of IoTDB system.</li> <li>Run <code>sbin\start-server.bat</code> (for Windows) or <code>sbin\start-server.sh</code> (for Linux or MacOS) to start IoTDB server.</li> <li>Copy the script to the directory of IoTDB system (under the root directory, at the same level as <code>sbin</code>), modify the parameters in the script if needed and run it to register UDF.</li></ol> <h3 id="contact"><a href="#contact" class="header-anchor">#</a> Contact</h3> <ul><li>Email: iotdb-quality@protonmail.com</li></ul> <h3 id="download"><a href="#download" class="header-anchor">#</a> Download</h3> <p>You can download the following files:</p> <table><tr><th align="center">Version</th> <th align="center">Jar with all dependencies</th> <th align="center" colspan="2">Script of registering UDF</th> <th align="center" colspan="2">User Manual</th> <th align="center">Supported IoTDB Version</th></tr> <tr><td align="center">In progress</td> <td align="center"><a href="https://thulab.github.io/iotdb-quality/download/iotdb-quality-2.0.0-SNAPSHOT-jar-with-dependencies.jar">Jar with all dependencies</a></td> <td align="center"><a href="https://thulab.github.io/iotdb-quality/download/register-UDF.bat">Windows</a></td> <td align="center"><a href="https://thulab.github.io/iotdb-quality/download/register-UDF.sh">Linux/MacOS</a></td> <td align="center"><a href="https://thulab.github.io/iotdb-quality/download/UserManual_en.pdf">English</a></td> <td align="center"><a href="https://thulab.github.io/iotdb-quality/download/UserManual_zh.pdf">Chinese</a></td> <td align="center">&gt;= 0.12.0</td></tr></table> <h2 id="data-profiling"><a href="#data-profiling" class="header-anchor">#</a> Data Profiling</h2> <h3 id="acf"><a href="#acf" class="header-anchor">#</a> ACF</h3> <h4 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the auto-correlation factor of the input time series,
which equals to cross correlation between the same series.
For more information, please refer to <code>XCorr</code> function.</p> <p><strong>Name:</strong> ACF</p> <p><strong>Input Series:</strong> Only support a single input numeric series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE.
There are $2N-1$ data points in the series, and the values are interpreted in details in <code>XCorr</code> function.</p> <p><strong>Note:</strong></p> <ul><li><code>null</code> and <code>NaN</code> values in the input series will be ignored and treated as 0.</li></ul> <h4 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:01.000+08:00|              1|
|2020-01-01T00:00:02.000+08:00|           null|
|2020-01-01T00:00:03.000+08:00|              3|
|2020-01-01T00:00:04.000+08:00|            NaN|
|2020-01-01T00:00:05.000+08:00|              5|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> acf<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">05</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------+
|                         Time|acf(root.test.d1.s1)|
+-----------------------------+--------------------+
|1970-01-01T08:00:00.001+08:00|                 1.0|
|1970-01-01T08:00:00.002+08:00|                 0.0|
|1970-01-01T08:00:00.003+08:00|                 3.6|
|1970-01-01T08:00:00.004+08:00|                 0.0|
|1970-01-01T08:00:00.005+08:00|                 7.0|
|1970-01-01T08:00:00.006+08:00|                 0.0|
|1970-01-01T08:00:00.007+08:00|                 3.6|
|1970-01-01T08:00:00.008+08:00|                 0.0|
|1970-01-01T08:00:00.009+08:00|                 1.0|
+-----------------------------+--------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="distinct"><a href="#distinct" class="header-anchor">#</a> Distinct</h3> <h4 id="usage-2"><a href="#usage-2" class="header-anchor">#</a> Usage</h4> <p>This function returns all unique values in time series.</p> <p><strong>Name:</strong> DISTINCT</p> <p><strong>Input Series:</strong> Only support a single input series. The type is arbitrary.</p> <p><strong>Output Series:</strong> Output a single series. The type is the same as the input.</p> <p><strong>Note:</strong></p> <ul><li>The timestamp of the output series is meaningless. The output order is arbitrary.</li> <li>Missing points and null points in the input series will be ignored, but <code>NaN</code> will not.</li> <li>Case Sensitive.</li></ul> <h4 id="examples-2"><a href="#examples-2" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d2.s2|
+-----------------------------+---------------+
|2020-01-01T08:00:00.001+08:00|          Hello|
|2020-01-01T08:00:00.002+08:00|          hello|
|2020-01-01T08:00:00.003+08:00|          Hello|
|2020-01-01T08:00:00.004+08:00|          World|
|2020-01-01T08:00:00.005+08:00|          World|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------+
|                         Time|distinct(root.test.d2.s2)|
+-----------------------------+-------------------------+
|1970-01-01T08:00:00.001+08:00|                    Hello|
|1970-01-01T08:00:00.002+08:00|                    hello|
|1970-01-01T08:00:00.003+08:00|                    World|
+-----------------------------+-------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="histogram"><a href="#histogram" class="header-anchor">#</a> Histogram</h3> <h4 id="usage-3"><a href="#usage-3" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the distribution histogram of a single column of numerical data.</p> <p><strong>Name:</strong> HISTOGRAM</p> <p><strong>Input Series:</strong> Only supports a single input sequence, the type is INT32 / INT64 / FLOAT / DOUBLE</p> <p><strong>Parameters:</strong></p> <ul><li><code>min</code>: The lower limit of the requested data range, the default value is -Double.MAX_VALUE.</li> <li><code>max</code>: The upper limit of the requested data range, the default value is Double.MAX_VALUE, and the value of start must be less than or equal to end.</li> <li><code>count</code>: The number of buckets of the histogram, the default value is 1. It must be a positive integer.</li></ul> <p><strong>Output Series:</strong> The value of the bucket of the histogram, where the lower bound represented by the i-th bucket (index starts from 1) is $min+ (i-1)\cdot\frac{max-min}{count}$ and the upper bound is $min + i \cdot \frac{max-min}{count}$.</p> <p><strong>Note:</strong></p> <ul><li>If the value is lower than <code>min</code>, it will be put into the 1st bucket. If the value is larger than <code>max</code>, it will be put into the last bucket.</li> <li>Missing points, null points and <code>NaN</code> in the input series will be ignored.</li></ul> <h4 id="examples-3"><a href="#examples-3" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:00.000+08:00|            1.0|
|2020-01-01T00:00:01.000+08:00|            2.0|
|2020-01-01T00:00:02.000+08:00|            3.0|
|2020-01-01T00:00:03.000+08:00|            4.0|
|2020-01-01T00:00:04.000+08:00|            5.0|
|2020-01-01T00:00:05.000+08:00|            6.0|
|2020-01-01T00:00:06.000+08:00|            7.0|
|2020-01-01T00:00:07.000+08:00|            8.0|
|2020-01-01T00:00:08.000+08:00|            9.0|
|2020-01-01T00:00:09.000+08:00|           10.0|
|2020-01-01T00:00:10.000+08:00|           11.0|
|2020-01-01T00:00:11.000+08:00|           12.0|
|2020-01-01T00:00:12.000+08:00|           13.0|
|2020-01-01T00:00:13.000+08:00|           14.0|
|2020-01-01T00:00:14.000+08:00|           15.0|
|2020-01-01T00:00:15.000+08:00|           16.0|
|2020-01-01T00:00:16.000+08:00|           17.0|
|2020-01-01T00:00:17.000+08:00|           18.0|
|2020-01-01T00:00:18.000+08:00|           19.0|
|2020-01-01T00:00:19.000+08:00|           20.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> histogram<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">&quot;min&quot;</span><span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;max&quot;</span><span class="token operator">=</span><span class="token string">&quot;20&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span><span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------------------------------------------------------+
|                         Time|histogram(root.test.d1.s1, &quot;min&quot;=&quot;1&quot;, &quot;max&quot;=&quot;20&quot;, &quot;count&quot;=&quot;10&quot;)|
+-----------------------------+---------------------------------------------------------------+
|1970-01-01T08:00:00.000+08:00|                                                              2|
|1970-01-01T08:00:00.001+08:00|                                                              2|
|1970-01-01T08:00:00.002+08:00|                                                              2|
|1970-01-01T08:00:00.003+08:00|                                                              2|
|1970-01-01T08:00:00.004+08:00|                                                              2|
|1970-01-01T08:00:00.005+08:00|                                                              2|
|1970-01-01T08:00:00.006+08:00|                                                              2|
|1970-01-01T08:00:00.007+08:00|                                                              2|
|1970-01-01T08:00:00.008+08:00|                                                              2|
|1970-01-01T08:00:00.009+08:00|                                                              2|
+-----------------------------+---------------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="integral"><a href="#integral" class="header-anchor">#</a> Integral</h3> <h4 id="usage-4"><a href="#usage-4" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the integration of time series,
which equals to the area under the curve with time as X-axis and values as Y-axis.</p> <p><strong>Name:</strong> INTEGRAL</p> <p><strong>Input Series:</strong> Only support a single input numeric series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>unit</code>: The unit of time used when computing the integral.
The value should be chosen from &quot;1S&quot;, &quot;1s&quot;, &quot;1m&quot;, &quot;1H&quot;, &quot;1d&quot;(case-sensitive),
and each represents taking one millisecond / second / minute / hour / day as 1.0 while calculating the area and integral.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. There is only one data point in the series, whose timestamp is 0 and value is the integration.</p> <p><strong>Note:</strong></p> <ul><li><p>The integral value equals to the sum of the areas of right-angled trapezoids consisting of each two adjacent points and the time-axis.
Choosing different <code>unit</code> implies different scaling of time axis, thus making it apparent to convert the value among those results with constant coefficient.</p></li> <li><p><code>NaN</code> values in the input series will be ignored. The curve or trapezoids will skip these points and use the next valid point.</p></li></ul> <h4 id="examples-4"><a href="#examples-4" class="header-anchor">#</a> Examples</h4> <h5 id="default-parameters"><a href="#default-parameters" class="header-anchor">#</a> Default Parameters</h5> <p>With default parameters, this function will take one second as 1.0.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:01.000+08:00|              1|
|2020-01-01T00:00:02.000+08:00|              2|
|2020-01-01T00:00:03.000+08:00|              5|
|2020-01-01T00:00:04.000+08:00|              6|
|2020-01-01T00:00:05.000+08:00|              7|
|2020-01-01T00:00:08.000+08:00|              8|
|2020-01-01T00:00:09.000+08:00|            NaN|
|2020-01-01T00:00:10.000+08:00|             10|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> integral<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------+
|                         Time|integral(root.test.d1.s1)|
+-----------------------------+-------------------------+
|1970-01-01T08:00:00.000+08:00|                     57.5|
+-----------------------------+-------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Calculation expression:
$$\frac{1}{2}[(1+2) \times 1 + (2+5) \times 1 + (5+6) \times 1 + (6+7) \times 1 + (7+8) \times 3 + (8+10) \times 2] = 57.5$$</p> <h5 id="specific-time-unit"><a href="#specific-time-unit" class="header-anchor">#</a> Specific time unit</h5> <p>With time unit specified as &quot;1m&quot;, this function will take one minute as 1.0.</p> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> integral<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;unit&quot;</span><span class="token operator">=</span><span class="token string">&quot;1m&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------+
|                         Time|integral(root.test.d1.s1)|
+-----------------------------+-------------------------+
|1970-01-01T08:00:00.000+08:00|                    0.958|
+-----------------------------+-------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Calculation expression:
$$\frac{1}{2\times 60}[(1+2) \times 1 + (2+5) \times 1 + (5+6) \times 1 + (6+7) \times 1 + (7+8) \times 3 + (8+10) \times 2] = 0.958$$</p> <h3 id="integralavg"><a href="#integralavg" class="header-anchor">#</a> IntegralAvg</h3> <h4 id="usage-5"><a href="#usage-5" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the function average of time series.
The output equals to the area divided by the time interval using the same time <code>unit</code>.
For more information of the area under the curve, please refer to <code>Integral</code> function.</p> <p><strong>Name:</strong> INTEGRALAVG</p> <p><strong>Input Series:</strong> Only support a single input numeric series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. There is only one data point in the series, whose timestamp is 0 and value is the time-weighted average.</p> <p><strong>Note:</strong></p> <ul><li><p>The time-weighted value equals to the integral value with any <code>unit</code> divided by the time interval of input series.
The result is irrelevant to the time unit used in integral, and it's consistent with the timestamp precision of IoTDB by default.</p></li> <li><p><code>NaN</code> values in the input series will be ignored. The curve or trapezoids will skip these points and use the next valid point.</p></li> <li><p>If the input series is empty, the output value will be 0.0, but if there is only one data point, the value will equal to the input value.</p></li></ul> <h4 id="examples-5"><a href="#examples-5" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:01.000+08:00|              1|
|2020-01-01T00:00:02.000+08:00|              2|
|2020-01-01T00:00:03.000+08:00|              5|
|2020-01-01T00:00:04.000+08:00|              6|
|2020-01-01T00:00:05.000+08:00|              7|
|2020-01-01T00:00:08.000+08:00|              8|
|2020-01-01T00:00:09.000+08:00|            NaN|
|2020-01-01T00:00:10.000+08:00|             10|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> integralavg<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------+
|                         Time|integralavg(root.test.d1.s1)|
+-----------------------------+----------------------------+
|1970-01-01T08:00:00.000+08:00|                        5.75|
+-----------------------------+----------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Calculation expression:
$$\frac{1}{2}[(1+2) \times 1 + (2+5) \times 1 + (5+6) \times 1 + (6+7) \times 1 + (7+8) \times 3 + (8+10) \times 2] / 10 = 5.75$$</p> <h3 id="mad"><a href="#mad" class="header-anchor">#</a> Mad</h3> <h4 id="usage-6"><a href="#usage-6" class="header-anchor">#</a> Usage</h4> <p>The function is used to compute the exact or approximate median absolute deviation (MAD) of a numeric time series. MAD is the median of the deviation of each element from the elements' median.</p> <p>Take a dataset ${1,3,3,5,5,6,7,8,9}$ as an instance. Its median is 5 and the deviation of each element from the median is ${0,0,1,2,2,2,3,4,4}$, whose median is 2. Therefore, the MAD of the original dataset is 2.</p> <p><strong>Name:</strong> MAD</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameter:</strong></p> <ul><li><code>error</code>: The relative error of the approximate MAD. It should be within [0,1) and the default value is 0. Taking <code>error</code>=0.01 as an instance, suppose the exact MAD is $a$ and the approximate MAD is $b$, we have $0.99a \le b \le 1.01a$. With <code>error</code>=0, the output is the exact MAD.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. There is only one data point in the series, whose timestamp is 0 and value is the MAD.</p> <p><strong>Note:</strong> Missing points, null points and <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-6"><a href="#examples-6" class="header-anchor">#</a> Examples</h4> <h5 id="exact-query"><a href="#exact-query" class="header-anchor">#</a> Exact Query</h5> <p>With the default <code>error</code>(<code>error</code>=0), the function queries the exact MAD.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s0|
+-----------------------------+------------+
|2021-03-17T10:32:17.054+08:00|   0.5319929|
|2021-03-17T10:32:18.054+08:00|   0.9304316|
|2021-03-17T10:32:19.054+08:00|  -1.4800133|
|2021-03-17T10:32:20.054+08:00|   0.6114087|
|2021-03-17T10:32:21.054+08:00|   2.5163336|
|2021-03-17T10:32:22.054+08:00|  -1.0845392|
|2021-03-17T10:32:23.054+08:00|   1.0562582|
|2021-03-17T10:32:24.054+08:00|   1.3867859|
|2021-03-17T10:32:25.054+08:00| -0.45429882|
|2021-03-17T10:32:26.054+08:00|   1.0353678|
|2021-03-17T10:32:27.054+08:00|   0.7307929|
|2021-03-17T10:32:28.054+08:00|   2.3167255|
|2021-03-17T10:32:29.054+08:00|    2.342443|
|2021-03-17T10:32:30.054+08:00|   1.5809103|
|2021-03-17T10:32:31.054+08:00|   1.4829416|
|2021-03-17T10:32:32.054+08:00|   1.5800357|
|2021-03-17T10:32:33.054+08:00|   0.7124368|
|2021-03-17T10:32:34.054+08:00| -0.78597564|
|2021-03-17T10:32:35.054+08:00|   1.2058644|
|2021-03-17T10:32:36.054+08:00|   1.4215064|
|2021-03-17T10:32:37.054+08:00|   1.2808295|
|2021-03-17T10:32:38.054+08:00|  -0.6173715|
|2021-03-17T10:32:39.054+08:00|  0.06644377|
|2021-03-17T10:32:40.054+08:00|    2.349338|
|2021-03-17T10:32:41.054+08:00|   1.7335888|
|2021-03-17T10:32:42.054+08:00|   1.5872132|
............
Total line number = 10000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> mad<span class="token punctuation">(</span>s0<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------+
|                         Time| mad(root.test.s0)|
+-----------------------------+------------------+
|1970-01-01T08:00:00.000+08:00|0.6806197166442871|
+-----------------------------+------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="approximate-query"><a href="#approximate-query" class="header-anchor">#</a> Approximate Query</h5> <p>By setting <code>error</code> within (0,1), the function queries the approximate MAD.</p> <p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> mad<span class="token punctuation">(</span>s0<span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token operator">=</span><span class="token string">&quot;0.01&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------------------------+
|                         Time|mad(root.test.s0, &quot;error&quot;=&quot;0.01&quot;)|
+-----------------------------+---------------------------------+
|1970-01-01T08:00:00.000+08:00|               0.6806616245859518|
+-----------------------------+---------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="median"><a href="#median" class="header-anchor">#</a> Median</h3> <h4 id="usage-7"><a href="#usage-7" class="header-anchor">#</a> Usage</h4> <p>The function is used to compute the exact or approximate median of a numeric time series. Median is the value separating the higher half from the lower half of a data sample.</p> <p><strong>Name:</strong> MEDIAN</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameter:</strong></p> <ul><li><code>error</code>: The rank error of the approximate median. It should be within [0,1) and the default value is 0. For instance, a median with <code>error</code>=0.01 is the value of the element with rank percentage 0.49~0.51. With <code>error</code>=0, the output is the exact median.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. There is only one data point in the series, whose timestamp is 0 and value is the median.</p> <h4 id="examples-7"><a href="#examples-7" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s0|
+-----------------------------+------------+
|2021-03-17T10:32:17.054+08:00|   0.5319929|
|2021-03-17T10:32:18.054+08:00|   0.9304316|
|2021-03-17T10:32:19.054+08:00|  -1.4800133|
|2021-03-17T10:32:20.054+08:00|   0.6114087|
|2021-03-17T10:32:21.054+08:00|   2.5163336|
|2021-03-17T10:32:22.054+08:00|  -1.0845392|
|2021-03-17T10:32:23.054+08:00|   1.0562582|
|2021-03-17T10:32:24.054+08:00|   1.3867859|
|2021-03-17T10:32:25.054+08:00| -0.45429882|
|2021-03-17T10:32:26.054+08:00|   1.0353678|
|2021-03-17T10:32:27.054+08:00|   0.7307929|
|2021-03-17T10:32:28.054+08:00|   2.3167255|
|2021-03-17T10:32:29.054+08:00|    2.342443|
|2021-03-17T10:32:30.054+08:00|   1.5809103|
|2021-03-17T10:32:31.054+08:00|   1.4829416|
|2021-03-17T10:32:32.054+08:00|   1.5800357|
|2021-03-17T10:32:33.054+08:00|   0.7124368|
|2021-03-17T10:32:34.054+08:00| -0.78597564|
|2021-03-17T10:32:35.054+08:00|   1.2058644|
|2021-03-17T10:32:36.054+08:00|   1.4215064|
|2021-03-17T10:32:37.054+08:00|   1.2808295|
|2021-03-17T10:32:38.054+08:00|  -0.6173715|
|2021-03-17T10:32:39.054+08:00|  0.06644377|
|2021-03-17T10:32:40.054+08:00|    2.349338|
|2021-03-17T10:32:41.054+08:00|   1.7335888|
|2021-03-17T10:32:42.054+08:00|   1.5872132|
............
Total line number = 10000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> median<span class="token punctuation">(</span>s0<span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token operator">=</span><span class="token string">&quot;0.01&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------+
|                         Time|median(root.test.s0, &quot;error&quot;=&quot;0.01&quot;)|
+-----------------------------+------------------------------------+
|1970-01-01T08:00:00.000+08:00|                   1.021884560585022|
+-----------------------------+------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="minmax"><a href="#minmax" class="header-anchor">#</a> MinMax</h3> <h4 id="usage-8"><a href="#usage-8" class="header-anchor">#</a> Usage</h4> <p>This function is used to standardize the input series with min-max. Minimum value is transformed to 0; maximum value is transformed to 1.</p> <p><strong>Name:</strong> MINMAX</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <ul><li><code>compute</code>: When set to &quot;batch&quot;, anomaly test is conducted after importing all data points; when set to &quot;stream&quot;, it is required to provide minimum and maximum values. The default method is &quot;batch&quot;.</li> <li><code>min</code>: The maximum value when method is set to &quot;stream&quot;.</li> <li><code>max</code>: The minimum value when method is set to &quot;stream&quot;.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE.</p> <h4 id="examples-8"><a href="#examples-8" class="header-anchor">#</a> Examples</h4> <h5 id="batch-computing"><a href="#batch-computing" class="header-anchor">#</a> Batch computing</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s1|
+-----------------------------+------------+
|1970-01-01T08:00:00.100+08:00|         0.0|
|1970-01-01T08:00:00.200+08:00|         0.0|
|1970-01-01T08:00:00.300+08:00|         1.0|
|1970-01-01T08:00:00.400+08:00|        -1.0|
|1970-01-01T08:00:00.500+08:00|         0.0|
|1970-01-01T08:00:00.600+08:00|         0.0|
|1970-01-01T08:00:00.700+08:00|        -2.0|
|1970-01-01T08:00:00.800+08:00|         2.0|
|1970-01-01T08:00:00.900+08:00|         0.0|
|1970-01-01T08:00:01.000+08:00|         0.0|
|1970-01-01T08:00:01.100+08:00|         1.0|
|1970-01-01T08:00:01.200+08:00|        -1.0|
|1970-01-01T08:00:01.300+08:00|        -1.0|
|1970-01-01T08:00:01.400+08:00|         1.0|
|1970-01-01T08:00:01.500+08:00|         0.0|
|1970-01-01T08:00:01.600+08:00|         0.0|
|1970-01-01T08:00:01.700+08:00|        10.0|
|1970-01-01T08:00:01.800+08:00|         2.0|
|1970-01-01T08:00:01.900+08:00|        -2.0|
|1970-01-01T08:00:02.000+08:00|         0.0|
+-----------------------------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> minmax<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------+
|                         Time|minmax(root.test.s1)|
+-----------------------------+--------------------+
|1970-01-01T08:00:00.100+08:00| 0.16666666666666666|
|1970-01-01T08:00:00.200+08:00| 0.16666666666666666|
|1970-01-01T08:00:00.300+08:00|                0.25|
|1970-01-01T08:00:00.400+08:00| 0.08333333333333333|
|1970-01-01T08:00:00.500+08:00| 0.16666666666666666|
|1970-01-01T08:00:00.600+08:00| 0.16666666666666666|
|1970-01-01T08:00:00.700+08:00|                 0.0|
|1970-01-01T08:00:00.800+08:00|  0.3333333333333333|
|1970-01-01T08:00:00.900+08:00| 0.16666666666666666|
|1970-01-01T08:00:01.000+08:00| 0.16666666666666666|
|1970-01-01T08:00:01.100+08:00|                0.25|
|1970-01-01T08:00:01.200+08:00| 0.08333333333333333|
|1970-01-01T08:00:01.300+08:00| 0.08333333333333333|
|1970-01-01T08:00:01.400+08:00|                0.25|
|1970-01-01T08:00:01.500+08:00| 0.16666666666666666|
|1970-01-01T08:00:01.600+08:00| 0.16666666666666666|
|1970-01-01T08:00:01.700+08:00|                 1.0|
|1970-01-01T08:00:01.800+08:00|  0.3333333333333333|
|1970-01-01T08:00:01.900+08:00|                 0.0|
|1970-01-01T08:00:02.000+08:00| 0.16666666666666666|
+-----------------------------+--------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="mode"><a href="#mode" class="header-anchor">#</a> Mode</h3> <h4 id="usage-9"><a href="#usage-9" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the mode of time series, that is, the value that occurs most frequently.</p> <p><strong>Name:</strong> MODE</p> <p><strong>Input Series:</strong> Only support a single input series. The type is arbitrary.</p> <p><strong>Output Series:</strong> Output a single series. The type is the same as the input. There is only one data point in the series, whose timestamp is the same as which the first mode value has and value is the mode.</p> <p><strong>Note:</strong></p> <ul><li>If there are multiple values with the most occurrences, the arbitrary one will be output.</li> <li>Missing points and null points in the input series will be ignored, but <code>NaN</code> will not.</li></ul> <h4 id="examples-9"><a href="#examples-9" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d2.s2|
+-----------------------------+---------------+
|1970-01-01T08:00:00.001+08:00|          Hello|
|1970-01-01T08:00:00.002+08:00|          hello|
|1970-01-01T08:00:00.003+08:00|          Hello|
|1970-01-01T08:00:00.004+08:00|          World|
|1970-01-01T08:00:00.005+08:00|          World|
|1970-01-01T08:00:01.600+08:00|          World|
|1970-01-15T09:37:34.451+08:00|          Hello|
|1970-01-15T09:37:34.452+08:00|          hello|
|1970-01-15T09:37:34.453+08:00|          Hello|
|1970-01-15T09:37:34.454+08:00|          World|
|1970-01-15T09:37:34.455+08:00|          World|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">mode</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------------+
|                         Time|mode(root.test.d2.s2)|
+-----------------------------+---------------------+
|1970-01-01T08:00:00.004+08:00|                World|
+-----------------------------+---------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="mvavg"><a href="#mvavg" class="header-anchor">#</a> MvAvg</h3> <h4 id="usage-10"><a href="#usage-10" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate moving average of input series.</p> <p><strong>Name:</strong> MVAVG</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <ul><li><code>window</code>: Length of the moving window. Default value is 10.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE.</p> <h4 id="examples-10"><a href="#examples-10" class="header-anchor">#</a> Examples</h4> <h5 id="batch-computing-2"><a href="#batch-computing-2" class="header-anchor">#</a> Batch computing</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s1|
+-----------------------------+------------+
|1970-01-01T08:00:00.100+08:00|         0.0|
|1970-01-01T08:00:00.200+08:00|         0.0|
|1970-01-01T08:00:00.300+08:00|         1.0|
|1970-01-01T08:00:00.400+08:00|        -1.0|
|1970-01-01T08:00:00.500+08:00|         0.0|
|1970-01-01T08:00:00.600+08:00|         0.0|
|1970-01-01T08:00:00.700+08:00|        -2.0|
|1970-01-01T08:00:00.800+08:00|         2.0|
|1970-01-01T08:00:00.900+08:00|         0.0|
|1970-01-01T08:00:01.000+08:00|         0.0|
|1970-01-01T08:00:01.100+08:00|         1.0|
|1970-01-01T08:00:01.200+08:00|        -1.0|
|1970-01-01T08:00:01.300+08:00|        -1.0|
|1970-01-01T08:00:01.400+08:00|         1.0|
|1970-01-01T08:00:01.500+08:00|         0.0|
|1970-01-01T08:00:01.600+08:00|         0.0|
|1970-01-01T08:00:01.700+08:00|        10.0|
|1970-01-01T08:00:01.800+08:00|         2.0|
|1970-01-01T08:00:01.900+08:00|        -2.0|
|1970-01-01T08:00:02.000+08:00|         0.0|
+-----------------------------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> mvavg<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;window&quot;</span><span class="token operator">=</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------------------------+
|                         Time|mvavg(root.test.s1, &quot;window&quot;=&quot;3&quot;)|
+-----------------------------+---------------------------------+
|1970-01-01T08:00:00.300+08:00|               0.3333333333333333|
|1970-01-01T08:00:00.400+08:00|                              0.0|
|1970-01-01T08:00:00.500+08:00|              -0.3333333333333333|
|1970-01-01T08:00:00.600+08:00|                              0.0|
|1970-01-01T08:00:00.700+08:00|              -0.6666666666666666|
|1970-01-01T08:00:00.800+08:00|                              0.0|
|1970-01-01T08:00:00.900+08:00|               0.6666666666666666|
|1970-01-01T08:00:01.000+08:00|                              0.0|
|1970-01-01T08:00:01.100+08:00|               0.3333333333333333|
|1970-01-01T08:00:01.200+08:00|                              0.0|
|1970-01-01T08:00:01.300+08:00|              -0.6666666666666666|
|1970-01-01T08:00:01.400+08:00|                              0.0|
|1970-01-01T08:00:01.500+08:00|               0.3333333333333333|
|1970-01-01T08:00:01.600+08:00|                              0.0|
|1970-01-01T08:00:01.700+08:00|               3.3333333333333335|
|1970-01-01T08:00:01.800+08:00|                              4.0|
|1970-01-01T08:00:01.900+08:00|                              0.0|
|1970-01-01T08:00:02.000+08:00|              -0.6666666666666666|
+-----------------------------+---------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="pacf"><a href="#pacf" class="header-anchor">#</a> PACF</h3> <h4 id="usage-11"><a href="#usage-11" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate partial autocorrelation of input series by solving Yule-Walker equation. For some cases, the equation may not be solved, and NaN will be output.</p> <p><strong>Name:</strong> PACF</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <ul><li><code>lag</code>: Maximum lag of pacf to calculate. The default value is $\min(10\log_{10}n,n-1)$, where $n$ is the number of data points.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE.</p> <h4 id="examples-11"><a href="#examples-11" class="header-anchor">#</a> Examples</h4> <h5 id="assigning-maximum-lag"><a href="#assigning-maximum-lag" class="header-anchor">#</a> Assigning maximum lag</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s1|
+-----------------------------+------------+
|2019-12-27T00:00:00.000+08:00|         5.0|
|2019-12-27T00:05:00.000+08:00|         5.0|
|2019-12-27T00:10:00.000+08:00|         5.0|
|2019-12-27T00:15:00.000+08:00|         5.0|
|2019-12-27T00:20:00.000+08:00|         6.0|
|2019-12-27T00:25:00.000+08:00|         5.0|
|2019-12-27T00:30:00.000+08:00|         6.0|
|2019-12-27T00:35:00.000+08:00|         6.0|
|2019-12-27T00:40:00.000+08:00|         6.0|
|2019-12-27T00:45:00.000+08:00|         6.0|
|2019-12-27T00:50:00.000+08:00|         6.0|
|2019-12-27T00:55:00.000+08:00|    5.982609|
|2019-12-27T01:00:00.000+08:00|   5.9652176|
|2019-12-27T01:05:00.000+08:00|    5.947826|
|2019-12-27T01:10:00.000+08:00|   5.9304347|
|2019-12-27T01:15:00.000+08:00|   5.9130435|
|2019-12-27T01:20:00.000+08:00|   5.8956523|
|2019-12-27T01:25:00.000+08:00|    5.878261|
|2019-12-27T01:30:00.000+08:00|   5.8608694|
|2019-12-27T01:35:00.000+08:00|    5.843478|
............
Total line number = 18066
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> pacf<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;lag&quot;</span><span class="token operator">=</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------------+
|                         Time|pacf(root.test.s1, &quot;lag&quot;=&quot;5&quot;)|
+-----------------------------+-----------------------------+
|2019-12-27T00:00:00.000+08:00|                          1.0|
|2019-12-27T00:05:00.000+08:00|           0.3528915091942786|
|2019-12-27T00:10:00.000+08:00|           0.1761346122516304|
|2019-12-27T00:15:00.000+08:00|           0.1492391973294682|
|2019-12-27T00:20:00.000+08:00|          0.03560059645868398|
|2019-12-27T00:25:00.000+08:00|           0.0366222998995286|
+-----------------------------+-----------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="percentile"><a href="#percentile" class="header-anchor">#</a> Percentile</h3> <h4 id="usage-12"><a href="#usage-12" class="header-anchor">#</a> Usage</h4> <p>The function is used to compute the exact or approximate percentile of a numeric time series. A percentile is value of element in the certain rank of the sorted series.</p> <p><strong>Name:</strong> PERCENTILE</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameter:</strong></p> <ul><li><code>rank</code>: The rank percentage of the percentile. It should be (0,1] and the default value is 0.5. For instance, a percentile with <code>rank</code>=0.5 is the median.</li> <li><code>error</code>: The rank error of the approximate percentile. It should be within [0,1) and the default value is 0. For instance, a 0.5-percentile with <code>error</code>=0.01 is the value of the element with rank percentage 0.49~0.51. With <code>error</code>=0, the output is the exact percentile.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is the same as input series. If <code>error</code>=0, there is only one data point in the series, whose timestamp is the same has which the first percentile value has, and value is the percentile, otherwise the timestamp of the only data point is 0.</p> <p><strong>Note:</strong> Missing points, null points and <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-12"><a href="#examples-12" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s0|
+-----------------------------+------------+
|2021-03-17T10:32:17.054+08:00|   0.5319929|
|2021-03-17T10:32:18.054+08:00|   0.9304316|
|2021-03-17T10:32:19.054+08:00|  -1.4800133|
|2021-03-17T10:32:20.054+08:00|   0.6114087|
|2021-03-17T10:32:21.054+08:00|   2.5163336|
|2021-03-17T10:32:22.054+08:00|  -1.0845392|
|2021-03-17T10:32:23.054+08:00|   1.0562582|
|2021-03-17T10:32:24.054+08:00|   1.3867859|
|2021-03-17T10:32:25.054+08:00| -0.45429882|
|2021-03-17T10:32:26.054+08:00|   1.0353678|
|2021-03-17T10:32:27.054+08:00|   0.7307929|
|2021-03-17T10:32:28.054+08:00|   2.3167255|
|2021-03-17T10:32:29.054+08:00|    2.342443|
|2021-03-17T10:32:30.054+08:00|   1.5809103|
|2021-03-17T10:32:31.054+08:00|   1.4829416|
|2021-03-17T10:32:32.054+08:00|   1.5800357|
|2021-03-17T10:32:33.054+08:00|   0.7124368|
|2021-03-17T10:32:34.054+08:00| -0.78597564|
|2021-03-17T10:32:35.054+08:00|   1.2058644|
|2021-03-17T10:32:36.054+08:00|   1.4215064|
|2021-03-17T10:32:37.054+08:00|   1.2808295|
|2021-03-17T10:32:38.054+08:00|  -0.6173715|
|2021-03-17T10:32:39.054+08:00|  0.06644377|
|2021-03-17T10:32:40.054+08:00|    2.349338|
|2021-03-17T10:32:41.054+08:00|   1.7335888|
|2021-03-17T10:32:42.054+08:00|   1.5872132|
............
Total line number = 10000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> percentile<span class="token punctuation">(</span>s0<span class="token punctuation">,</span> <span class="token string">&quot;rank&quot;</span><span class="token operator">=</span><span class="token string">&quot;0.2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token operator">=</span><span class="token string">&quot;0.01&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------------------+
|                         Time|percentile(root.test.s0, &quot;rank&quot;=&quot;0.2&quot;, &quot;error&quot;=&quot;0.01&quot;)|
+-----------------------------+------------------------------------------------------+
|2021-03-17T10:35:02.054+08:00|                                    0.1801469624042511|
+-----------------------------+------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="period"><a href="#period" class="header-anchor">#</a> Period</h3> <h4 id="usage-13"><a href="#usage-13" class="header-anchor">#</a> Usage</h4> <p>The function is used to compute the period of a numeric time series.</p> <p><strong>Name:</strong> PERIOD</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series. The type is INT32. There is only one data point in the series, whose timestamp is 0 and value is the period.</p> <h4 id="examples-13"><a href="#examples-13" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d3.s1|
+-----------------------------+---------------+
|1970-01-01T08:00:00.001+08:00|            1.0|
|1970-01-01T08:00:00.002+08:00|            2.0|
|1970-01-01T08:00:00.003+08:00|            3.0|
|1970-01-01T08:00:00.004+08:00|            1.0|
|1970-01-01T08:00:00.005+08:00|            2.0|
|1970-01-01T08:00:00.006+08:00|            3.0|
|1970-01-01T08:00:00.007+08:00|            1.0|
|1970-01-01T08:00:00.008+08:00|            2.0|
|1970-01-01T08:00:00.009+08:00|            3.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> period<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------+
|                         Time|period(root.test.d3.s1)|
+-----------------------------+-----------------------+
|1970-01-01T08:00:00.000+08:00|                      3|
+-----------------------------+-----------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="qlb"><a href="#qlb" class="header-anchor">#</a> QLB</h3> <h4 id="usage-14"><a href="#usage-14" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate Ljung-Box statistics $Q_{LB}$ for time series, and convert it to p value.</p> <p><strong>Name:</strong> QLB</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters</strong>:</p> <p><code>lag</code>: max lag to calculate. Legal input shall be integer from 1 to n-2, where n is the sample number. Default value is n-2.</p> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. The output series is p value, and timestamp means lag.</p> <p><strong>Note:</strong> If you want to calculate Ljung-Box statistics $Q_{LB}$ instead of p value, you may use ACF function.</p> <h4 id="examples-14"><a href="#examples-14" class="header-anchor">#</a> Examples</h4> <h5 id="using-default-parameter"><a href="#using-default-parameter" class="header-anchor">#</a> Using Default Parameter</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|1970-01-01T00:00:00.100+08:00|           1.22|
|1970-01-01T00:00:00.200+08:00|          -2.78|
|1970-01-01T00:00:00.300+08:00|           1.53|
|1970-01-01T00:00:00.400+08:00|           0.70|
|1970-01-01T00:00:00.500+08:00|           0.75|
|1970-01-01T00:00:00.600+08:00|          -0.72|
|1970-01-01T00:00:00.700+08:00|          -0.22|
|1970-01-01T00:00:00.800+08:00|           0.28|
|1970-01-01T00:00:00.900+08:00|           0.57|
|1970-01-01T00:00:01.000+08:00|          -0.22|
|1970-01-01T00:00:01.100+08:00|          -0.72|
|1970-01-01T00:00:01.200+08:00|           1.34|
|1970-01-01T00:00:01.300+08:00|          -0.25|
|1970-01-01T00:00:01.400+08:00|           0.17|
|1970-01-01T00:00:01.500+08:00|           2.51|
|1970-01-01T00:00:01.600+08:00|           1.42|
|1970-01-01T00:00:01.700+08:00|          -1.34|
|1970-01-01T00:00:01.800+08:00|          -0.01|
|1970-01-01T00:00:01.900+08:00|          -0.49|
|1970-01-01T00:00:02.000+08:00|           1.63|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> QLB<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------+
|                         Time|QLB(root.test.d1.s1)|
+-----------------------------+--------------------+
|1970-01-01T00:00:00.001+08:00|  0.2168702295315677|
|1970-01-01T00:00:00.002+08:00|  0.3068948509261751|
|1970-01-01T00:00:00.003+08:00|  0.4217859150918444|
|1970-01-01T00:00:00.004+08:00|  0.5114539874276656|
|1970-01-01T00:00:00.005+08:00|  0.6560619525616759|
|1970-01-01T00:00:00.006+08:00|  0.7722398654053280|
|1970-01-01T00:00:00.007+08:00|  0.8532491661465290|
|1970-01-01T00:00:00.008+08:00|  0.9028575017542528|
|1970-01-01T00:00:00.009+08:00|  0.9434989988192729|
|1970-01-01T00:00:00.010+08:00|  0.8950280161464689|
|1970-01-01T00:00:00.011+08:00|  0.7701048398839656|
|1970-01-01T00:00:00.012+08:00|  0.7845536060001281|
|1970-01-01T00:00:00.013+08:00|  0.5943030981705825|
|1970-01-01T00:00:00.014+08:00|  0.4618413512531093|
|1970-01-01T00:00:00.015+08:00|  0.2645948244673964|
|1970-01-01T00:00:00.016+08:00|  0.3167530476666645|
|1970-01-01T00:00:00.017+08:00|  0.2330010780351453|
|1970-01-01T00:00:00.018+08:00|  0.0666611237622325|
+-----------------------------+--------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="resample"><a href="#resample" class="header-anchor">#</a> Resample</h3> <h4 id="usage-15"><a href="#usage-15" class="header-anchor">#</a> Usage</h4> <p>This function is used to resample the input series according to a given frequency,
including up-sampling and down-sampling.
Currently, the supported up-sampling methods are
NaN (filling with <code>NaN</code>),
FFill (filling with previous value),
BFill (filling with next value) and
Linear (filling with linear interpolation).
Down-sampling relies on group aggregation,
which supports Max, Min, First, Last, Mean and Median.</p> <p><strong>Name:</strong> RESAMPLE</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>every</code>: The frequency of resampling, which is a positive number with an unit. The unit is 'ms' for millisecond, 's' for second, 'm' for minute, 'h' for hour and 'd' for day. This parameter cannot be lacked.</li> <li><code>interp</code>: The interpolation method of up-sampling, which is 'NaN', 'FFill', 'BFill' or 'Linear'. By default, NaN is used.</li> <li><code>aggr</code>: The aggregation method of down-sampling, which is 'Max', 'Min', 'First', 'Last', 'Mean' or 'Median'. By default, Mean is used.</li> <li><code>start</code>: The start time (inclusive) of resampling with the format 'yyyy-MM-dd HH:mm:ss'. By default, it is the timestamp of the first valid data point.</li> <li><code>end</code>: The end time (exclusive) of resampling with the format 'yyyy-MM-dd HH:mm:ss'. By default, it is the timestamp of the last valid data point.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. It is strictly equispaced with the frequency <code>every</code>.</p> <p><strong>Note:</strong> <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-15"><a href="#examples-15" class="header-anchor">#</a> Examples</h4> <h5 id="up-sampling"><a href="#up-sampling" class="header-anchor">#</a> Up-sampling</h5> <p>When the frequency of resampling is higher than the original frequency, up-sampling starts.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2021-03-06T16:00:00.000+08:00|           3.09|
|2021-03-06T16:15:00.000+08:00|           3.53|
|2021-03-06T16:30:00.000+08:00|            3.5|
|2021-03-06T16:45:00.000+08:00|           3.51|
|2021-03-06T17:00:00.000+08:00|           3.41|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> resample<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">'every'</span><span class="token operator">=</span><span class="token string">'5m'</span><span class="token punctuation">,</span><span class="token string">'interp'</span><span class="token operator">=</span><span class="token string">'linear'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------------------------------------+
|                         Time|resample(root.test.d1.s1, &quot;every&quot;=&quot;5m&quot;, &quot;interp&quot;=&quot;linear&quot;)|
+-----------------------------+----------------------------------------------------------+
|2021-03-06T16:00:00.000+08:00|                                        3.0899999141693115|
|2021-03-06T16:05:00.000+08:00|                                        3.2366665999094644|
|2021-03-06T16:10:00.000+08:00|                                        3.3833332856496177|
|2021-03-06T16:15:00.000+08:00|                                        3.5299999713897705|
|2021-03-06T16:20:00.000+08:00|                                        3.5199999809265137|
|2021-03-06T16:25:00.000+08:00|                                         3.509999990463257|
|2021-03-06T16:30:00.000+08:00|                                                       3.5|
|2021-03-06T16:35:00.000+08:00|                                         3.503333330154419|
|2021-03-06T16:40:00.000+08:00|                                         3.506666660308838|
|2021-03-06T16:45:00.000+08:00|                                         3.509999990463257|
|2021-03-06T16:50:00.000+08:00|                                        3.4766666889190674|
|2021-03-06T16:55:00.000+08:00|                                         3.443333387374878|
|2021-03-06T17:00:00.000+08:00|                                        3.4100000858306885|
+-----------------------------+----------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h5 id="down-sampling"><a href="#down-sampling" class="header-anchor">#</a> Down-sampling</h5> <p>When the frequency of resampling is lower than the original frequency, down-sampling starts.</p> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> resample<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">'every'</span><span class="token operator">=</span><span class="token string">'30m'</span><span class="token punctuation">,</span><span class="token string">'aggr'</span><span class="token operator">=</span><span class="token string">'first'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------------------------------------------+
|                         Time|resample(root.test.d1.s1, &quot;every&quot;=&quot;30m&quot;, &quot;aggr&quot;=&quot;first&quot;)|
+-----------------------------+--------------------------------------------------------+
|2021-03-06T16:00:00.000+08:00|                                      3.0899999141693115|
|2021-03-06T16:30:00.000+08:00|                                                     3.5|
|2021-03-06T17:00:00.000+08:00|                                      3.4100000858306885|
+-----------------------------+--------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="specify-the-time-period"><a href="#specify-the-time-period" class="header-anchor">#</a> Specify the time period</h5> <p>The time period of resampling can be specified with <code>start</code> and <code>end</code>.
The period outside the actual time range will be interpolated.</p> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> resample<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">'every'</span><span class="token operator">=</span><span class="token string">'30m'</span><span class="token punctuation">,</span><span class="token string">'start'</span><span class="token operator">=</span><span class="token string">'2021-03-06 15:00:00'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------------------------------------------------------+
|                         Time|resample(root.test.d1.s1, &quot;every&quot;=&quot;30m&quot;, &quot;start&quot;=&quot;2021-03-06 15:00:00&quot;)|
+-----------------------------+-----------------------------------------------------------------------+
|2021-03-06T15:00:00.000+08:00|                                                                    NaN|
|2021-03-06T15:30:00.000+08:00|                                                                    NaN|
|2021-03-06T16:00:00.000+08:00|                                                      3.309999942779541|
|2021-03-06T16:30:00.000+08:00|                                                     3.5049999952316284|
|2021-03-06T17:00:00.000+08:00|                                                     3.4100000858306885|
+-----------------------------+-----------------------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="sample"><a href="#sample" class="header-anchor">#</a> Sample</h3> <h4 id="usage-16"><a href="#usage-16" class="header-anchor">#</a> Usage</h4> <p>This function is used to sample the input series,
that is, select a specified number of data points from the input series and output them.
Currently, two sampling methods are supported:
<strong>Reservoir sampling</strong> randomly selects data points.
All of the points have the same probability of being sampled.
<strong>Isometric sampling</strong> selects data points at equal index intervals.</p> <p><strong>Name:</strong> SAMPLE</p> <p><strong>Input Series:</strong> Only support a single input series. The type is arbitrary.</p> <p><strong>Parameters:</strong></p> <ul><li><code>method</code>: The method of sampling, which is 'reservoir' or 'isometric'. By default, reservoir sampling is used.</li> <li><code>k</code>: The number of sampling, which is a positive integer. By default, it's 1.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is the same as the input. The length of the output series is <code>k</code>. Each data point in the output series comes from the input series.</p> <p><strong>Note:</strong> If <code>k</code> is greater than the length of input series, all data points in the input series will be output.</p> <h4 id="examples-16"><a href="#examples-16" class="header-anchor">#</a> Examples</h4> <h5 id="reservoir-sampling"><a href="#reservoir-sampling" class="header-anchor">#</a> Reservoir Sampling</h5> <p>When <code>method</code> is 'reservoir' or the default, reservoir sampling is used.
Due to the randomness of this method, the output series shown below is only a possible result.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:01.000+08:00|            1.0|
|2020-01-01T00:00:02.000+08:00|            2.0|
|2020-01-01T00:00:03.000+08:00|            3.0|
|2020-01-01T00:00:04.000+08:00|            4.0|
|2020-01-01T00:00:05.000+08:00|            5.0|
|2020-01-01T00:00:06.000+08:00|            6.0|
|2020-01-01T00:00:07.000+08:00|            7.0|
|2020-01-01T00:00:08.000+08:00|            8.0|
|2020-01-01T00:00:09.000+08:00|            9.0|
|2020-01-01T00:00:10.000+08:00|           10.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> sample<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">'method'</span><span class="token operator">=</span><span class="token string">'reservoir'</span><span class="token punctuation">,</span><span class="token string">'k'</span><span class="token operator">=</span><span class="token string">'5'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------------------+
|                         Time|sample(root.test.d1.s1, &quot;method&quot;=&quot;reservoir&quot;, &quot;k&quot;=&quot;5&quot;)|
+-----------------------------+------------------------------------------------------+
|2020-01-01T00:00:02.000+08:00|                                                   2.0|
|2020-01-01T00:00:03.000+08:00|                                                   3.0|
|2020-01-01T00:00:05.000+08:00|                                                   5.0|
|2020-01-01T00:00:08.000+08:00|                                                   8.0|
|2020-01-01T00:00:10.000+08:00|                                                  10.0|
+-----------------------------+------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h5 id="isometric-sampling"><a href="#isometric-sampling" class="header-anchor">#</a> Isometric Sampling</h5> <p>When <code>method</code> is 'isometric', isometric sampling is used.</p> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> sample<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">'method'</span><span class="token operator">=</span><span class="token string">'isometric'</span><span class="token punctuation">,</span><span class="token string">'k'</span><span class="token operator">=</span><span class="token string">'5'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------------------+
|                         Time|sample(root.test.d1.s1, &quot;method&quot;=&quot;isometric&quot;, &quot;k&quot;=&quot;5&quot;)|
+-----------------------------+------------------------------------------------------+
|2020-01-01T00:00:01.000+08:00|                                                   1.0|
|2020-01-01T00:00:03.000+08:00|                                                   3.0|
|2020-01-01T00:00:05.000+08:00|                                                   5.0|
|2020-01-01T00:00:07.000+08:00|                                                   7.0|
|2020-01-01T00:00:09.000+08:00|                                                   9.0|
+-----------------------------+------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="segment"><a href="#segment" class="header-anchor">#</a> Segment</h3> <h4 id="usage-17"><a href="#usage-17" class="header-anchor">#</a> Usage</h4> <p>This function is used to segment a time series into subsequences according to linear trend, and returns linear fitted values of first values in each subsequence or every data point.</p> <p><strong>Name:</strong> SEGMENT</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><p><code>output</code> :&quot;all&quot; to output all fitted points; &quot;first&quot; to output first fitted points in each subsequence.</p></li> <li><p><code>error</code>: error allowed at linear regression. It is defined as mean absolute error of a subsequence.</p></li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE.</p> <p><strong>Note:</strong> This function treat input series as equal-interval sampled. All data are loaded, so downsample input series first if there are too many data points.</p> <h4 id="examples-17"><a href="#examples-17" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s1|
+-----------------------------+------------+
|1970-01-01T08:00:00.000+08:00|         5.0|
|1970-01-01T08:00:00.100+08:00|         0.0|
|1970-01-01T08:00:00.200+08:00|         1.0|
|1970-01-01T08:00:00.300+08:00|         2.0|
|1970-01-01T08:00:00.400+08:00|         3.0|
|1970-01-01T08:00:00.500+08:00|         4.0|
|1970-01-01T08:00:00.600+08:00|         5.0|
|1970-01-01T08:00:00.700+08:00|         6.0|
|1970-01-01T08:00:00.800+08:00|         7.0|
|1970-01-01T08:00:00.900+08:00|         8.0|
|1970-01-01T08:00:01.000+08:00|         9.0|
|1970-01-01T08:00:01.100+08:00|         9.1|
|1970-01-01T08:00:01.200+08:00|         9.2|
|1970-01-01T08:00:01.300+08:00|         9.3|
|1970-01-01T08:00:01.400+08:00|         9.4|
|1970-01-01T08:00:01.500+08:00|         9.5|
|1970-01-01T08:00:01.600+08:00|         9.6|
|1970-01-01T08:00:01.700+08:00|         9.7|
|1970-01-01T08:00:01.800+08:00|         9.8|
|1970-01-01T08:00:01.900+08:00|         9.9|
|1970-01-01T08:00:02.000+08:00|        10.0|
|1970-01-01T08:00:02.100+08:00|         8.0|
|1970-01-01T08:00:02.200+08:00|         6.0|
|1970-01-01T08:00:02.300+08:00|         4.0|
|1970-01-01T08:00:02.400+08:00|         2.0|
|1970-01-01T08:00:02.500+08:00|         0.0|
|1970-01-01T08:00:02.600+08:00|        -2.0|
|1970-01-01T08:00:02.700+08:00|        -4.0|
|1970-01-01T08:00:02.800+08:00|        -6.0|
|1970-01-01T08:00:02.900+08:00|        -8.0|
|1970-01-01T08:00:03.000+08:00|       -10.0|
|1970-01-01T08:00:03.100+08:00|        10.0|
|1970-01-01T08:00:03.200+08:00|        10.0|
|1970-01-01T08:00:03.300+08:00|        10.0|
|1970-01-01T08:00:03.400+08:00|        10.0|
|1970-01-01T08:00:03.500+08:00|        10.0|
|1970-01-01T08:00:03.600+08:00|        10.0|
|1970-01-01T08:00:03.700+08:00|        10.0|
|1970-01-01T08:00:03.800+08:00|        10.0|
|1970-01-01T08:00:03.900+08:00|        10.0|
+-----------------------------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> segment<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token operator">=</span><span class="token string">&quot;0.1&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------+
|                         Time|segment(root.test.s1, &quot;error&quot;=&quot;0.1&quot;)|
+-----------------------------+------------------------------------+
|1970-01-01T08:00:00.000+08:00|                                 5.0|
|1970-01-01T08:00:00.200+08:00|                                 1.0|
|1970-01-01T08:00:01.000+08:00|                                 9.0|
|1970-01-01T08:00:02.000+08:00|                                10.0|
|1970-01-01T08:00:03.000+08:00|                               -10.0|
|1970-01-01T08:00:03.200+08:00|                                10.0|
+-----------------------------+------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="skew"><a href="#skew" class="header-anchor">#</a> Skew</h3> <h4 id="usage-18"><a href="#usage-18" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the population skewness.</p> <p><strong>Name:</strong> SKEW</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. There is only one data point in the series, whose timestamp is 0 and value is the population skewness.</p> <p><strong>Note:</strong> Missing points, null points and <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-18"><a href="#examples-18" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:00.000+08:00|            1.0|
|2020-01-01T00:00:01.000+08:00|            2.0|
|2020-01-01T00:00:02.000+08:00|            3.0|
|2020-01-01T00:00:03.000+08:00|            4.0|
|2020-01-01T00:00:04.000+08:00|            5.0|
|2020-01-01T00:00:05.000+08:00|            6.0|
|2020-01-01T00:00:06.000+08:00|            7.0|
|2020-01-01T00:00:07.000+08:00|            8.0|
|2020-01-01T00:00:08.000+08:00|            9.0|
|2020-01-01T00:00:09.000+08:00|           10.0|
|2020-01-01T00:00:10.000+08:00|           10.0|
|2020-01-01T00:00:11.000+08:00|           10.0|
|2020-01-01T00:00:12.000+08:00|           10.0|
|2020-01-01T00:00:13.000+08:00|           10.0|
|2020-01-01T00:00:14.000+08:00|           10.0|
|2020-01-01T00:00:15.000+08:00|           10.0|
|2020-01-01T00:00:16.000+08:00|           10.0|
|2020-01-01T00:00:17.000+08:00|           10.0|
|2020-01-01T00:00:18.000+08:00|           10.0|
|2020-01-01T00:00:19.000+08:00|           10.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> skew<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------+
|                         Time|  skew(root.test.d1.s1)|
+-----------------------------+-----------------------+
|1970-01-01T08:00:00.000+08:00|    -0.9998427402292644|
+-----------------------------+-----------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="spline"><a href="#spline" class="header-anchor">#</a> Spline</h3> <h4 id="usage-19"><a href="#usage-19" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate cubic spline interpolation of input series.</p> <p><strong>Name:</strong> SPLINE</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <ul><li><code>points</code>: Number of resampling points.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE.</p> <p><strong>Note</strong>: Output series retains the first and last timestamps of input series. Interpolation points are selected at equal intervals. The function tries to calculate only when there are no less than 4 points in input series.</p> <h4 id="examples-19"><a href="#examples-19" class="header-anchor">#</a> Examples</h4> <h5 id="assigning-number-of-interpolation-points"><a href="#assigning-number-of-interpolation-points" class="header-anchor">#</a> Assigning number of interpolation points</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s1|
+-----------------------------+------------+
|1970-01-01T08:00:00.000+08:00|         0.0|
|1970-01-01T08:00:00.300+08:00|         1.2|
|1970-01-01T08:00:00.500+08:00|         1.7|
|1970-01-01T08:00:00.700+08:00|         2.0|
|1970-01-01T08:00:00.900+08:00|         2.1|
|1970-01-01T08:00:01.100+08:00|         2.0|
|1970-01-01T08:00:01.200+08:00|         1.8|
|1970-01-01T08:00:01.300+08:00|         1.2|
|1970-01-01T08:00:01.400+08:00|         1.0|
|1970-01-01T08:00:01.500+08:00|         1.6|
+-----------------------------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> spline<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;points&quot;</span><span class="token operator">=</span><span class="token string">&quot;151&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------+
|                         Time|spline(root.test.s1, &quot;points&quot;=&quot;151&quot;)|
+-----------------------------+------------------------------------+
|1970-01-01T08:00:00.000+08:00|                                 0.0|
|1970-01-01T08:00:00.010+08:00|                 0.04870000251134237|
|1970-01-01T08:00:00.020+08:00|                 0.09680000495910646|
|1970-01-01T08:00:00.030+08:00|                 0.14430000734329226|
|1970-01-01T08:00:00.040+08:00|                 0.19120000966389972|
|1970-01-01T08:00:00.050+08:00|                 0.23750001192092896|
|1970-01-01T08:00:00.060+08:00|                  0.2832000141143799|
|1970-01-01T08:00:00.070+08:00|                 0.32830001624425253|
|1970-01-01T08:00:00.080+08:00|                  0.3728000183105469|
|1970-01-01T08:00:00.090+08:00|                   0.416700020313263|
|1970-01-01T08:00:00.100+08:00|                  0.4600000222524008|
|1970-01-01T08:00:00.110+08:00|                  0.5027000241279602|
|1970-01-01T08:00:00.120+08:00|                  0.5448000259399414|
|1970-01-01T08:00:00.130+08:00|                  0.5863000276883443|
|1970-01-01T08:00:00.140+08:00|                   0.627200029373169|
|1970-01-01T08:00:00.150+08:00|                  0.6675000309944153|
|1970-01-01T08:00:00.160+08:00|                  0.7072000325520833|
|1970-01-01T08:00:00.170+08:00|                  0.7463000340461731|
|1970-01-01T08:00:00.180+08:00|                  0.7848000354766846|
|1970-01-01T08:00:00.190+08:00|                  0.8227000368436178|
|1970-01-01T08:00:00.200+08:00|                  0.8600000381469728|
|1970-01-01T08:00:00.210+08:00|                  0.8967000393867494|
|1970-01-01T08:00:00.220+08:00|                  0.9328000405629477|
|1970-01-01T08:00:00.230+08:00|                  0.9683000416755676|
|1970-01-01T08:00:00.240+08:00|                  1.0032000427246095|
|1970-01-01T08:00:00.250+08:00|                   1.037500043710073|
|1970-01-01T08:00:00.260+08:00|                   1.071200044631958|
|1970-01-01T08:00:00.270+08:00|                  1.1043000454902647|
|1970-01-01T08:00:00.280+08:00|                  1.1368000462849934|
|1970-01-01T08:00:00.290+08:00|                  1.1687000470161437|
|1970-01-01T08:00:00.300+08:00|                  1.2000000476837158|
|1970-01-01T08:00:00.310+08:00|                  1.2307000483103594|
|1970-01-01T08:00:00.320+08:00|                  1.2608000489139557|
|1970-01-01T08:00:00.330+08:00|                  1.2903000494873524|
|1970-01-01T08:00:00.340+08:00|                  1.3192000500233967|
|1970-01-01T08:00:00.350+08:00|                  1.3475000505149364|
|1970-01-01T08:00:00.360+08:00|                  1.3752000509548186|
|1970-01-01T08:00:00.370+08:00|                   1.402300051335891|
|1970-01-01T08:00:00.380+08:00|                  1.4288000516510009|
|1970-01-01T08:00:00.390+08:00|                  1.4547000518929958|
|1970-01-01T08:00:00.400+08:00|                   1.480000052054723|
|1970-01-01T08:00:00.410+08:00|                  1.5047000521290301|
|1970-01-01T08:00:00.420+08:00|                  1.5288000521087646|
|1970-01-01T08:00:00.430+08:00|                  1.5523000519867738|
|1970-01-01T08:00:00.440+08:00|                   1.575200051755905|
|1970-01-01T08:00:00.450+08:00|                   1.597500051409006|
|1970-01-01T08:00:00.460+08:00|                   1.619200050938924|
|1970-01-01T08:00:00.470+08:00|                  1.6403000503385066|
|1970-01-01T08:00:00.480+08:00|                   1.660800049600601|
|1970-01-01T08:00:00.490+08:00|                   1.680700048718055|
|1970-01-01T08:00:00.500+08:00|                  1.7000000476837158|
|1970-01-01T08:00:00.510+08:00|                  1.7188475466453037|
|1970-01-01T08:00:00.520+08:00|                  1.7373800457262996|
|1970-01-01T08:00:00.530+08:00|                  1.7555825448831923|
|1970-01-01T08:00:00.540+08:00|                  1.7734400440724702|
|1970-01-01T08:00:00.550+08:00|                   1.790937543250622|
|1970-01-01T08:00:00.560+08:00|                  1.8080600423741364|
|1970-01-01T08:00:00.570+08:00|                  1.8247925413995016|
|1970-01-01T08:00:00.580+08:00|                  1.8411200402832066|
|1970-01-01T08:00:00.590+08:00|                  1.8570275389817397|
|1970-01-01T08:00:00.600+08:00|                  1.8725000374515897|
|1970-01-01T08:00:00.610+08:00|                  1.8875225356492449|
|1970-01-01T08:00:00.620+08:00|                   1.902080033531194|
|1970-01-01T08:00:00.630+08:00|                  1.9161575310539258|
|1970-01-01T08:00:00.640+08:00|                  1.9297400281739288|
|1970-01-01T08:00:00.650+08:00|                  1.9428125248476913|
|1970-01-01T08:00:00.660+08:00|                  1.9553600210317021|
|1970-01-01T08:00:00.670+08:00|                    1.96736751668245|
|1970-01-01T08:00:00.680+08:00|                  1.9788200117564232|
|1970-01-01T08:00:00.690+08:00|                  1.9897025062101101|
|1970-01-01T08:00:00.700+08:00|                                 2.0|
|1970-01-01T08:00:00.710+08:00|                  2.0097024933913334|
|1970-01-01T08:00:00.720+08:00|                  2.0188199867081615|
|1970-01-01T08:00:00.730+08:00|                   2.027367479995188|
|1970-01-01T08:00:00.740+08:00|                  2.0353599732971155|
|1970-01-01T08:00:00.750+08:00|                  2.0428124666586482|
|1970-01-01T08:00:00.760+08:00|                   2.049739960124489|
|1970-01-01T08:00:00.770+08:00|                   2.056157453739342|
|1970-01-01T08:00:00.780+08:00|                    2.06207994754791|
|1970-01-01T08:00:00.790+08:00|                   2.067522441594897|
|1970-01-01T08:00:00.800+08:00|                   2.072499935925006|
|1970-01-01T08:00:00.810+08:00|                    2.07702743058294|
|1970-01-01T08:00:00.820+08:00|                   2.081119925613404|
|1970-01-01T08:00:00.830+08:00|                     2.0847924210611|
|1970-01-01T08:00:00.840+08:00|                  2.0880599169707317|
|1970-01-01T08:00:00.850+08:00|                  2.0909374133870027|
|1970-01-01T08:00:00.860+08:00|                  2.0934399103546166|
|1970-01-01T08:00:00.870+08:00|                  2.0955824079182768|
|1970-01-01T08:00:00.880+08:00|                  2.0973799061226863|
|1970-01-01T08:00:00.890+08:00|                   2.098847405012549|
|1970-01-01T08:00:00.900+08:00|                  2.0999999046325684|
|1970-01-01T08:00:00.910+08:00|                  2.1005574051201332|
|1970-01-01T08:00:00.920+08:00|                  2.1002599065303778|
|1970-01-01T08:00:00.930+08:00|                  2.0991524087846245|
|1970-01-01T08:00:00.940+08:00|                  2.0972799118041947|
|1970-01-01T08:00:00.950+08:00|                  2.0946874155104105|
|1970-01-01T08:00:00.960+08:00|                  2.0914199198245944|
|1970-01-01T08:00:00.970+08:00|                  2.0875224246680673|
|1970-01-01T08:00:00.980+08:00|                   2.083039929962151|
|1970-01-01T08:00:00.990+08:00|                  2.0780174356281687|
|1970-01-01T08:00:01.000+08:00|                  2.0724999415874406|
|1970-01-01T08:00:01.010+08:00|                    2.06653244776129|
|1970-01-01T08:00:01.020+08:00|                   2.060159954071038|
|1970-01-01T08:00:01.030+08:00|                   2.053427460438006|
|1970-01-01T08:00:01.040+08:00|                   2.046379966783517|
|1970-01-01T08:00:01.050+08:00|                  2.0390624730288924|
|1970-01-01T08:00:01.060+08:00|                   2.031519979095454|
|1970-01-01T08:00:01.070+08:00|                  2.0237974849045237|
|1970-01-01T08:00:01.080+08:00|                   2.015939990377423|
|1970-01-01T08:00:01.090+08:00|                  2.0079924954354746|
|1970-01-01T08:00:01.100+08:00|                                 2.0|
|1970-01-01T08:00:01.110+08:00|                  1.9907018211101906|
|1970-01-01T08:00:01.120+08:00|                  1.9788509124245144|
|1970-01-01T08:00:01.130+08:00|                  1.9645127287932083|
|1970-01-01T08:00:01.140+08:00|                  1.9477527250665083|
|1970-01-01T08:00:01.150+08:00|                  1.9286363560946513|
|1970-01-01T08:00:01.160+08:00|                  1.9072290767278735|
|1970-01-01T08:00:01.170+08:00|                  1.8835963418164114|
|1970-01-01T08:00:01.180+08:00|                  1.8578036062105014|
|1970-01-01T08:00:01.190+08:00|                  1.8299163247603802|
|1970-01-01T08:00:01.200+08:00|                  1.7999999523162842|
|1970-01-01T08:00:01.210+08:00|                  1.7623635841923329|
|1970-01-01T08:00:01.220+08:00|                  1.7129696477516976|
|1970-01-01T08:00:01.230+08:00|                  1.6543635959181928|
|1970-01-01T08:00:01.240+08:00|                  1.5890908816156328|
|1970-01-01T08:00:01.250+08:00|                  1.5196969577678319|
|1970-01-01T08:00:01.260+08:00|                  1.4487272772986044|
|1970-01-01T08:00:01.270+08:00|                  1.3787272931317647|
|1970-01-01T08:00:01.280+08:00|                  1.3122424581911272|
|1970-01-01T08:00:01.290+08:00|                   1.251818225400506|
|1970-01-01T08:00:01.300+08:00|                  1.2000000476837158|
|1970-01-01T08:00:01.310+08:00|                  1.1548000470995912|
|1970-01-01T08:00:01.320+08:00|                  1.1130667107899999|
|1970-01-01T08:00:01.330+08:00|                  1.0756000393033045|
|1970-01-01T08:00:01.340+08:00|                   1.043200033187868|
|1970-01-01T08:00:01.350+08:00|                   1.016666692992053|
|1970-01-01T08:00:01.360+08:00|                  0.9968000192642223|
|1970-01-01T08:00:01.370+08:00|                  0.9844000125527389|
|1970-01-01T08:00:01.380+08:00|                  0.9802666734059655|
|1970-01-01T08:00:01.390+08:00|                  0.9852000023722649|
|1970-01-01T08:00:01.400+08:00|                                 1.0|
|1970-01-01T08:00:01.410+08:00|                   1.023999999165535|
|1970-01-01T08:00:01.420+08:00|                  1.0559999990463256|
|1970-01-01T08:00:01.430+08:00|                  1.0959999996423722|
|1970-01-01T08:00:01.440+08:00|                  1.1440000009536744|
|1970-01-01T08:00:01.450+08:00|                  1.2000000029802322|
|1970-01-01T08:00:01.460+08:00|                   1.264000005722046|
|1970-01-01T08:00:01.470+08:00|                  1.3360000091791153|
|1970-01-01T08:00:01.480+08:00|                  1.4160000133514405|
|1970-01-01T08:00:01.490+08:00|                  1.5040000182390214|
|1970-01-01T08:00:01.500+08:00|                   1.600000023841858|
+-----------------------------+------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br></div></div><h3 id="spread"><a href="#spread" class="header-anchor">#</a> Spread</h3> <h4 id="usage-20"><a href="#usage-20" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the spread of time series, that is, the maximum value minus the minimum value.</p> <p><strong>Name:</strong> SPREAD</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series. The type is the same as the input. There is only one data point in the series, whose timestamp is 0 and value is the spread.</p> <p><strong>Note:</strong> Missing points, null points and <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-20"><a href="#examples-20" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> spread<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------+
|                         Time|spread(root.test.d1.s1)|
+-----------------------------+-----------------------+
|1970-01-01T08:00:00.000+08:00|                   26.0|
+-----------------------------+-----------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="stddev"><a href="#stddev" class="header-anchor">#</a> Stddev</h3> <h4 id="usage-21"><a href="#usage-21" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the population standard deviation.</p> <p><strong>Name:</strong> STDDEV</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. There is only one data point in the series, whose timestamp is 0 and value is the population standard deviation.</p> <p><strong>Note:</strong> Missing points, null points and <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-21"><a href="#examples-21" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:00.000+08:00|            1.0|
|2020-01-01T00:00:01.000+08:00|            2.0|
|2020-01-01T00:00:02.000+08:00|            3.0|
|2020-01-01T00:00:03.000+08:00|            4.0|
|2020-01-01T00:00:04.000+08:00|            5.0|
|2020-01-01T00:00:05.000+08:00|            6.0|
|2020-01-01T00:00:06.000+08:00|            7.0|
|2020-01-01T00:00:07.000+08:00|            8.0|
|2020-01-01T00:00:08.000+08:00|            9.0|
|2020-01-01T00:00:09.000+08:00|           10.0|
|2020-01-01T00:00:10.000+08:00|           11.0|
|2020-01-01T00:00:11.000+08:00|           12.0|
|2020-01-01T00:00:12.000+08:00|           13.0|
|2020-01-01T00:00:13.000+08:00|           14.0|
|2020-01-01T00:00:14.000+08:00|           15.0|
|2020-01-01T00:00:15.000+08:00|           16.0|
|2020-01-01T00:00:16.000+08:00|           17.0|
|2020-01-01T00:00:17.000+08:00|           18.0|
|2020-01-01T00:00:18.000+08:00|           19.0|
|2020-01-01T00:00:19.000+08:00|           20.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> stddev<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------+
|                         Time|stddev(root.test.d1.s1)|
+-----------------------------+-----------------------+
|1970-01-01T08:00:00.000+08:00|     5.7662812973353965|
+-----------------------------+-----------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="zscore"><a href="#zscore" class="header-anchor">#</a> ZScore</h3> <h4 id="usage-22"><a href="#usage-22" class="header-anchor">#</a> Usage</h4> <p>This function is used to standardize the input series with z-score.</p> <p><strong>Name:</strong> ZSCORE</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <ul><li><code>compute</code>: When set to &quot;batch&quot;, anomaly test is conducted after importing all data points; when set to &quot;stream&quot;, it is required to provide mean and standard deviation. The default method is &quot;batch&quot;.</li> <li><code>avg</code>: Mean value when method is set to &quot;stream&quot;.</li> <li><code>sd</code>: Standard deviation when method is set to &quot;stream&quot;.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE.</p> <h4 id="examples-22"><a href="#examples-22" class="header-anchor">#</a> Examples</h4> <h5 id="batch-computing-3"><a href="#batch-computing-3" class="header-anchor">#</a> Batch computing</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s1|
+-----------------------------+------------+
|1970-01-01T08:00:00.100+08:00|         0.0|
|1970-01-01T08:00:00.200+08:00|         0.0|
|1970-01-01T08:00:00.300+08:00|         1.0|
|1970-01-01T08:00:00.400+08:00|        -1.0|
|1970-01-01T08:00:00.500+08:00|         0.0|
|1970-01-01T08:00:00.600+08:00|         0.0|
|1970-01-01T08:00:00.700+08:00|        -2.0|
|1970-01-01T08:00:00.800+08:00|         2.0|
|1970-01-01T08:00:00.900+08:00|         0.0|
|1970-01-01T08:00:01.000+08:00|         0.0|
|1970-01-01T08:00:01.100+08:00|         1.0|
|1970-01-01T08:00:01.200+08:00|        -1.0|
|1970-01-01T08:00:01.300+08:00|        -1.0|
|1970-01-01T08:00:01.400+08:00|         1.0|
|1970-01-01T08:00:01.500+08:00|         0.0|
|1970-01-01T08:00:01.600+08:00|         0.0|
|1970-01-01T08:00:01.700+08:00|        10.0|
|1970-01-01T08:00:01.800+08:00|         2.0|
|1970-01-01T08:00:01.900+08:00|        -2.0|
|1970-01-01T08:00:02.000+08:00|         0.0|
+-----------------------------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> zscore<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------+
|                         Time|zscore(root.test.s1)|
+-----------------------------+--------------------+
|1970-01-01T08:00:00.100+08:00|-0.20672455764868078|
|1970-01-01T08:00:00.200+08:00|-0.20672455764868078|
|1970-01-01T08:00:00.300+08:00| 0.20672455764868078|
|1970-01-01T08:00:00.400+08:00| -0.6201736729460423|
|1970-01-01T08:00:00.500+08:00|-0.20672455764868078|
|1970-01-01T08:00:00.600+08:00|-0.20672455764868078|
|1970-01-01T08:00:00.700+08:00|  -1.033622788243404|
|1970-01-01T08:00:00.800+08:00|  0.6201736729460423|
|1970-01-01T08:00:00.900+08:00|-0.20672455764868078|
|1970-01-01T08:00:01.000+08:00|-0.20672455764868078|
|1970-01-01T08:00:01.100+08:00| 0.20672455764868078|
|1970-01-01T08:00:01.200+08:00| -0.6201736729460423|
|1970-01-01T08:00:01.300+08:00| -0.6201736729460423|
|1970-01-01T08:00:01.400+08:00| 0.20672455764868078|
|1970-01-01T08:00:01.500+08:00|-0.20672455764868078|
|1970-01-01T08:00:01.600+08:00|-0.20672455764868078|
|1970-01-01T08:00:01.700+08:00|  3.9277665953249348|
|1970-01-01T08:00:01.800+08:00|  0.6201736729460423|
|1970-01-01T08:00:01.900+08:00|  -1.033622788243404|
|1970-01-01T08:00:02.000+08:00|-0.20672455764868078|
+-----------------------------+--------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="data-quality"><a href="#data-quality" class="header-anchor">#</a> Data Quality</h2> <h3 id="completeness"><a href="#completeness" class="header-anchor">#</a> Completeness</h3> <h4 id="usage-23"><a href="#usage-23" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the completeness of time series. The input series are divided into several continuous and non overlapping windows. The timestamp of the first data point and the completeness of each window will be output.</p> <p><strong>Name:</strong> COMPLETENESS</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>window</code>: The size of each window. It is a positive integer or a positive number with an unit. The former is the number of data points in each window. The number of data points in the last window may be less than it. The latter is the time of the window. The unit is 'ms' for millisecond, 's' for second, 'm' for minute, 'h' for hour and 'd' for day. By default, all input data belongs to the same window.</li> <li><code>downtime</code>: Whether the downtime exception is considered in the calculation of completeness. It is 'true' or 'false' (default). When considering the downtime exception, long-term missing data will be considered as downtime exception without any influence on completeness.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. The range of each value is [0,1].</p> <p><strong>Note:</strong> Only when the number of data points in the window exceeds 10, the calculation will be performed. Otherwise, the window will be ignored and nothing will be output.</p> <h4 id="examples-23"><a href="#examples-23" class="header-anchor">#</a> Examples</h4> <h5 id="default-parameters-2"><a href="#default-parameters-2" class="header-anchor">#</a> Default Parameters</h5> <p>With default parameters, this function will regard all input data as the same window.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> completeness<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------------+
|                         Time|completeness(root.test.d1.s1)|
+-----------------------------+-----------------------------+
|2020-01-01T00:00:02.000+08:00|                        0.875|
+-----------------------------+-----------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="specific-window-size"><a href="#specific-window-size" class="header-anchor">#</a> Specific Window Size</h5> <p>When the window size is given, this function will divide the input data as multiple windows.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
|2020-01-01T00:00:32.000+08:00|          130.0|
|2020-01-01T00:00:34.000+08:00|          132.0|
|2020-01-01T00:00:36.000+08:00|          134.0|
|2020-01-01T00:00:38.000+08:00|          136.0|
|2020-01-01T00:00:40.000+08:00|          138.0|
|2020-01-01T00:00:42.000+08:00|          140.0|
|2020-01-01T00:00:44.000+08:00|          142.0|
|2020-01-01T00:00:46.000+08:00|          144.0|
|2020-01-01T00:00:48.000+08:00|          146.0|
|2020-01-01T00:00:50.000+08:00|          148.0|
|2020-01-01T00:00:52.000+08:00|          150.0|
|2020-01-01T00:00:54.000+08:00|          152.0|
|2020-01-01T00:00:56.000+08:00|          154.0|
|2020-01-01T00:00:58.000+08:00|          156.0|
|2020-01-01T00:01:00.000+08:00|          158.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> completeness<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">&quot;window&quot;</span><span class="token operator">=</span><span class="token string">&quot;15&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">01</span>:<span class="token number">00</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------------------------------+
|                         Time|completeness(root.test.d1.s1, &quot;window&quot;=&quot;15&quot;)|
+-----------------------------+--------------------------------------------+
|2020-01-01T00:00:02.000+08:00|                                       0.875|
|2020-01-01T00:00:32.000+08:00|                                         1.0|
+-----------------------------+--------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="consistency"><a href="#consistency" class="header-anchor">#</a> Consistency</h3> <h4 id="usage-24"><a href="#usage-24" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the consistency of time series. The input series are divided into several continuous and non overlapping windows. The timestamp of the first data point and the consistency of each window will be output.</p> <p><strong>Name:</strong> CONSISTENCY</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>window</code>: The size of each window. It is a positive integer or a positive number with an unit. The former is the number of data points in each window. The number of data points in the last window may be less than it. The latter is the time of the window. The unit is 'ms' for millisecond, 's' for second, 'm' for minute, 'h' for hour and 'd' for day. By default, all input data belongs to the same window.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. The range of each value is [0,1].</p> <p><strong>Note:</strong> Only when the number of data points in the window exceeds 10, the calculation will be performed. Otherwise, the window will be ignored and nothing will be output.</p> <h4 id="examples-24"><a href="#examples-24" class="header-anchor">#</a> Examples</h4> <h5 id="default-parameters-3"><a href="#default-parameters-3" class="header-anchor">#</a> Default Parameters</h5> <p>With default parameters, this function will regard all input data as the same window.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> consistency<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------+
|                         Time|consistency(root.test.d1.s1)|
+-----------------------------+----------------------------+
|2020-01-01T00:00:02.000+08:00|          0.9333333333333333|
+-----------------------------+----------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="specific-window-size-2"><a href="#specific-window-size-2" class="header-anchor">#</a> Specific Window Size</h5> <p>When the window size is given, this function will divide the input data as multiple windows.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
|2020-01-01T00:00:32.000+08:00|          130.0|
|2020-01-01T00:00:34.000+08:00|          132.0|
|2020-01-01T00:00:36.000+08:00|          134.0|
|2020-01-01T00:00:38.000+08:00|          136.0|
|2020-01-01T00:00:40.000+08:00|          138.0|
|2020-01-01T00:00:42.000+08:00|          140.0|
|2020-01-01T00:00:44.000+08:00|          142.0|
|2020-01-01T00:00:46.000+08:00|          144.0|
|2020-01-01T00:00:48.000+08:00|          146.0|
|2020-01-01T00:00:50.000+08:00|          148.0|
|2020-01-01T00:00:52.000+08:00|          150.0|
|2020-01-01T00:00:54.000+08:00|          152.0|
|2020-01-01T00:00:56.000+08:00|          154.0|
|2020-01-01T00:00:58.000+08:00|          156.0|
|2020-01-01T00:01:00.000+08:00|          158.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> consistency<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">&quot;window&quot;</span><span class="token operator">=</span><span class="token string">&quot;15&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">01</span>:<span class="token number">00</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------------------+
|                         Time|consistency(root.test.d1.s1, &quot;window&quot;=&quot;15&quot;)|
+-----------------------------+-------------------------------------------+
|2020-01-01T00:00:02.000+08:00|                         0.9333333333333333|
|2020-01-01T00:00:32.000+08:00|                                        1.0|
+-----------------------------+-------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="timeliness"><a href="#timeliness" class="header-anchor">#</a> Timeliness</h3> <h4 id="usage-25"><a href="#usage-25" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the timeliness of time series. The input series are divided into several continuous and non overlapping windows. The timestamp of the first data point and the timeliness of each window will be output.</p> <p><strong>Name:</strong> TIMELINESS</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>window</code>: The size of each window. It is a positive integer or a positive number with an unit. The former is the number of data points in each window. The number of data points in the last window may be less than it. The latter is the time of the window. The unit is 'ms' for millisecond, 's' for second, 'm' for minute, 'h' for hour and 'd' for day. By default, all input data belongs to the same window.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. The range of each value is [0,1].</p> <p><strong>Note:</strong> Only when the number of data points in the window exceeds 10, the calculation will be performed. Otherwise, the window will be ignored and nothing will be output.</p> <h4 id="examples-25"><a href="#examples-25" class="header-anchor">#</a> Examples</h4> <h5 id="default-parameters-4"><a href="#default-parameters-4" class="header-anchor">#</a> Default Parameters</h5> <p>With default parameters, this function will regard all input data as the same window.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> timeliness<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------------------+
|                         Time|timeliness(root.test.d1.s1)|
+-----------------------------+---------------------------+
|2020-01-01T00:00:02.000+08:00|         0.9333333333333333|
+-----------------------------+---------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="specific-window-size-3"><a href="#specific-window-size-3" class="header-anchor">#</a> Specific Window Size</h5> <p>When the window size is given, this function will divide the input data as multiple windows.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
|2020-01-01T00:00:32.000+08:00|          130.0|
|2020-01-01T00:00:34.000+08:00|          132.0|
|2020-01-01T00:00:36.000+08:00|          134.0|
|2020-01-01T00:00:38.000+08:00|          136.0|
|2020-01-01T00:00:40.000+08:00|          138.0|
|2020-01-01T00:00:42.000+08:00|          140.0|
|2020-01-01T00:00:44.000+08:00|          142.0|
|2020-01-01T00:00:46.000+08:00|          144.0|
|2020-01-01T00:00:48.000+08:00|          146.0|
|2020-01-01T00:00:50.000+08:00|          148.0|
|2020-01-01T00:00:52.000+08:00|          150.0|
|2020-01-01T00:00:54.000+08:00|          152.0|
|2020-01-01T00:00:56.000+08:00|          154.0|
|2020-01-01T00:00:58.000+08:00|          156.0|
|2020-01-01T00:01:00.000+08:00|          158.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> timeliness<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">&quot;window&quot;</span><span class="token operator">=</span><span class="token string">&quot;15&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">01</span>:<span class="token number">00</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------+
|                         Time|timeliness(root.test.d1.s1, &quot;window&quot;=&quot;15&quot;)|
+-----------------------------+------------------------------------------+
|2020-01-01T00:00:02.000+08:00|                        0.9333333333333333|
|2020-01-01T00:00:32.000+08:00|                                       1.0|
+-----------------------------+------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="validity"><a href="#validity" class="header-anchor">#</a> Validity</h3> <h4 id="usage-26"><a href="#usage-26" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the Validity of time series. The input series are divided into several continuous and non overlapping windows. The timestamp of the first data point and the Validity of each window will be output.</p> <p><strong>Name:</strong> VALIDITY</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>window</code>: The size of each window. It is a positive integer or a positive number with an unit. The former is the number of data points in each window. The number of data points in the last window may be less than it. The latter is the time of the window. The unit is 'ms' for millisecond, 's' for second, 'm' for minute, 'h' for hour and 'd' for day. By default, all input data belongs to the same window.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. The range of each value is [0,1].</p> <p><strong>Note:</strong> Only when the number of data points in the window exceeds 10, the calculation will be performed. Otherwise, the window will be ignored and nothing will be output.</p> <h4 id="examples-26"><a href="#examples-26" class="header-anchor">#</a> Examples</h4> <h5 id="default-parameters-5"><a href="#default-parameters-5" class="header-anchor">#</a> Default Parameters</h5> <p>With default parameters, this function will regard all input data as the same window.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> Validity<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------+
|                         Time|validity(root.test.d1.s1)|
+-----------------------------+-------------------------+
|2020-01-01T00:00:02.000+08:00|       0.8833333333333333|
+-----------------------------+-------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="specific-window-size-4"><a href="#specific-window-size-4" class="header-anchor">#</a> Specific Window Size</h5> <p>When the window size is given, this function will divide the input data as multiple windows.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
|2020-01-01T00:00:32.000+08:00|          130.0|
|2020-01-01T00:00:34.000+08:00|          132.0|
|2020-01-01T00:00:36.000+08:00|          134.0|
|2020-01-01T00:00:38.000+08:00|          136.0|
|2020-01-01T00:00:40.000+08:00|          138.0|
|2020-01-01T00:00:42.000+08:00|          140.0|
|2020-01-01T00:00:44.000+08:00|          142.0|
|2020-01-01T00:00:46.000+08:00|          144.0|
|2020-01-01T00:00:48.000+08:00|          146.0|
|2020-01-01T00:00:50.000+08:00|          148.0|
|2020-01-01T00:00:52.000+08:00|          150.0|
|2020-01-01T00:00:54.000+08:00|          152.0|
|2020-01-01T00:00:56.000+08:00|          154.0|
|2020-01-01T00:00:58.000+08:00|          156.0|
|2020-01-01T00:01:00.000+08:00|          158.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> Validity<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">&quot;window&quot;</span><span class="token operator">=</span><span class="token string">&quot;15&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">01</span>:<span class="token number">00</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------------------+
|                         Time|validity(root.test.d1.s1, &quot;window&quot;=&quot;15&quot;)|
+-----------------------------+----------------------------------------+
|2020-01-01T00:00:02.000+08:00|                      0.8833333333333333|
|2020-01-01T00:00:32.000+08:00|                                     1.0|
+-----------------------------+----------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="data-repairing"><a href="#data-repairing" class="header-anchor">#</a> Data Repairing</h2> <h3 id="timestamprepair"><a href="#timestamprepair" class="header-anchor">#</a> TimestampRepair</h3> <p>This function is used for timestamp repair.
According to the given standard time interval,
the method of minimizing the repair cost is adopted.
By fine-tuning the timestamps,
the original data with unstable timestamp interval is repaired to strictly equispaced data.
If no standard time interval is given,
this function will use the <strong>median</strong>, <strong>mode</strong> or <strong>cluster</strong> of the time interval to estimate the standard time interval.</p> <p><strong>Name:</strong> TIMESTAMPREPAIR</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>interval</code>: The standard time interval whose unit is millisecond. It is a positive integer. By default, it will be estimated according to the given method.</li> <li><code>method</code>: The method to estimate the standard time interval, which is 'median', 'mode' or 'cluster'. This parameter is only valid when <code>interval</code> is not given. By default, median will be used.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is the same as the input. This series is the input after repairing.</p> <h4 id="examples-27"><a href="#examples-27" class="header-anchor">#</a> Examples</h4> <h5 id="manually-specify-the-standard-time-interval"><a href="#manually-specify-the-standard-time-interval" class="header-anchor">#</a> Manually Specify the Standard Time Interval</h5> <p>When <code>interval</code> is given, this function repairs according to the given standard time interval.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d2.s1|
+-----------------------------+---------------+
|2021-07-01T12:00:00.000+08:00|            1.0|
|2021-07-01T12:00:10.000+08:00|            2.0|
|2021-07-01T12:00:19.000+08:00|            3.0|
|2021-07-01T12:00:30.000+08:00|            4.0|
|2021-07-01T12:00:40.000+08:00|            5.0|
|2021-07-01T12:00:50.000+08:00|            6.0|
|2021-07-01T12:01:01.000+08:00|            7.0|
|2021-07-01T12:01:11.000+08:00|            8.0|
|2021-07-01T12:01:21.000+08:00|            9.0|
|2021-07-01T12:01:31.000+08:00|           10.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> timestamprepair<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">'interval'</span><span class="token operator">=</span><span class="token string">'10000'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------------------------------+
|                         Time|timestamprepair(root.test.d2.s1, &quot;interval&quot;=&quot;10000&quot;)|
+-----------------------------+----------------------------------------------------+
|2021-07-01T12:00:00.000+08:00|                                                 1.0|
|2021-07-01T12:00:10.000+08:00|                                                 2.0|
|2021-07-01T12:00:20.000+08:00|                                                 3.0|
|2021-07-01T12:00:30.000+08:00|                                                 4.0|
|2021-07-01T12:00:40.000+08:00|                                                 5.0|
|2021-07-01T12:00:50.000+08:00|                                                 6.0|
|2021-07-01T12:01:00.000+08:00|                                                 7.0|
|2021-07-01T12:01:10.000+08:00|                                                 8.0|
|2021-07-01T12:01:20.000+08:00|                                                 9.0|
|2021-07-01T12:01:30.000+08:00|                                                10.0|
+-----------------------------+----------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h5 id="automatically-estimate-the-standard-time-interval"><a href="#automatically-estimate-the-standard-time-interval" class="header-anchor">#</a> Automatically Estimate the Standard Time Interval</h5> <p>When <code>interval</code> is default, this function estimates the standard time interval.</p> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> timestamprepair<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------------------+
|                         Time|timestamprepair(root.test.d2.s1)|
+-----------------------------+--------------------------------+
|2021-07-01T12:00:00.000+08:00|                             1.0|
|2021-07-01T12:00:10.000+08:00|                             2.0|
|2021-07-01T12:00:20.000+08:00|                             3.0|
|2021-07-01T12:00:30.000+08:00|                             4.0|
|2021-07-01T12:00:40.000+08:00|                             5.0|
|2021-07-01T12:00:50.000+08:00|                             6.0|
|2021-07-01T12:01:00.000+08:00|                             7.0|
|2021-07-01T12:01:10.000+08:00|                             8.0|
|2021-07-01T12:01:20.000+08:00|                             9.0|
|2021-07-01T12:01:30.000+08:00|                            10.0|
+-----------------------------+--------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="valuefill"><a href="#valuefill" class="header-anchor">#</a> ValueFill</h3> <h4 id="usage-27"><a href="#usage-27" class="header-anchor">#</a> Usage</h4> <p>This function is used to impute time series. Several methods are supported.</p> <p><strong>Name</strong>: ValueFill
<strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>method</code>: {&quot;mean&quot;, &quot;previous&quot;, &quot;linear&quot;, &quot;likelihood&quot;, &quot;AR&quot;, &quot;MA&quot;, &quot;SCREEN&quot;}, default &quot;linear&quot;.
Method to use for imputation in series. &quot;mean&quot;: use global mean value to fill holes; &quot;previous&quot;: propagate last valid observation forward to next valid. &quot;linear&quot;: simplest interpolation method; &quot;likelihood&quot;:Maximum likelihood estimation based on the normal distribution of speed; &quot;AR&quot;: auto regression; &quot;MA&quot;: moving average; &quot;SCREEN&quot;: speed constraint.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is the same as the input. This series is the input after repairing.</p> <p><strong>Note:</strong> AR method use AR(1) model. Input value should be auto-correlated, or the function would output a single point (0, 0.0).</p> <h4 id="examples-28"><a href="#examples-28" class="header-anchor">#</a> Examples</h4> <h5 id="fill-with-linear"><a href="#fill-with-linear" class="header-anchor">#</a> Fill with linear</h5> <p>When <code>method</code> is &quot;linear&quot; or the default, Screen method is used to impute.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d2.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|            NaN|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|            NaN|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|            NaN|
|2020-01-01T00:00:22.000+08:00|            NaN|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|          128.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> valuefill<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------+
|                         Time|valuefill(root.test.d2)|
+-----------------------------+-----------------------+
|2020-01-01T00:00:02.000+08:00|                    NaN|
|2020-01-01T00:00:03.000+08:00|                  101.0|
|2020-01-01T00:00:04.000+08:00|                  102.0|
|2020-01-01T00:00:06.000+08:00|                  104.0|
|2020-01-01T00:00:08.000+08:00|                  126.0|
|2020-01-01T00:00:10.000+08:00|                  108.0|
|2020-01-01T00:00:14.000+08:00|                  108.0|
|2020-01-01T00:00:15.000+08:00|                  113.0|
|2020-01-01T00:00:16.000+08:00|                  114.0|
|2020-01-01T00:00:18.000+08:00|                  116.0|
|2020-01-01T00:00:20.000+08:00|                  118.7|
|2020-01-01T00:00:22.000+08:00|                  121.3|
|2020-01-01T00:00:26.000+08:00|                  124.0|
|2020-01-01T00:00:28.000+08:00|                  126.0|
|2020-01-01T00:00:30.000+08:00|                  128.0|
+-----------------------------+-----------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h5 id="previous-fill"><a href="#previous-fill" class="header-anchor">#</a> Previous Fill</h5> <p>When <code>method</code> is &quot;previous&quot;, previous method is used.</p> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> valuefill<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">&quot;method&quot;</span><span class="token operator">=</span><span class="token string">&quot;previous&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------------------+
|                         Time|valuefill(root.test.d2,&quot;method&quot;=&quot;previous&quot;)|
+-----------------------------+-------------------------------------------+
|2020-01-01T00:00:02.000+08:00|                                        NaN|
|2020-01-01T00:00:03.000+08:00|                                      101.0|
|2020-01-01T00:00:04.000+08:00|                                      102.0|
|2020-01-01T00:00:06.000+08:00|                                      104.0|
|2020-01-01T00:00:08.000+08:00|                                      126.0|
|2020-01-01T00:00:10.000+08:00|                                      108.0|
|2020-01-01T00:00:14.000+08:00|                                      110.5|
|2020-01-01T00:00:15.000+08:00|                                      113.0|
|2020-01-01T00:00:16.000+08:00|                                      114.0|
|2020-01-01T00:00:18.000+08:00|                                      116.0|
|2020-01-01T00:00:20.000+08:00|                                      116.0|
|2020-01-01T00:00:22.000+08:00|                                      116.0|
|2020-01-01T00:00:26.000+08:00|                                      124.0|
|2020-01-01T00:00:28.000+08:00|                                      126.0|
|2020-01-01T00:00:30.000+08:00|                                      128.0|
+-----------------------------+-------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="valuerepair"><a href="#valuerepair" class="header-anchor">#</a> ValueRepair</h3> <h4 id="usage-28"><a href="#usage-28" class="header-anchor">#</a> Usage</h4> <p>This function is used to repair the value of the time series.
Currently, two methods are supported:
<strong>Screen</strong> is a method based on speed threshold, which makes all speeds meet the threshold requirements under the premise of minimum changes;
<strong>LsGreedy</strong> is a method based on speed change likelihood, which models speed changes as Gaussian distribution, and uses a greedy algorithm to maximize the likelihood.</p> <p><strong>Name:</strong> VALUEREPAIR</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>method</code>: The method used to repair, which is 'Screen' or 'LsGreedy'. By default, Screen is used.</li> <li><code>minSpeed</code>: This parameter is only valid with Screen. It is the speed threshold. Speeds below it will be regarded as outliers. By default, it is the median minus 3 times of median absolute deviation.</li> <li><code>maxSpeed</code>: This parameter is only valid with Screen. It is the speed threshold. Speeds above it will be regarded as outliers. By default, it is the median plus 3 times of median absolute deviation.</li> <li><code>center</code>: This parameter is only valid with LsGreedy. It is the center of the Gaussian distribution of speed changes. By default, it is 0.</li> <li><code>sigma</code>: This parameter is only valid with LsGreedy. It is the standard deviation of the Gaussian distribution of speed changes. By default, it is the median absolute deviation.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is the same as the input. This series is the input after repairing.</p> <p><strong>Note:</strong> <code>NaN</code> will be filled with linear interpolation before repairing.</p> <h4 id="examples-29"><a href="#examples-29" class="header-anchor">#</a> Examples</h4> <h5 id="repair-with-screen"><a href="#repair-with-screen" class="header-anchor">#</a> Repair with Screen</h5> <p>When <code>method</code> is 'Screen' or the default, Screen method is used.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d2.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          100.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> valuerepair<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------+
|                         Time|valuerepair(root.test.d2.s1)|
+-----------------------------+----------------------------+
|2020-01-01T00:00:02.000+08:00|                       100.0|
|2020-01-01T00:00:03.000+08:00|                       101.0|
|2020-01-01T00:00:04.000+08:00|                       102.0|
|2020-01-01T00:00:06.000+08:00|                       104.0|
|2020-01-01T00:00:08.000+08:00|                       106.0|
|2020-01-01T00:00:10.000+08:00|                       108.0|
|2020-01-01T00:00:14.000+08:00|                       112.0|
|2020-01-01T00:00:15.000+08:00|                       113.0|
|2020-01-01T00:00:16.000+08:00|                       114.0|
|2020-01-01T00:00:18.000+08:00|                       116.0|
|2020-01-01T00:00:20.000+08:00|                       118.0|
|2020-01-01T00:00:22.000+08:00|                       120.0|
|2020-01-01T00:00:26.000+08:00|                       124.0|
|2020-01-01T00:00:28.000+08:00|                       126.0|
|2020-01-01T00:00:30.000+08:00|                       128.0|
+-----------------------------+----------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h5 id="repair-with-lsgreedy"><a href="#repair-with-lsgreedy" class="header-anchor">#</a> Repair with LsGreedy</h5> <p>When <code>method</code> is 'LsGreedy', LsGreedy method is used.</p> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> valuerepair<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">'method'</span><span class="token operator">=</span><span class="token string">'LsGreedy'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------------------------+
|                         Time|valuerepair(root.test.d2.s1, &quot;method&quot;=&quot;LsGreedy&quot;)|
+-----------------------------+-------------------------------------------------+
|2020-01-01T00:00:02.000+08:00|                                            100.0|
|2020-01-01T00:00:03.000+08:00|                                            101.0|
|2020-01-01T00:00:04.000+08:00|                                            102.0|
|2020-01-01T00:00:06.000+08:00|                                            104.0|
|2020-01-01T00:00:08.000+08:00|                                            106.0|
|2020-01-01T00:00:10.000+08:00|                                            108.0|
|2020-01-01T00:00:14.000+08:00|                                            112.0|
|2020-01-01T00:00:15.000+08:00|                                            113.0|
|2020-01-01T00:00:16.000+08:00|                                            114.0|
|2020-01-01T00:00:18.000+08:00|                                            116.0|
|2020-01-01T00:00:20.000+08:00|                                            118.0|
|2020-01-01T00:00:22.000+08:00|                                            120.0|
|2020-01-01T00:00:26.000+08:00|                                            124.0|
|2020-01-01T00:00:28.000+08:00|                                            126.0|
|2020-01-01T00:00:30.000+08:00|                                            128.0|
+-----------------------------+-------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="data-matching"><a href="#data-matching" class="header-anchor">#</a> Data Matching</h2> <h3 id="cov"><a href="#cov" class="header-anchor">#</a> Cov</h3> <h4 id="usage-29"><a href="#usage-29" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the population covariance.</p> <p><strong>Name:</strong> COV</p> <p><strong>Input Series:</strong> Only support two input series. The types are both INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. There is only one data point in the series, whose timestamp is 0 and value is the population covariance.</p> <p><strong>Note:</strong></p> <ul><li>If a row contains missing points, null points or <code>NaN</code>, it will be ignored;</li> <li>If all rows are ignored, <code>NaN</code> will be output.</li></ul> <h4 id="examples-30"><a href="#examples-30" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+---------------+
|                         Time|root.test.d2.s1|root.test.d2.s2|
+-----------------------------+---------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|          101.0|
|2020-01-01T00:00:03.000+08:00|          101.0|           null|
|2020-01-01T00:00:04.000+08:00|          102.0|          101.0|
|2020-01-01T00:00:06.000+08:00|          104.0|          102.0|
|2020-01-01T00:00:08.000+08:00|          126.0|          102.0|
|2020-01-01T00:00:10.000+08:00|          108.0|          103.0|
|2020-01-01T00:00:12.000+08:00|           null|          103.0|
|2020-01-01T00:00:14.000+08:00|          112.0|          104.0|
|2020-01-01T00:00:15.000+08:00|          113.0|           null|
|2020-01-01T00:00:16.000+08:00|          114.0|          104.0|
|2020-01-01T00:00:18.000+08:00|          116.0|          105.0|
|2020-01-01T00:00:20.000+08:00|          118.0|          105.0|
|2020-01-01T00:00:22.000+08:00|          100.0|          106.0|
|2020-01-01T00:00:26.000+08:00|          124.0|          108.0|
|2020-01-01T00:00:28.000+08:00|          126.0|          108.0|
|2020-01-01T00:00:30.000+08:00|            NaN|          108.0|
+-----------------------------+---------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> cov<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------------+
|                         Time|cov(root.test.d2.s1, root.test.d2.s2)|
+-----------------------------+-------------------------------------+
|1970-01-01T08:00:00.000+08:00|                   12.291666666666666|
+-----------------------------+-------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="dtw"><a href="#dtw" class="header-anchor">#</a> DTW</h3> <h4 id="usage-30"><a href="#usage-30" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the DTW distance between two input series.</p> <p><strong>Name:</strong> DTW</p> <p><strong>Input Series:</strong> Only support two input series. The types are both INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. There is only one data point in the series, whose timestamp is 0 and value is the DTW distance.</p> <p><strong>Note:</strong></p> <ul><li>If a row contains missing points, null points or <code>NaN</code>, it will be ignored;</li> <li>If all rows are ignored, <code>0</code> will be output.</li></ul> <h4 id="examples-31"><a href="#examples-31" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+---------------+
|                         Time|root.test.d2.s1|root.test.d2.s2|
+-----------------------------+---------------+---------------+
|1970-01-01T08:00:00.001+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.002+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.003+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.004+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.005+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.006+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.007+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.008+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.009+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.010+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.011+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.012+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.013+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.014+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.015+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.016+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.017+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.018+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.019+08:00|            1.0|            2.0|
|1970-01-01T08:00:00.020+08:00|            1.0|            2.0|
+-----------------------------+---------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> dtw<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------------+
|                         Time|dtw(root.test.d2.s1, root.test.d2.s2)|
+-----------------------------+-------------------------------------+
|1970-01-01T08:00:00.000+08:00|                                 20.0|
+-----------------------------+-------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="pearson"><a href="#pearson" class="header-anchor">#</a> Pearson</h3> <h4 id="usage-31"><a href="#usage-31" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the Pearson Correlation Coefficient.</p> <p><strong>Name:</strong> PEARSON</p> <p><strong>Input Series:</strong> Only support two input series. The types are both INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. There is only one data point in the series, whose timestamp is 0 and value is the Pearson Correlation Coefficient.</p> <p><strong>Note:</strong></p> <ul><li>If a row contains missing points, null points or <code>NaN</code>, it will be ignored;</li> <li>If all rows are ignored, <code>NaN</code> will be output.</li></ul> <h4 id="examples-32"><a href="#examples-32" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+---------------+
|                         Time|root.test.d2.s1|root.test.d2.s2|
+-----------------------------+---------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|          101.0|
|2020-01-01T00:00:03.000+08:00|          101.0|           null|
|2020-01-01T00:00:04.000+08:00|          102.0|          101.0|
|2020-01-01T00:00:06.000+08:00|          104.0|          102.0|
|2020-01-01T00:00:08.000+08:00|          126.0|          102.0|
|2020-01-01T00:00:10.000+08:00|          108.0|          103.0|
|2020-01-01T00:00:12.000+08:00|           null|          103.0|
|2020-01-01T00:00:14.000+08:00|          112.0|          104.0|
|2020-01-01T00:00:15.000+08:00|          113.0|           null|
|2020-01-01T00:00:16.000+08:00|          114.0|          104.0|
|2020-01-01T00:00:18.000+08:00|          116.0|          105.0|
|2020-01-01T00:00:20.000+08:00|          118.0|          105.0|
|2020-01-01T00:00:22.000+08:00|          100.0|          106.0|
|2020-01-01T00:00:26.000+08:00|          124.0|          108.0|
|2020-01-01T00:00:28.000+08:00|          126.0|          108.0|
|2020-01-01T00:00:30.000+08:00|            NaN|          108.0|
+-----------------------------+---------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> pearson<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------------------------+
|                         Time|pearson(root.test.d2.s1, root.test.d2.s2)|
+-----------------------------+-----------------------------------------+
|1970-01-01T08:00:00.000+08:00|                       0.5630881927754872|
+-----------------------------+-----------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ptnsym"><a href="#ptnsym" class="header-anchor">#</a> PtnSym</h3> <h4 id="usage-32"><a href="#usage-32" class="header-anchor">#</a> Usage</h4> <p>This function is used to find all symmetric subseries in the input whose degree of symmetry is less than the threshold.
The degree of symmetry is calculated by DTW.
The smaller the degree, the more symmetrical the series is.</p> <p><strong>Name:</strong> PATTERNSYMMETRIC</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE</p> <p><strong>Parameter:</strong></p> <ul><li><code>window</code>: The length of the symmetric subseries. It's a positive integer and the default value is 10.</li> <li><code>threshold</code>: The threshold of the degree of symmetry. It's non-negative. Only the subseries whose degree of symmetry is below it will be output. By default, all subseries will be output.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE. Each data point in the output series corresponds to a symmetric subseries. The output timestamp is the starting timestamp of the subseries and the output value is the degree of symmetry.</p> <h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s4|
+-----------------------------+---------------+
|2021-01-01T12:00:00.000+08:00|            1.0|
|2021-01-01T12:00:01.000+08:00|            2.0|
|2021-01-01T12:00:02.000+08:00|            3.0|
|2021-01-01T12:00:03.000+08:00|            2.0|
|2021-01-01T12:00:04.000+08:00|            1.0|
|2021-01-01T12:00:05.000+08:00|            1.0|
|2021-01-01T12:00:06.000+08:00|            1.0|
|2021-01-01T12:00:07.000+08:00|            1.0|
|2021-01-01T12:00:08.000+08:00|            2.0|
|2021-01-01T12:00:09.000+08:00|            3.0|
|2021-01-01T12:00:10.000+08:00|            2.0|
|2021-01-01T12:00:11.000+08:00|            1.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> ptnsym<span class="token punctuation">(</span>s4<span class="token punctuation">,</span> <span class="token string">'window'</span><span class="token operator">=</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'threshold'</span><span class="token operator">=</span><span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------------------+
|                         Time|ptnsym(root.test.d1.s4, &quot;window&quot;=&quot;5&quot;, &quot;threshold&quot;=&quot;0&quot;)|
+-----------------------------+------------------------------------------------------+
|2021-01-01T12:00:00.000+08:00|                                                   0.0|
|2021-01-01T12:00:07.000+08:00|                                                   0.0|
+-----------------------------+------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="xcorr"><a href="#xcorr" class="header-anchor">#</a> XCorr</h3> <h4 id="usage-33"><a href="#usage-33" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the cross correlation function of given two time series.
For discrete time series, cross correlation is given by
$$CR(n) = \frac{1}{N} \sum_{m=1}^N S_1[m]S_2[m+n]$$
which represent the similarities between two series with different index shifts.</p> <p><strong>Name:</strong> XCORR</p> <p><strong>Input Series:</strong> Only support two input numeric series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output Series:</strong> Output a single series with DOUBLE as datatype.
There are $2N-1$ data points in the series, the center of which represents the cross correlation
calculated with pre-aligned series(that is $CR(0)$ in the formula above),
and the previous(or post) values represent those with shifting the latter series forward(or backward otherwise)
until the two series are no longer overlapped(not included).
In short, the values of output series are given by(index starts from 1)
$$OS[i] = CR(-N+i) = \frac{1}{N} \sum_{m=1}^{i} S_1[m]S_2[N-i+m],\ if\ i &lt;= N$$
$$OS[i] = CR(i-N) = \frac{1}{N} \sum_{m=1}^{2N-i} S_1[i-N+m]S_2[m],\ if\ i &gt; N$$</p> <p><strong>Note:</strong></p> <ul><li><code>null</code> and <code>NaN</code> values in the input series will be ignored and treated as 0.</li></ul> <h4 id="examples-33"><a href="#examples-33" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+---------------+
|                         Time|root.test.d1.s1|root.test.d1.s2|
+-----------------------------+---------------+---------------+
|2020-01-01T00:00:01.000+08:00|           null|              6|
|2020-01-01T00:00:02.000+08:00|              2|              7|
|2020-01-01T00:00:03.000+08:00|              3|            NaN|
|2020-01-01T00:00:04.000+08:00|              4|              9|
|2020-01-01T00:00:05.000+08:00|              5|             10|
+-----------------------------+---------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> xcorr<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">05</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------------------------------+
|                         Time|xcorr(root.test.d1.s1, root.test.d1.s2)|
+-----------------------------+---------------------------------------+
|1970-01-01T08:00:00.001+08:00|                                    0.0|
|1970-01-01T08:00:00.002+08:00|                                    4.0|
|1970-01-01T08:00:00.003+08:00|                                    9.6|
|1970-01-01T08:00:00.004+08:00|                                   13.4|
|1970-01-01T08:00:00.005+08:00|                                   20.0|
|1970-01-01T08:00:00.006+08:00|                                   15.6|
|1970-01-01T08:00:00.007+08:00|                                    9.2|
|1970-01-01T08:00:00.008+08:00|                                   11.8|
|1970-01-01T08:00:00.009+08:00|                                    6.0|
+-----------------------------+---------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="anomaly-detection"><a href="#anomaly-detection" class="header-anchor">#</a> Anomaly Detection</h2> <h3 id="iqr"><a href="#iqr" class="header-anchor">#</a> IQR</h3> <h4 id="usage-34"><a href="#usage-34" class="header-anchor">#</a> Usage</h4> <p>This function is used to detect anomalies based on IQR. Points distributing beyond 1.5 times IQR are selected.</p> <p><strong>Name:</strong> IQR</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <ul><li><code>method</code>: When set to &quot;batch&quot;, anomaly test is conducted after importing all data points; when set to &quot;stream&quot;, it is required to provide upper and lower quantiles. The default method is &quot;batch&quot;.</li> <li><code>q1</code>: The lower quantile when method is set to &quot;stream&quot;.</li> <li><code>q3</code>: The upper quantile when method is set to &quot;stream&quot;.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE.</p> <p><strong>Note:</strong> $IQR=Q_3-Q_1$</p> <h4 id="examples-34"><a href="#examples-34" class="header-anchor">#</a> Examples</h4> <h5 id="batch-computing-4"><a href="#batch-computing-4" class="header-anchor">#</a> Batch computing</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s1|
+-----------------------------+------------+
|1970-01-01T08:00:00.100+08:00|         0.0|
|1970-01-01T08:00:00.200+08:00|         0.0|
|1970-01-01T08:00:00.300+08:00|         1.0|
|1970-01-01T08:00:00.400+08:00|        -1.0|
|1970-01-01T08:00:00.500+08:00|         0.0|
|1970-01-01T08:00:00.600+08:00|         0.0|
|1970-01-01T08:00:00.700+08:00|        -2.0|
|1970-01-01T08:00:00.800+08:00|         2.0|
|1970-01-01T08:00:00.900+08:00|         0.0|
|1970-01-01T08:00:01.000+08:00|         0.0|
|1970-01-01T08:00:01.100+08:00|         1.0|
|1970-01-01T08:00:01.200+08:00|        -1.0|
|1970-01-01T08:00:01.300+08:00|        -1.0|
|1970-01-01T08:00:01.400+08:00|         1.0|
|1970-01-01T08:00:01.500+08:00|         0.0|
|1970-01-01T08:00:01.600+08:00|         0.0|
|1970-01-01T08:00:01.700+08:00|        10.0|
|1970-01-01T08:00:01.800+08:00|         2.0|
|1970-01-01T08:00:01.900+08:00|        -2.0|
|1970-01-01T08:00:02.000+08:00|         0.0|
+-----------------------------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> iqr<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------+
|                         Time|iqr(root.test.s1)|
+-----------------------------+-----------------+
|1970-01-01T08:00:01.700+08:00|             10.0|
+-----------------------------+-----------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ksigma"><a href="#ksigma" class="header-anchor">#</a> KSigma</h3> <h4 id="usage-35"><a href="#usage-35" class="header-anchor">#</a> Usage</h4> <p>This function is used to detect anomalies based on the Dynamic K-Sigma Algorithm.
Within a sliding window, the input value with a deviation of more than k times the standard deviation from the average will be output as anomaly.</p> <p><strong>Name:</strong> KSIGMA</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <ul><li><code>k</code>: How many times to multiply on standard deviation to define anomaly, the default value is 3.</li> <li><code>window</code>: The window size of Dynamic K-Sigma Algorithm, the default value is 10000.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is same as input series.</p> <p><strong>Note:</strong> Only when is larger than 0, the anomaly detection will be performed. Otherwise, nothing will be output.</p> <h4 id="examples-35"><a href="#examples-35" class="header-anchor">#</a> Examples</h4> <h5 id="assigning-k"><a href="#assigning-k" class="header-anchor">#</a> Assigning k</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|            0.0|
|2020-01-01T00:00:03.000+08:00|           50.0|
|2020-01-01T00:00:04.000+08:00|          100.0|
|2020-01-01T00:00:06.000+08:00|          150.0|
|2020-01-01T00:00:08.000+08:00|          200.0|
|2020-01-01T00:00:10.000+08:00|          200.0|
|2020-01-01T00:00:14.000+08:00|          200.0|
|2020-01-01T00:00:15.000+08:00|          200.0|
|2020-01-01T00:00:16.000+08:00|          200.0|
|2020-01-01T00:00:18.000+08:00|          200.0|
|2020-01-01T00:00:20.000+08:00|          150.0|
|2020-01-01T00:00:22.000+08:00|          100.0|
|2020-01-01T00:00:26.000+08:00|           50.0|
|2020-01-01T00:00:28.000+08:00|            0.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> ksigma<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">&quot;k&quot;</span><span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------------------------+
|Time                         |ksigma(root.test.d1.s1,&quot;k&quot;=&quot;3.0&quot;)|
+-----------------------------+---------------------------------+
|2020-01-01T00:00:02.000+08:00|                              0.0|
|2020-01-01T00:00:03.000+08:00|                             50.0|
|2020-01-01T00:00:26.000+08:00|                             50.0|
|2020-01-01T00:00:28.000+08:00|                              0.0|
+-----------------------------+---------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="lof"><a href="#lof" class="header-anchor">#</a> LOF</h3> <h4 id="usage-36"><a href="#usage-36" class="header-anchor">#</a> Usage</h4> <p>This function is used to detect density anomaly of time series. According to k-th distance calculation parameter and local outlier factor (lof) threshold, the function judges if a set of input values is an density anomaly, and a bool mark of anomaly values will be output.</p> <p><strong>Name:</strong> LOF</p> <p><strong>Input Series:</strong> Multiple input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <ul><li><code>method</code>:assign a detection method. The default value is &quot;default&quot;, when input data has multiple dimensions. The alternative is &quot;series&quot;, when a input series will be transformed to high dimension.</li> <li><code>k</code>:use the k-th distance to calculate lof. Default value is 3.</li> <li><code>window</code>: size of window to split origin data points. Default value is 10000.</li> <li><code>windowsize</code>:dimension that will be transformed into when method is &quot;series&quot;.  The default value is 5.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is DOUBLE.</p> <p><strong>Note:</strong> Incomplete rows will be ignored. They are neither calculated nor marked as anomaly.</p> <h4 id="examples-36"><a href="#examples-36" class="header-anchor">#</a> Examples</h4> <h5 id="using-default-parameters"><a href="#using-default-parameters" class="header-anchor">#</a> Using default parameters</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+---------------+
|                         Time|root.test.d1.s1|root.test.d1.s2|
+-----------------------------+---------------+---------------+
|1970-01-01T08:00:00.100+08:00|            0.0|            0.0|
|1970-01-01T08:00:00.200+08:00|            0.0|            1.0|
|1970-01-01T08:00:00.300+08:00|            1.0|            1.0|
|1970-01-01T08:00:00.400+08:00|            1.0|            0.0|
|1970-01-01T08:00:00.500+08:00|            0.0|           -1.0|
|1970-01-01T08:00:00.600+08:00|           -1.0|           -1.0|
|1970-01-01T08:00:00.700+08:00|           -1.0|            0.0|
|1970-01-01T08:00:00.800+08:00|            2.0|            2.0|
|1970-01-01T08:00:00.900+08:00|            0.0|           null|
+-----------------------------+---------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> lof<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span><span class="token operator">&lt;</span><span class="token number">1000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------------+
|                         Time|lof(root.test.d1.s1, root.test.d1.s2)|
+-----------------------------+-------------------------------------+
|1970-01-01T08:00:00.100+08:00|                   3.8274824267668244|
|1970-01-01T08:00:00.200+08:00|                   3.0117631741126156|
|1970-01-01T08:00:00.300+08:00|                    2.838155437762879|
|1970-01-01T08:00:00.400+08:00|                   3.0117631741126156|
|1970-01-01T08:00:00.500+08:00|                     2.73518261244453|
|1970-01-01T08:00:00.600+08:00|                    2.371440975708148|
|1970-01-01T08:00:00.700+08:00|                     2.73518261244453|
|1970-01-01T08:00:00.800+08:00|                   1.7561416374270742|
+-----------------------------+-------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="diagnosing-1d-timeseries"><a href="#diagnosing-1d-timeseries" class="header-anchor">#</a> Diagnosing 1d  timeseries</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|1970-01-01T08:00:00.100+08:00|            1.0|
|1970-01-01T08:00:00.200+08:00|            2.0|
|1970-01-01T08:00:00.300+08:00|            3.0|
|1970-01-01T08:00:00.400+08:00|            4.0|
|1970-01-01T08:00:00.500+08:00|            5.0|
|1970-01-01T08:00:00.600+08:00|            6.0|
|1970-01-01T08:00:00.700+08:00|            7.0|
|1970-01-01T08:00:00.800+08:00|            8.0|
|1970-01-01T08:00:00.900+08:00|            9.0|
|1970-01-01T08:00:01.000+08:00|           10.0|
|1970-01-01T08:00:01.100+08:00|           11.0|
|1970-01-01T08:00:01.200+08:00|           12.0|
|1970-01-01T08:00:01.300+08:00|           13.0|
|1970-01-01T08:00:01.400+08:00|           14.0|
|1970-01-01T08:00:01.500+08:00|           15.0|
|1970-01-01T08:00:01.600+08:00|           16.0|
|1970-01-01T08:00:01.700+08:00|           17.0|
|1970-01-01T08:00:01.800+08:00|           18.0|
|1970-01-01T08:00:01.900+08:00|           19.0|
|1970-01-01T08:00:02.000+08:00|           20.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> lof<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;method&quot;</span><span class="token operator">=</span><span class="token string">&quot;series&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span><span class="token operator">&lt;</span><span class="token number">1000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------+
|                         Time|lof(root.test.d1.s1)|
+-----------------------------+--------------------+
|1970-01-01T08:00:00.100+08:00|    3.77777777777778|
|1970-01-01T08:00:00.200+08:00|    4.32727272727273|
|1970-01-01T08:00:00.300+08:00|    4.85714285714286|
|1970-01-01T08:00:00.400+08:00|    5.40909090909091|
|1970-01-01T08:00:00.500+08:00|    5.94999999999999|
|1970-01-01T08:00:00.600+08:00|    6.43243243243243|
|1970-01-01T08:00:00.700+08:00|    6.79999999999999|
|1970-01-01T08:00:00.800+08:00|                 7.0|
|1970-01-01T08:00:00.900+08:00|                 7.0|
|1970-01-01T08:00:01.000+08:00|    6.79999999999999|
|1970-01-01T08:00:01.100+08:00|    6.43243243243243|
|1970-01-01T08:00:01.200+08:00|    5.94999999999999|
|1970-01-01T08:00:01.300+08:00|    5.40909090909091|
|1970-01-01T08:00:01.400+08:00|    4.85714285714286|
|1970-01-01T08:00:01.500+08:00|    4.32727272727273|
|1970-01-01T08:00:01.600+08:00|    3.77777777777778|
+-----------------------------+--------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="missdetect"><a href="#missdetect" class="header-anchor">#</a> MissDetect</h3> <h4 id="usage-37"><a href="#usage-37" class="header-anchor">#</a> Usage</h4> <p>This function is used to detect missing anomalies.
In some datasets, missing values are filled by linear interpolation.
Thus, there are several long perfect linear segments.
By discovering these perfect linear segments,
missing anomalies are detected.</p> <p><strong>Name:</strong> MISSDETECT</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameter:</strong></p> <p><code>error</code>: The minimum length of the detected missing anomalies, which is an integer greater than or equal to 10. By default, it is 10.</p> <p><strong>Output Series:</strong> Output a single series. The type is BOOLEAN. Each data point which is miss anomaly will be labeled as true.</p> <h4 id="examples-37"><a href="#examples-37" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d2.s2|
+-----------------------------+---------------+
|2021-07-01T12:00:00.000+08:00|            0.0|
|2021-07-01T12:00:01.000+08:00|            1.0|
|2021-07-01T12:00:02.000+08:00|            0.0|
|2021-07-01T12:00:03.000+08:00|            1.0|
|2021-07-01T12:00:04.000+08:00|            0.0|
|2021-07-01T12:00:05.000+08:00|            0.0|
|2021-07-01T12:00:06.000+08:00|            0.0|
|2021-07-01T12:00:07.000+08:00|            0.0|
|2021-07-01T12:00:08.000+08:00|            0.0|
|2021-07-01T12:00:09.000+08:00|            0.0|
|2021-07-01T12:00:10.000+08:00|            0.0|
|2021-07-01T12:00:11.000+08:00|            0.0|
|2021-07-01T12:00:12.000+08:00|            0.0|
|2021-07-01T12:00:13.000+08:00|            0.0|
|2021-07-01T12:00:14.000+08:00|            0.0|
|2021-07-01T12:00:15.000+08:00|            0.0|
|2021-07-01T12:00:16.000+08:00|            1.0|
|2021-07-01T12:00:17.000+08:00|            0.0|
|2021-07-01T12:00:18.000+08:00|            1.0|
|2021-07-01T12:00:19.000+08:00|            0.0|
|2021-07-01T12:00:20.000+08:00|            1.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> missdetect<span class="token punctuation">(</span>s2<span class="token punctuation">,</span><span class="token string">'minlen'</span><span class="token operator">=</span><span class="token string">'10'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------+
|                         Time|missdetect(root.test.d2.s2, &quot;minlen&quot;=&quot;10&quot;)|
+-----------------------------+------------------------------------------+
|2021-07-01T12:00:00.000+08:00|                                     false|
|2021-07-01T12:00:01.000+08:00|                                     false|
|2021-07-01T12:00:02.000+08:00|                                     false|
|2021-07-01T12:00:03.000+08:00|                                     false|
|2021-07-01T12:00:04.000+08:00|                                      true|
|2021-07-01T12:00:05.000+08:00|                                      true|
|2021-07-01T12:00:06.000+08:00|                                      true|
|2021-07-01T12:00:07.000+08:00|                                      true|
|2021-07-01T12:00:08.000+08:00|                                      true|
|2021-07-01T12:00:09.000+08:00|                                      true|
|2021-07-01T12:00:10.000+08:00|                                      true|
|2021-07-01T12:00:11.000+08:00|                                      true|
|2021-07-01T12:00:12.000+08:00|                                      true|
|2021-07-01T12:00:13.000+08:00|                                      true|
|2021-07-01T12:00:14.000+08:00|                                      true|
|2021-07-01T12:00:15.000+08:00|                                      true|
|2021-07-01T12:00:16.000+08:00|                                     false|
|2021-07-01T12:00:17.000+08:00|                                     false|
|2021-07-01T12:00:18.000+08:00|                                     false|
|2021-07-01T12:00:19.000+08:00|                                     false|
|2021-07-01T12:00:20.000+08:00|                                     false|
+-----------------------------+------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="range"><a href="#range" class="header-anchor">#</a> Range</h3> <h4 id="usage-38"><a href="#usage-38" class="header-anchor">#</a> Usage</h4> <p>This function is used to detect range anomaly of time series. According to upper bound and lower bound parameters, the function judges if a input value is beyond range, aka range anomaly, and a new time series of anomaly will be output.</p> <p><strong>Name:</strong> RANGE</p> <p><strong>Input Series:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <ul><li><code>lower_bound</code>:lower bound of range anomaly detection.</li> <li><code>upper_bound</code>:upper bound of range anomaly detection.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is the same as the input.</p> <p><strong>Note:</strong> Only when <code>upper_bound</code> is larger than <code>lower_bound</code>, the anomaly detection will be performed. Otherwise, nothing will be output.</p> <h4 id="examples-38"><a href="#examples-38" class="header-anchor">#</a> Examples</h4> <h5 id="assigning-lower-and-upper-bound"><a href="#assigning-lower-and-upper-bound" class="header-anchor">#</a> Assigning Lower and Upper Bound</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2020-01-01T00:00:02.000+08:00|          100.0|
|2020-01-01T00:00:03.000+08:00|          101.0|
|2020-01-01T00:00:04.000+08:00|          102.0|
|2020-01-01T00:00:06.000+08:00|          104.0|
|2020-01-01T00:00:08.000+08:00|          126.0|
|2020-01-01T00:00:10.000+08:00|          108.0|
|2020-01-01T00:00:14.000+08:00|          112.0|
|2020-01-01T00:00:15.000+08:00|          113.0|
|2020-01-01T00:00:16.000+08:00|          114.0|
|2020-01-01T00:00:18.000+08:00|          116.0|
|2020-01-01T00:00:20.000+08:00|          118.0|
|2020-01-01T00:00:22.000+08:00|          120.0|
|2020-01-01T00:00:26.000+08:00|          124.0|
|2020-01-01T00:00:28.000+08:00|          126.0|
|2020-01-01T00:00:30.000+08:00|            NaN|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> range<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">&quot;lower_bound&quot;</span><span class="token operator">=</span><span class="token string">&quot;101.0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;upper_bound&quot;</span><span class="token operator">=</span><span class="token string">&quot;125.0&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------------------------------+
|Time                         |range(root.test.d1.s1,&quot;lower_bound&quot;=&quot;101.0&quot;,&quot;upper_bound&quot;=&quot;125.0&quot;)|
+-----------------------------+------------------------------------------------------------------+
|2020-01-01T00:00:02.000+08:00|                                                             100.0|
|2020-01-01T00:00:28.000+08:00|                                                             126.0|
+-----------------------------+------------------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="twosidedfilter"><a href="#twosidedfilter" class="header-anchor">#</a> TwoSidedFilter</h3> <h4 id="usage-39"><a href="#usage-39" class="header-anchor">#</a> Usage</h4> <p>The function is used to filter anomalies of a numeric time series based on two-sided window detection.</p> <p><strong>Name:</strong> TWOSIDEDFILTER</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is  INT32 / INT64 / FLOAT / DOUBLE</p> <p><strong>Output Series:</strong> Output a single series. The type is the same as the input. It is the input without anomalies.</p> <p><strong>Parameter:</strong></p> <ul><li><p><code>len</code>: The size of the window, which is a positive integer. By default, it's 5. When <code>len</code>=3, the algorithm detects forward window and backward window with length 3 and calculates the outlierness of the current point.</p></li> <li><p><code>threshold</code>: The threshold of outlierness, which is a floating number in (0,1). By default, it's 0.3. The strict standard of detecting anomalies is in proportion to the threshold.</p></li></ul> <h4 id="examples-39"><a href="#examples-39" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s0|
+-----------------------------+------------+
|1970-01-01T08:00:00.000+08:00|      2002.0|
|1970-01-01T08:00:01.000+08:00|      1946.0|
|1970-01-01T08:00:02.000+08:00|      1958.0|
|1970-01-01T08:00:03.000+08:00|      2012.0|
|1970-01-01T08:00:04.000+08:00|      2051.0|
|1970-01-01T08:00:05.000+08:00|      1898.0|
|1970-01-01T08:00:06.000+08:00|      2014.0|
|1970-01-01T08:00:07.000+08:00|      2052.0|
|1970-01-01T08:00:08.000+08:00|      1935.0|
|1970-01-01T08:00:09.000+08:00|      1901.0|
|1970-01-01T08:00:10.000+08:00|      1972.0|
|1970-01-01T08:00:11.000+08:00|      1969.0|
|1970-01-01T08:00:12.000+08:00|      1984.0|
|1970-01-01T08:00:13.000+08:00|      2018.0|
|1970-01-01T08:00:37.000+08:00|      1484.0|
|1970-01-01T08:00:38.000+08:00|      1055.0|
|1970-01-01T08:00:39.000+08:00|      1050.0|
|1970-01-01T08:01:05.000+08:00|      1023.0|
|1970-01-01T08:01:06.000+08:00|      1056.0|
|1970-01-01T08:01:07.000+08:00|       978.0|
|1970-01-01T08:01:08.000+08:00|      1050.0|
|1970-01-01T08:01:09.000+08:00|      1123.0|
|1970-01-01T08:01:10.000+08:00|      1150.0|
|1970-01-01T08:01:11.000+08:00|      1034.0|
|1970-01-01T08:01:12.000+08:00|       950.0|
|1970-01-01T08:01:13.000+08:00|      1059.0|
+-----------------------------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> TwoSidedFilter<span class="token punctuation">(</span>s0<span class="token punctuation">,</span> <span class="token string">'len'</span><span class="token operator">=</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'threshold'</span><span class="token operator">=</span><span class="token string">'0.3'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------+
|                         Time|root.test.s0|
+-----------------------------+------------+
|1970-01-01T08:00:00.000+08:00|      2002.0|
|1970-01-01T08:00:01.000+08:00|      1946.0|
|1970-01-01T08:00:02.000+08:00|      1958.0|
|1970-01-01T08:00:03.000+08:00|      2012.0|
|1970-01-01T08:00:04.000+08:00|      2051.0|
|1970-01-01T08:00:05.000+08:00|      1898.0|
|1970-01-01T08:00:06.000+08:00|      2014.0|
|1970-01-01T08:00:07.000+08:00|      2052.0|
|1970-01-01T08:00:08.000+08:00|      1935.0|
|1970-01-01T08:00:09.000+08:00|      1901.0|
|1970-01-01T08:00:10.000+08:00|      1972.0|
|1970-01-01T08:00:11.000+08:00|      1969.0|
|1970-01-01T08:00:12.000+08:00|      1984.0|
|1970-01-01T08:00:13.000+08:00|      2018.0|
|1970-01-01T08:01:05.000+08:00|      1023.0|
|1970-01-01T08:01:06.000+08:00|      1056.0|
|1970-01-01T08:01:07.000+08:00|       978.0|
|1970-01-01T08:01:08.000+08:00|      1050.0|
|1970-01-01T08:01:09.000+08:00|      1123.0|
|1970-01-01T08:01:10.000+08:00|      1150.0|
|1970-01-01T08:01:11.000+08:00|      1034.0|
|1970-01-01T08:01:12.000+08:00|       950.0|
|1970-01-01T08:01:13.000+08:00|      1059.0|
+-----------------------------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="frequency-domain"><a href="#frequency-domain" class="header-anchor">#</a> Frequency Domain</h2> <h3 id="conv"><a href="#conv" class="header-anchor">#</a> Conv</h3> <h4 id="usage-40"><a href="#usage-40" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the convolution, i.e. polynomial multiplication.</p> <p><strong>Name:</strong> CONV</p> <p><strong>Input:</strong> Only support two input series. The types are both INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Output:</strong> Output a single series. The type is DOUBLE. It is the result of convolution whose timestamps starting from 0 only indicate the order.</p> <p><strong>Note:</strong> <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-40"><a href="#examples-40" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+---------------+
|                         Time|root.test.d2.s1|root.test.d2.s2|
+-----------------------------+---------------+---------------+
|1970-01-01T08:00:00.000+08:00|            1.0|            7.0|
|1970-01-01T08:00:00.001+08:00|            0.0|            2.0|
|1970-01-01T08:00:00.002+08:00|            1.0|           null|
+-----------------------------+---------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> conv<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------------------------+
|                         Time|conv(root.test.d2.s1, root.test.d2.s2)|
+-----------------------------+--------------------------------------+
|1970-01-01T08:00:00.000+08:00|                                   7.0|
|1970-01-01T08:00:00.001+08:00|                                   2.0|
|1970-01-01T08:00:00.002+08:00|                                   7.0|
|1970-01-01T08:00:00.003+08:00|                                   2.0|
+-----------------------------+--------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="deconv"><a href="#deconv" class="header-anchor">#</a> Deconv</h3> <h4 id="usage-41"><a href="#usage-41" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the deconvolution, i.e. polynomial division.</p> <p><strong>Name:</strong> DECONV</p> <p><strong>Input:</strong> Only support two input series. The types are both INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>result</code>: The result of deconvolution, which is 'quotient' or 'remainder'. By default, the quotient will be output.</li></ul> <p><strong>Output:</strong> Output a single series. The type is DOUBLE. It is the result of deconvolving the second series from the first series (dividing the first series by the second series) whose timestamps starting from 0 only indicate the order.</p> <p><strong>Note:</strong> <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-41"><a href="#examples-41" class="header-anchor">#</a> Examples</h4> <h5 id="calculate-the-quotient"><a href="#calculate-the-quotient" class="header-anchor">#</a> Calculate the quotient</h5> <p>When <code>result</code> is 'quotient' or the default, this function calculates the quotient of the deconvolution.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+---------------+
|                         Time|root.test.d2.s3|root.test.d2.s2|
+-----------------------------+---------------+---------------+
|1970-01-01T08:00:00.000+08:00|            8.0|            7.0|
|1970-01-01T08:00:00.001+08:00|            2.0|            2.0|
|1970-01-01T08:00:00.002+08:00|            7.0|           null|
|1970-01-01T08:00:00.003+08:00|            2.0|           null|
+-----------------------------+---------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> deconv<span class="token punctuation">(</span>s3<span class="token punctuation">,</span>s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------------------+
|                         Time|deconv(root.test.d2.s3, root.test.d2.s2)|
+-----------------------------+----------------------------------------+
|1970-01-01T08:00:00.000+08:00|                                     1.0|
|1970-01-01T08:00:00.001+08:00|                                     0.0|
|1970-01-01T08:00:00.002+08:00|                                     1.0|
+-----------------------------+----------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="calculate-the-remainder"><a href="#calculate-the-remainder" class="header-anchor">#</a> Calculate the remainder</h5> <p>When <code>result</code> is 'remainder', this function calculates the remainder of the deconvolution.</p> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> deconv<span class="token punctuation">(</span>s3<span class="token punctuation">,</span>s2<span class="token punctuation">,</span><span class="token string">'result'</span><span class="token operator">=</span><span class="token string">'remainder'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------------------------------------------------+
|                         Time|deconv(root.test.d2.s3, root.test.d2.s2, &quot;result&quot;=&quot;remainder&quot;)|
+-----------------------------+--------------------------------------------------------------+
|1970-01-01T08:00:00.000+08:00|                                                           1.0|
|1970-01-01T08:00:00.001+08:00|                                                           0.0|
|1970-01-01T08:00:00.002+08:00|                                                           0.0|
|1970-01-01T08:00:00.003+08:00|                                                           0.0|
+-----------------------------+--------------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="dwt"><a href="#dwt" class="header-anchor">#</a> DWT</h3> <h4 id="usage-42"><a href="#usage-42" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate 1d discrete wavelet transform of a numerical series.</p> <p><strong>Name:</strong> DWT</p> <p><strong>Input:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>method</code>: The type of wavelet. May select 'Haar', 'DB4', 'DB6', 'DB8', where DB means Daubechies. User may offer coefficients of wavelet transform and ignore this parameter. Case ignored.</li> <li><code>coef</code>: Coefficients of wavelet transform. When providing this parameter, use comma ',' to split them, and leave no spaces or other punctuations.</li> <li><code>layer</code>: Times to transform. The number of output vectors equals $layer+1$. Default is 1.</li></ul> <p><strong>Output:</strong> Output a single series. The type is DOUBLE. The length is the same as the input.</p> <p><strong>Note:</strong> The length of input series must be an integer number power of 2.</p> <h4 id="examples-42"><a href="#examples-42" class="header-anchor">#</a> Examples</h4> <h5 id="haar-wavelet-transform"><a href="#haar-wavelet-transform" class="header-anchor">#</a> Haar wavelet transform</h5> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|1970-01-01T08:00:00.000+08:00|            0.0|
|1970-01-01T08:00:00.100+08:00|            0.2|
|1970-01-01T08:00:00.200+08:00|            1.5|
|1970-01-01T08:00:00.300+08:00|            1.2|
|1970-01-01T08:00:00.400+08:00|            0.6|
|1970-01-01T08:00:00.500+08:00|            1.7|
|1970-01-01T08:00:00.600+08:00|            0.8|
|1970-01-01T08:00:00.700+08:00|            2.0|
|1970-01-01T08:00:00.800+08:00|            2.5|
|1970-01-01T08:00:00.900+08:00|            2.1|
|1970-01-01T08:00:01.000+08:00|            0.0|
|1970-01-01T08:00:01.100+08:00|            2.0|
|1970-01-01T08:00:01.200+08:00|            1.8|
|1970-01-01T08:00:01.300+08:00|            1.2|
|1970-01-01T08:00:01.400+08:00|            1.0|
|1970-01-01T08:00:01.500+08:00|            1.6|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> dwt<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">&quot;method&quot;</span><span class="token operator">=</span><span class="token string">&quot;haar&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------------+
|                         Time|dwt(root.test.d1.s1, &quot;method&quot;=&quot;haar&quot;)|
+-----------------------------+-------------------------------------+
|1970-01-01T08:00:00.000+08:00|                  0.14142135834465192|
|1970-01-01T08:00:00.100+08:00|                    1.909188342921157|
|1970-01-01T08:00:00.200+08:00|                   1.6263456473052773|
|1970-01-01T08:00:00.300+08:00|                   1.9798989957517026|
|1970-01-01T08:00:00.400+08:00|                    3.252691126023161|
|1970-01-01T08:00:00.500+08:00|                    1.414213562373095|
|1970-01-01T08:00:00.600+08:00|                   2.1213203435596424|
|1970-01-01T08:00:00.700+08:00|                   1.8384776479437628|
|1970-01-01T08:00:00.800+08:00|                 -0.14142135834465192|
|1970-01-01T08:00:00.900+08:00|                  0.21213200063848547|
|1970-01-01T08:00:01.000+08:00|                  -0.7778174761639416|
|1970-01-01T08:00:01.100+08:00|                  -0.8485281289944873|
|1970-01-01T08:00:01.200+08:00|                   0.2828427799095765|
|1970-01-01T08:00:01.300+08:00|                   -1.414213562373095|
|1970-01-01T08:00:01.400+08:00|                  0.42426400127697095|
|1970-01-01T08:00:01.500+08:00|                 -0.42426408557066786|
+-----------------------------+-------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="fft"><a href="#fft" class="header-anchor">#</a> FFT</h3> <h4 id="usage-43"><a href="#usage-43" class="header-anchor">#</a> Usage</h4> <p>This function is used to calculate the fast Fourier transform (FFT) of a numerical series.</p> <p><strong>Name:</strong> FFT</p> <p><strong>Input:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>method</code>: The type of FFT, which is 'uniform' (by default) or 'nonuniform'. If the value is 'uniform', the timestamps will be ignored and all data points will be regarded as equidistant. Thus, the equidistant fast Fourier transform algorithm will be applied. If the value is 'nonuniform' (TODO), the non-equidistant fast Fourier transform algorithm will be applied based on timestamps.</li> <li><code>result</code>: The result of FFT, which is 'real', 'imag', 'abs' or 'angle', corresponding to the real part, imaginary part, magnitude and phase angle. By default, the magnitude will be output.</li> <li><code>compress</code>: The parameter of compression, which is within (0,1]. It is the reserved energy ratio of lossy compression. By default, there is no compression.</li></ul> <p><strong>Output:</strong> Output a single series. The type is DOUBLE. The length is the same as the input. The timestamps starting from 0 only indicate the order.</p> <p><strong>Note:</strong> <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-43"><a href="#examples-43" class="header-anchor">#</a> Examples</h4> <h5 id="uniform-fft"><a href="#uniform-fft" class="header-anchor">#</a> Uniform FFT</h5> <p>With the default <code>type</code>, uniform FFT is applied.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|1970-01-01T08:00:00.000+08:00|       2.902113|
|1970-01-01T08:00:01.000+08:00|      1.1755705|
|1970-01-01T08:00:02.000+08:00|     -2.1755705|
|1970-01-01T08:00:03.000+08:00|     -1.9021131|
|1970-01-01T08:00:04.000+08:00|            1.0|
|1970-01-01T08:00:05.000+08:00|      1.9021131|
|1970-01-01T08:00:06.000+08:00|      0.1755705|
|1970-01-01T08:00:07.000+08:00|     -1.1755705|
|1970-01-01T08:00:08.000+08:00|      -0.902113|
|1970-01-01T08:00:09.000+08:00|            0.0|
|1970-01-01T08:00:10.000+08:00|       0.902113|
|1970-01-01T08:00:11.000+08:00|      1.1755705|
|1970-01-01T08:00:12.000+08:00|     -0.1755705|
|1970-01-01T08:00:13.000+08:00|     -1.9021131|
|1970-01-01T08:00:14.000+08:00|           -1.0|
|1970-01-01T08:00:15.000+08:00|      1.9021131|
|1970-01-01T08:00:16.000+08:00|      2.1755705|
|1970-01-01T08:00:17.000+08:00|     -1.1755705|
|1970-01-01T08:00:18.000+08:00|      -2.902113|
|1970-01-01T08:00:19.000+08:00|            0.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> fft<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------+
|                         Time|  fft(root.test.d1.s1)|
+-----------------------------+----------------------+
|1970-01-01T08:00:00.000+08:00|                   0.0|
|1970-01-01T08:00:00.001+08:00| 1.2727111142703152E-8|
|1970-01-01T08:00:00.002+08:00|  2.385520799101839E-7|
|1970-01-01T08:00:00.003+08:00|  8.723291723972645E-8|
|1970-01-01T08:00:00.004+08:00|    19.999999960195904|
|1970-01-01T08:00:00.005+08:00|     9.999999850988388|
|1970-01-01T08:00:00.006+08:00| 3.2260694930700566E-7|
|1970-01-01T08:00:00.007+08:00|  8.723291605373329E-8|
|1970-01-01T08:00:00.008+08:00|  1.108657103979944E-7|
|1970-01-01T08:00:00.009+08:00| 1.2727110997246171E-8|
|1970-01-01T08:00:00.010+08:00|1.9852334701272664E-23|
|1970-01-01T08:00:00.011+08:00| 1.2727111194499847E-8|
|1970-01-01T08:00:00.012+08:00|  1.108657103979944E-7|
|1970-01-01T08:00:00.013+08:00|  8.723291785769131E-8|
|1970-01-01T08:00:00.014+08:00|  3.226069493070057E-7|
|1970-01-01T08:00:00.015+08:00|     9.999999850988388|
|1970-01-01T08:00:00.016+08:00|    19.999999960195904|
|1970-01-01T08:00:00.017+08:00|  8.723291747109068E-8|
|1970-01-01T08:00:00.018+08:00| 2.3855207991018386E-7|
|1970-01-01T08:00:00.019+08:00| 1.2727112069910878E-8|
+-----------------------------+----------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>Note: The input is $y=sin(2\pi t/4)+2sin(2\pi t/5)$ with a length of 20. Thus, there are peaks in $k=4$ and $k=5$ of the output.</p> <h5 id="uniform-fft-with-compression"><a href="#uniform-fft-with-compression" class="header-anchor">#</a> Uniform FFT with Compression</h5> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> fft<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">'result'</span><span class="token operator">=</span><span class="token string">'real'</span><span class="token punctuation">,</span> <span class="token string">'compress'</span><span class="token operator">=</span><span class="token string">'0.99'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> fft<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">'result'</span><span class="token operator">=</span><span class="token string">'imag'</span><span class="token punctuation">,</span><span class="token string">'compress'</span><span class="token operator">=</span><span class="token string">'0.99'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------+----------------------+
|                         Time|  fft(root.test.d1.s1,|  fft(root.test.d1.s1,|
|                             |      &quot;result&quot;=&quot;real&quot;,|      &quot;result&quot;=&quot;imag&quot;,|
|                             |    &quot;compress&quot;=&quot;0.99&quot;)|    &quot;compress&quot;=&quot;0.99&quot;)|
+-----------------------------+----------------------+----------------------+
|1970-01-01T08:00:00.000+08:00|                   0.0|                   0.0|
|1970-01-01T08:00:00.001+08:00| -3.932894010461041E-9| 1.2104201863039066E-8|
|1970-01-01T08:00:00.002+08:00|-1.4021739447490164E-7| 1.9299268669082926E-7|
|1970-01-01T08:00:00.003+08:00| -7.057291240286645E-8|  5.127422242345858E-8|
|1970-01-01T08:00:00.004+08:00|    19.021130288047125|    -6.180339875198807|
|1970-01-01T08:00:00.005+08:00|     9.999999850988388| 3.501852745067114E-16|
|1970-01-01T08:00:00.019+08:00| -3.932894898639461E-9|-1.2104202549376264E-8|
+-----------------------------+----------------------+----------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Note: Based on the conjugation of the Fourier transform result, only the first half of the compression result is reserved.
According to the given parameter, data points are reserved from low frequency to high frequency until the reserved energy ratio exceeds it.
The last data point is reserved to indicate the length of the series.</p> <h3 id="highpass"><a href="#highpass" class="header-anchor">#</a> HighPass</h3> <h4 id="usage-44"><a href="#usage-44" class="header-anchor">#</a> Usage</h4> <p>This function performs low-pass filtering on the input series and extracts components above the cutoff frequency.
The timestamps of input will be ignored and all data points will be regarded as equidistant.</p> <p><strong>Name:</strong> HIGHPASS</p> <p><strong>Input:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>wpass</code>: The normalized cutoff frequency which values (0,1). This parameter cannot be lacked.</li></ul> <p><strong>Output:</strong> Output a single series. The type is DOUBLE. It is the input after filtering. The length and timestamps of output are the same as the input.</p> <p><strong>Note:</strong> <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-44"><a href="#examples-44" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|1970-01-01T08:00:00.000+08:00|       2.902113|
|1970-01-01T08:00:01.000+08:00|      1.1755705|
|1970-01-01T08:00:02.000+08:00|     -2.1755705|
|1970-01-01T08:00:03.000+08:00|     -1.9021131|
|1970-01-01T08:00:04.000+08:00|            1.0|
|1970-01-01T08:00:05.000+08:00|      1.9021131|
|1970-01-01T08:00:06.000+08:00|      0.1755705|
|1970-01-01T08:00:07.000+08:00|     -1.1755705|
|1970-01-01T08:00:08.000+08:00|      -0.902113|
|1970-01-01T08:00:09.000+08:00|            0.0|
|1970-01-01T08:00:10.000+08:00|       0.902113|
|1970-01-01T08:00:11.000+08:00|      1.1755705|
|1970-01-01T08:00:12.000+08:00|     -0.1755705|
|1970-01-01T08:00:13.000+08:00|     -1.9021131|
|1970-01-01T08:00:14.000+08:00|           -1.0|
|1970-01-01T08:00:15.000+08:00|      1.9021131|
|1970-01-01T08:00:16.000+08:00|      2.1755705|
|1970-01-01T08:00:17.000+08:00|     -1.1755705|
|1970-01-01T08:00:18.000+08:00|      -2.902113|
|1970-01-01T08:00:19.000+08:00|            0.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> highpass<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">'wpass'</span><span class="token operator">=</span><span class="token string">'0.45'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------------------------+
|                         Time|highpass(root.test.d1.s1, &quot;wpass&quot;=&quot;0.45&quot;)|
+-----------------------------+-----------------------------------------+
|1970-01-01T08:00:00.000+08:00|                       0.9999999534830373|
|1970-01-01T08:00:01.000+08:00|                    1.7462829277628608E-8|
|1970-01-01T08:00:02.000+08:00|                      -0.9999999593178128|
|1970-01-01T08:00:03.000+08:00|                   -4.1115269056426626E-8|
|1970-01-01T08:00:04.000+08:00|                       0.9999999925494194|
|1970-01-01T08:00:05.000+08:00|                     3.328126513330016E-8|
|1970-01-01T08:00:06.000+08:00|                      -1.0000000183304454|
|1970-01-01T08:00:07.000+08:00|                    6.260191433311374E-10|
|1970-01-01T08:00:08.000+08:00|                       1.0000000018134796|
|1970-01-01T08:00:09.000+08:00|                   -3.097210911744423E-17|
|1970-01-01T08:00:10.000+08:00|                      -1.0000000018134794|
|1970-01-01T08:00:11.000+08:00|                   -6.260191627862097E-10|
|1970-01-01T08:00:12.000+08:00|                       1.0000000183304454|
|1970-01-01T08:00:13.000+08:00|                    -3.328126501424346E-8|
|1970-01-01T08:00:14.000+08:00|                      -0.9999999925494196|
|1970-01-01T08:00:15.000+08:00|                     4.111526915498874E-8|
|1970-01-01T08:00:16.000+08:00|                       0.9999999593178128|
|1970-01-01T08:00:17.000+08:00|                   -1.7462829341296528E-8|
|1970-01-01T08:00:18.000+08:00|                      -0.9999999534830369|
|1970-01-01T08:00:19.000+08:00|                   -1.035237222742873E-16|
+-----------------------------+-----------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>Note: The input is $y=sin(2\pi t/4)+2sin(2\pi t/5)$ with a length of 20. Thus, the output is $y=sin(2\pi t/4)$ after high-pass filtering.</p> <h3 id="ifft"><a href="#ifft" class="header-anchor">#</a> IFFT</h3> <h4 id="usage-45"><a href="#usage-45" class="header-anchor">#</a> Usage</h4> <p>This function treats the two input series as the real and imaginary part of a complex series, performs an inverse fast Fourier transform (IFFT), and outputs the real part of the result.
For the input format, please refer to the output format of <code>FFT</code> function.
Moreover, the compressed output of <code>FFT</code> function is also supported.</p> <p><strong>Name:</strong> IFFT</p> <p><strong>Input:</strong> Only support two input series. The types are both INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>start</code>: The start time of the output series with the format 'yyyy-MM-dd HH:mm:ss'. By default, it is '1970-01-01 08:00:00'.</li> <li><code>interval</code>: The interval of the output series, which is a positive number with an unit. The unit is 'ms' for millisecond, 's' for second, 'm' for minute, 'h' for hour and 'd' for day. By default, it is 1s.</li></ul> <p><strong>Output:</strong> Output a single series. The type is DOUBLE. It is strictly equispaced. The values are the results of IFFT.</p> <p><strong>Note:</strong> If a row contains null points or <code>NaN</code>, it will be ignored.</p> <h4 id="examples-45"><a href="#examples-45" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------+----------------------+
|                         Time|       root.test.d1.re|       root.test.d1.im|
+-----------------------------+----------------------+----------------------+
|1970-01-01T08:00:00.000+08:00|                   0.0|                   0.0|
|1970-01-01T08:00:00.001+08:00| -3.932894010461041E-9| 1.2104201863039066E-8|
|1970-01-01T08:00:00.002+08:00|-1.4021739447490164E-7| 1.9299268669082926E-7|
|1970-01-01T08:00:00.003+08:00| -7.057291240286645E-8|  5.127422242345858E-8|
|1970-01-01T08:00:00.004+08:00|    19.021130288047125|    -6.180339875198807|
|1970-01-01T08:00:00.005+08:00|     9.999999850988388| 3.501852745067114E-16|
|1970-01-01T08:00:00.019+08:00| -3.932894898639461E-9|-1.2104202549376264E-8|
+-----------------------------+----------------------+----------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> ifft<span class="token punctuation">(</span>re<span class="token punctuation">,</span> im<span class="token punctuation">,</span> <span class="token string">'interval'</span><span class="token operator">=</span><span class="token string">'1m'</span><span class="token punctuation">,</span> <span class="token string">'start'</span><span class="token operator">=</span><span class="token string">'2021-01-01 00:00:00'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------------------------------+
|                         Time|ifft(root.test.d1.re, root.test.d1.im, &quot;interval&quot;=&quot;1m&quot;,|
|                             |                         &quot;start&quot;=&quot;2021-01-01 00:00:00&quot;)|
+-----------------------------+-------------------------------------------------------+
|2021-01-01T00:00:00.000+08:00|                                      2.902112992431231|
|2021-01-01T00:01:00.000+08:00|                                     1.1755704705132448|
|2021-01-01T00:02:00.000+08:00|                                     -2.175570513757101|
|2021-01-01T00:03:00.000+08:00|                                    -1.9021130389094498|
|2021-01-01T00:04:00.000+08:00|                                     0.9999999925494194|
|2021-01-01T00:05:00.000+08:00|                                      1.902113046743454|
|2021-01-01T00:06:00.000+08:00|                                    0.17557053610884188|
|2021-01-01T00:07:00.000+08:00|                                    -1.1755704886020932|
|2021-01-01T00:08:00.000+08:00|                                    -0.9021130371347148|
|2021-01-01T00:09:00.000+08:00|                                  3.552713678800501E-16|
|2021-01-01T00:10:00.000+08:00|                                     0.9021130371347154|
|2021-01-01T00:11:00.000+08:00|                                     1.1755704886020932|
|2021-01-01T00:12:00.000+08:00|                                   -0.17557053610884144|
|2021-01-01T00:13:00.000+08:00|                                     -1.902113046743454|
|2021-01-01T00:14:00.000+08:00|                                    -0.9999999925494196|
|2021-01-01T00:15:00.000+08:00|                                     1.9021130389094498|
|2021-01-01T00:16:00.000+08:00|                                     2.1755705137571004|
|2021-01-01T00:17:00.000+08:00|                                    -1.1755704705132448|
|2021-01-01T00:18:00.000+08:00|                                     -2.902112992431231|
|2021-01-01T00:19:00.000+08:00|                                 -3.552713678800501E-16|
+-----------------------------+-------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="lowpass"><a href="#lowpass" class="header-anchor">#</a> LowPass</h3> <h4 id="usage-46"><a href="#usage-46" class="header-anchor">#</a> Usage</h4> <p>This function performs low-pass filtering on the input series and extracts components below the cutoff frequency.
The timestamps of input will be ignored and all data points will be regarded as equidistant.</p> <p><strong>Name:</strong> LOWPASS</p> <p><strong>Input:</strong> Only support a single input series. The type is INT32 / INT64 / FLOAT / DOUBLE.</p> <p><strong>Parameters:</strong></p> <ul><li><code>wpass</code>: The normalized cutoff frequency which values (0,1). This parameter cannot be lacked.</li></ul> <p><strong>Output:</strong> Output a single series. The type is DOUBLE. It is the input after filtering. The length and timestamps of output are the same as the input.</p> <p><strong>Note:</strong> <code>NaN</code> in the input series will be ignored.</p> <h4 id="examples-46"><a href="#examples-46" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|1970-01-01T08:00:00.000+08:00|       2.902113|
|1970-01-01T08:00:01.000+08:00|      1.1755705|
|1970-01-01T08:00:02.000+08:00|     -2.1755705|
|1970-01-01T08:00:03.000+08:00|     -1.9021131|
|1970-01-01T08:00:04.000+08:00|            1.0|
|1970-01-01T08:00:05.000+08:00|      1.9021131|
|1970-01-01T08:00:06.000+08:00|      0.1755705|
|1970-01-01T08:00:07.000+08:00|     -1.1755705|
|1970-01-01T08:00:08.000+08:00|      -0.902113|
|1970-01-01T08:00:09.000+08:00|            0.0|
|1970-01-01T08:00:10.000+08:00|       0.902113|
|1970-01-01T08:00:11.000+08:00|      1.1755705|
|1970-01-01T08:00:12.000+08:00|     -0.1755705|
|1970-01-01T08:00:13.000+08:00|     -1.9021131|
|1970-01-01T08:00:14.000+08:00|           -1.0|
|1970-01-01T08:00:15.000+08:00|      1.9021131|
|1970-01-01T08:00:16.000+08:00|      2.1755705|
|1970-01-01T08:00:17.000+08:00|     -1.1755705|
|1970-01-01T08:00:18.000+08:00|      -2.902113|
|1970-01-01T08:00:19.000+08:00|            0.0|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> lowpass<span class="token punctuation">(</span>s1<span class="token punctuation">,</span><span class="token string">'wpass'</span><span class="token operator">=</span><span class="token string">'0.45'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------------------+
|                         Time|lowpass(root.test.d1.s1, &quot;wpass&quot;=&quot;0.45&quot;)|
+-----------------------------+----------------------------------------+
|1970-01-01T08:00:00.000+08:00|                      1.9021130073323922|
|1970-01-01T08:00:01.000+08:00|                      1.1755704705132448|
|1970-01-01T08:00:02.000+08:00|                     -1.1755705286582614|
|1970-01-01T08:00:03.000+08:00|                     -1.9021130389094498|
|1970-01-01T08:00:04.000+08:00|                    7.450580419288145E-9|
|1970-01-01T08:00:05.000+08:00|                       1.902113046743454|
|1970-01-01T08:00:06.000+08:00|                      1.1755705212076808|
|1970-01-01T08:00:07.000+08:00|                     -1.1755704886020932|
|1970-01-01T08:00:08.000+08:00|                     -1.9021130222335536|
|1970-01-01T08:00:09.000+08:00|                   3.552713678800501E-16|
|1970-01-01T08:00:10.000+08:00|                      1.9021130222335536|
|1970-01-01T08:00:11.000+08:00|                      1.1755704886020932|
|1970-01-01T08:00:12.000+08:00|                     -1.1755705212076801|
|1970-01-01T08:00:13.000+08:00|                      -1.902113046743454|
|1970-01-01T08:00:14.000+08:00|                    -7.45058112983088E-9|
|1970-01-01T08:00:15.000+08:00|                      1.9021130389094498|
|1970-01-01T08:00:16.000+08:00|                      1.1755705286582616|
|1970-01-01T08:00:17.000+08:00|                     -1.1755704705132448|
|1970-01-01T08:00:18.000+08:00|                     -1.9021130073323924|
|1970-01-01T08:00:19.000+08:00|                  -2.664535259100376E-16|
+-----------------------------+----------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>Note: The input is $y=sin(2\pi t/4)+2sin(2\pi t/5)$ with a length of 20. Thus, the output is $y=2sin(2\pi t/5)$ after low-pass filtering.</p> <h2 id="series-discovery"><a href="#series-discovery" class="header-anchor">#</a> Series Discovery</h2> <h3 id="consecutivesequences"><a href="#consecutivesequences" class="header-anchor">#</a> ConsecutiveSequences</h3> <h4 id="usage-47"><a href="#usage-47" class="header-anchor">#</a> Usage</h4> <p>This function is used to find locally longest consecutive subsequences in strictly equispaced multidimensional data.</p> <p>Strictly equispaced data is the data whose time intervals are strictly equal. Missing data, including missing rows and missing values, is allowed in it, while data redundancy and timestamp drift is not allowed.</p> <p>Consecutive subsequence is the subsequence that is strictly equispaced with the standard time interval without any missing data. If a consecutive subsequence is not a proper subsequence of any consecutive subsequence, it is locally longest.</p> <p><strong>Name:</strong> CONSECUTIVESEQUENCES</p> <p><strong>Input Series:</strong> Support multiple input series. The type is arbitrary but the data is strictly equispaced.</p> <p><strong>Parameters:</strong></p> <ul><li><code>gap</code>: The standard time interval which is a positive number with an unit. The unit is 'ms' for millisecond, 's' for second, 'm' for minute, 'h' for hour and 'd' for day. By default, it will be estimated by the mode of time intervals.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is INT32. Each data point in the output series corresponds to a locally longest consecutive subsequence. The output timestamp is the starting timestamp of the subsequence and the output value is the number of data points in the subsequence.</p> <p><strong>Note:</strong> For input series that is not strictly equispaced, there is no guarantee on the output.</p> <h4 id="examples-47"><a href="#examples-47" class="header-anchor">#</a> Examples</h4> <h5 id="manually-specify-the-standard-time-interval-2"><a href="#manually-specify-the-standard-time-interval-2" class="header-anchor">#</a> Manually Specify the Standard Time Interval</h5> <p>It's able to manually specify the standard time interval by the parameter <code>gap</code>. It's notable that false parameter leads to false output.</p> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+---------------+
|                         Time|root.test.d1.s1|root.test.d1.s2|
+-----------------------------+---------------+---------------+
|2020-01-01T00:00:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:05:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:10:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:20:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:25:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:30:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:35:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:40:00.000+08:00|            1.0|           null|
|2020-01-01T00:45:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:50:00.000+08:00|            1.0|            1.0|
+-----------------------------+---------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> consecutivesequences<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">,</span><span class="token string">'gap'</span><span class="token operator">=</span><span class="token string">'5m'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------------------------------+
|                         Time|consecutivesequences(root.test.d1.s1, root.test.d1.s2, &quot;gap&quot;=&quot;5m&quot;)|
+-----------------------------+------------------------------------------------------------------+
|2020-01-01T00:00:00.000+08:00|                                                                 3|
|2020-01-01T00:20:00.000+08:00|                                                                 4|
|2020-01-01T00:45:00.000+08:00|                                                                 2|
+-----------------------------+------------------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="automatically-estimate-the-standard-time-interval-2"><a href="#automatically-estimate-the-standard-time-interval-2" class="header-anchor">#</a> Automatically Estimate the Standard Time Interval</h5> <p>When <code>gap</code> is default, this function estimates the standard time interval by the mode of time intervals and gets the same results. Therefore, this usage is more recommended.</p> <p>Input series is the same as above, the SQL for query is shown below:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> consecutivesequences<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------------------+
|                         Time|consecutivesequences(root.test.d1.s1, root.test.d1.s2)|
+-----------------------------+------------------------------------------------------+
|2020-01-01T00:00:00.000+08:00|                                                     3|
|2020-01-01T00:20:00.000+08:00|                                                     4|
|2020-01-01T00:45:00.000+08:00|                                                     2|
+-----------------------------+------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="consecutivewindows"><a href="#consecutivewindows" class="header-anchor">#</a> ConsecutiveWindows</h3> <h4 id="usage-48"><a href="#usage-48" class="header-anchor">#</a> Usage</h4> <p>This function is used to find consecutive windows of specified length in strictly equispaced multidimensional data.</p> <p>Strictly equispaced data is the data whose time intervals are strictly equal. Missing data, including missing rows and missing values, is allowed in it, while data redundancy and timestamp drift is not allowed.</p> <p>Consecutive window is the subsequence that is strictly equispaced with the standard time interval without any missing data.</p> <p><strong>Name:</strong> CONSECUTIVEWINDOWS</p> <p><strong>Input Series:</strong> Support multiple input series. The type is arbitrary but the data is strictly equispaced.</p> <p><strong>Parameters:</strong></p> <ul><li><code>gap</code>: The standard time interval which is a positive number with an unit. The unit is 'ms' for millisecond, 's' for second, 'm' for minute, 'h' for hour and 'd' for day. By default, it will be estimated by the mode of time intervals.</li> <li><code>length</code>: The length of the window which is a positive number with an unit. The unit is 'ms' for millisecond, 's' for second, 'm' for minute, 'h' for hour and 'd' for day. This parameter cannot be lacked.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is INT32. Each data point in the output series corresponds to a consecutive window. The output timestamp is the starting timestamp of the window and the output value is the number of data points in the window.</p> <p><strong>Note:</strong> For input series that is not strictly equispaced, there is no guarantee on the output.</p> <h4 id="examples-48"><a href="#examples-48" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+---------------+
|                         Time|root.test.d1.s1|root.test.d1.s2|
+-----------------------------+---------------+---------------+
|2020-01-01T00:00:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:05:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:10:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:20:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:25:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:30:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:35:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:40:00.000+08:00|            1.0|           null|
|2020-01-01T00:45:00.000+08:00|            1.0|            1.0|
|2020-01-01T00:50:00.000+08:00|            1.0|            1.0|
+-----------------------------+---------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> consecutivewindows<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">,</span><span class="token string">'length'</span><span class="token operator">=</span><span class="token string">'10m'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+--------------------------------------------------------------------+
|                         Time|consecutivewindows(root.test.d1.s1, root.test.d1.s2, &quot;length&quot;=&quot;10m&quot;)|
+-----------------------------+--------------------------------------------------------------------+
|2020-01-01T00:00:00.000+08:00|                                                                   3|
|2020-01-01T00:20:00.000+08:00|                                                                   3|
|2020-01-01T00:25:00.000+08:00|                                                                   3|
+-----------------------------+--------------------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="string-processing"><a href="#string-processing" class="header-anchor">#</a> String Processing</h2> <h3 id="regexmatch"><a href="#regexmatch" class="header-anchor">#</a> RegexMatch</h3> <h4 id="usage-49"><a href="#usage-49" class="header-anchor">#</a> Usage</h4> <p>The function is used to fetch matched contents from text with given regular expression.</p> <p><strong>Name:</strong> REGEXMATCH</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is TEXT.</p> <p><strong>Parameter:</strong></p> <ul><li><code>regex</code>: The regular expression to match in the text. All grammars supported by Java are acceptable,
for example, <code>\d+\.\d+\.\d+\.\d+</code> is expected to match any IPv4 addresses.</li> <li><code>group</code>: The wanted group index in the matched result.
Reference to java.util.regex, group 0 is the whole pattern and
the next ones are numbered with the appearance order of left parentheses.
For example, the groups in <code>A(B(CD))</code> are: 0-<code>A(B(CD))</code>, 1-<code>B(CD)</code>, 2-<code>CD</code>.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is TEXT.</p> <p><strong>Note:</strong> Those points with null values or not matched with the given pattern will not return any results.</p> <h4 id="examples-49"><a href="#examples-49" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------+
|                         Time|                root.test.d1.s1|
+-----------------------------+-------------------------------+
|2021-01-01T00:00:01.000+08:00|        [192.168.0.1] [SUCCESS]|
|2021-01-01T00:00:02.000+08:00|       [192.168.0.24] [SUCCESS]|
|2021-01-01T00:00:03.000+08:00|           [192.168.0.2] [FAIL]|
|2021-01-01T00:00:04.000+08:00|        [192.168.0.5] [SUCCESS]|
|2021-01-01T00:00:05.000+08:00|      [192.168.0.124] [SUCCESS]|
+-----------------------------+-------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> regexmatch<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;regex&quot;</span><span class="token operator">=</span><span class="token string">&quot;\d+\.\d+\.\d+\.\d+&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;group&quot;</span><span class="token operator">=</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------------------------------------------------+
|                         Time|regexmatch(root.test.d1.s1, &quot;regex&quot;=&quot;\d+\.\d+\.\d+\.\d+&quot;, &quot;group&quot;=&quot;0&quot;)|
+-----------------------------+----------------------------------------------------------------------+
|2021-01-01T00:00:01.000+08:00|                                                           192.168.0.1|
|2021-01-01T00:00:02.000+08:00|                                                          192.168.0.24|
|2021-01-01T00:00:03.000+08:00|                                                           192.168.0.2|
|2021-01-01T00:00:04.000+08:00|                                                           192.168.0.5|
|2021-01-01T00:00:05.000+08:00|                                                         192.168.0.124|
+-----------------------------+----------------------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="regexreplace"><a href="#regexreplace" class="header-anchor">#</a> RegexReplace</h3> <h4 id="usage-50"><a href="#usage-50" class="header-anchor">#</a> Usage</h4> <p>The function is used to replace the specific regular expression matches with given string.</p> <p><strong>Name:</strong> REGEXREPLACE</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is TEXT.</p> <p><strong>Parameter:</strong></p> <ul><li><code>regex</code>: The target regular expression to be replaced. All grammars supported by Java are acceptable.</li> <li><code>replace</code>: The string to be put on and back reference notes in Java is also supported,
for example, '$1' refers to group 1 in the <code>regex</code> which will be filled with corresponding matched results.</li> <li><code>limit</code>: The number of matches to be replaced which should be an integer no less than -1,
default to -1 which means all matches will be replaced.</li> <li><code>offset</code>: The number of matches to be skipped, which means the first <code>offset</code> matches will not be replaced, default to 0.</li> <li><code>reverse</code>: Whether to count all the matches reversely, default to 'false'.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is TEXT.</p> <h4 id="examples-50"><a href="#examples-50" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-------------------------------+
|                         Time|                root.test.d1.s1|
+-----------------------------+-------------------------------+
|2021-01-01T00:00:01.000+08:00|        [192.168.0.1] [SUCCESS]|
|2021-01-01T00:00:02.000+08:00|       [192.168.0.24] [SUCCESS]|
|2021-01-01T00:00:03.000+08:00|           [192.168.0.2] [FAIL]|
|2021-01-01T00:00:04.000+08:00|        [192.168.0.5] [SUCCESS]|
|2021-01-01T00:00:05.000+08:00|      [192.168.0.124] [SUCCESS]|
+-----------------------------+-------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> regexreplace<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;regex&quot;</span><span class="token operator">=</span><span class="token string">&quot;192\.168\.0\.(\d+)&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;replace&quot;</span><span class="token operator">=</span><span class="token string">&quot;cluster-$1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;limit&quot;</span><span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------------------------------------------+
|                         Time|regexreplace(root.test.d1.s1, &quot;regex&quot;=&quot;192\.168\.0\.(\d+)&quot;,|
|                             |                       &quot;replace&quot;=&quot;cluster-$1&quot;, &quot;limit&quot;=&quot;1&quot;)|
+-----------------------------+-----------------------------------------------------------+
|2021-01-01T00:00:01.000+08:00|                                      [cluster-1] [SUCCESS]|
|2021-01-01T00:00:02.000+08:00|                                     [cluster-24] [SUCCESS]|
|2021-01-01T00:00:03.000+08:00|                                         [cluster-2] [FAIL]|
|2021-01-01T00:00:04.000+08:00|                                      [cluster-5] [SUCCESS]|
|2021-01-01T00:00:05.000+08:00|                                    [cluster-124] [SUCCESS]|
+-----------------------------+-----------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="regexsplit"><a href="#regexsplit" class="header-anchor">#</a> RegexSplit</h3> <h4 id="usage-51"><a href="#usage-51" class="header-anchor">#</a> Usage</h4> <p>The function is used to split text with given regular expression and return specific element.</p> <p><strong>Name:</strong> REGEXSPLIT</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is TEXT.</p> <p><strong>Parameter:</strong></p> <ul><li><code>regex</code>: The regular expression used to split the text.
All grammars supported by Java are acceptable, for example, <code>['&quot;]</code> is expected to match <code>'</code> and <code>&quot;</code>.</li> <li><code>index</code>: The wanted index of elements in the split result.
It should be an integer no less than -1, default to -1 which means the length of the result array is returned
and any non-negative integer is used to fetch the text of the specific index starting from 0.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is INT32 when <code>index</code> is -1 and TEXT when it's an valid index.</p> <p><strong>Note:</strong> When <code>index</code> is out of the range of the result array, for example <code>0,1,2</code> split with <code>,</code> and <code>index</code> is set to 3,
no result are returned for that record.</p> <h4 id="examples-51"><a href="#examples-51" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2021-01-01T00:00:01.000+08:00|      A,B,A+,B-|
|2021-01-01T00:00:02.000+08:00|      A,A+,A,B+|
|2021-01-01T00:00:03.000+08:00|         B+,B,B|
|2021-01-01T00:00:04.000+08:00|      A+,A,A+,A|
|2021-01-01T00:00:05.000+08:00|       A,B-,B,B|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> regexsplit<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;regex&quot;</span><span class="token operator">=</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;index&quot;</span><span class="token operator">=</span><span class="token string">&quot;-1&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------------------------------------------+
|                         Time|regexsplit(root.test.d1.s1, &quot;regex&quot;=&quot;,&quot;, &quot;index&quot;=&quot;-1&quot;)|
+-----------------------------+------------------------------------------------------+
|2021-01-01T00:00:01.000+08:00|                                                     4|
|2021-01-01T00:00:02.000+08:00|                                                     4|
|2021-01-01T00:00:03.000+08:00|                                                     3|
|2021-01-01T00:00:04.000+08:00|                                                     4|
|2021-01-01T00:00:05.000+08:00|                                                     4|
+-----------------------------+------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Another SQL for query:</p> <p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> regexsplit<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;regex&quot;</span><span class="token operator">=</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;index&quot;</span><span class="token operator">=</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------------------------------------+
|                         Time|regexsplit(root.test.d1.s1, &quot;regex&quot;=&quot;,&quot;, &quot;index&quot;=&quot;3&quot;)|
+-----------------------------+-----------------------------------------------------+
|2021-01-01T00:00:01.000+08:00|                                                   B-|
|2021-01-01T00:00:02.000+08:00|                                                   B+|
|2021-01-01T00:00:04.000+08:00|                                                    A|
|2021-01-01T00:00:05.000+08:00|                                                    B|
+-----------------------------+-----------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="strreplace"><a href="#strreplace" class="header-anchor">#</a> StrReplace</h3> <h4 id="usage-52"><a href="#usage-52" class="header-anchor">#</a> Usage</h4> <p>The function is used to replace the specific substring with given string.</p> <p><strong>Name:</strong> STRREPLACE</p> <p><strong>Input Series:</strong> Only support a single input series. The data type is TEXT.</p> <p><strong>Parameter:</strong></p> <ul><li><code>target</code>: The target substring to be replaced.</li> <li><code>replace</code>: The string to be put on.</li> <li><code>limit</code>: The number of matches to be replaced which should be an integer no less than -1,
default to -1 which means all matches will be replaced.</li> <li><code>offset</code>: The number of matches to be skipped, which means the first <code>offset</code> matches will not be replaced, default to 0.</li> <li><code>reverse</code>: Whether to count all the matches reversely, default to 'false'.</li></ul> <p><strong>Output Series:</strong> Output a single series. The type is TEXT.</p> <h4 id="examples-52"><a href="#examples-52" class="header-anchor">#</a> Examples</h4> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+---------------+
|                         Time|root.test.d1.s1|
+-----------------------------+---------------+
|2021-01-01T00:00:01.000+08:00|      A,B,A+,B-|
|2021-01-01T00:00:02.000+08:00|      A,A+,A,B+|
|2021-01-01T00:00:03.000+08:00|         B+,B,B|
|2021-01-01T00:00:04.000+08:00|      A+,A,A+,A|
|2021-01-01T00:00:05.000+08:00|       A,B-,B,B|
+-----------------------------+---------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> strreplace<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;target&quot;</span><span class="token operator">=</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;replace&quot;</span><span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;limit&quot;</span><span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------------------------+
|                         Time|strreplace(root.test.d1.s1, &quot;target&quot;=&quot;,&quot;,|
|                             |              &quot;replace&quot;=&quot;/&quot;, &quot;limit&quot;=&quot;2&quot;)|
+-----------------------------+-----------------------------------------+
|2021-01-01T00:00:01.000+08:00|                                A/B/A+,B-|
|2021-01-01T00:00:02.000+08:00|                                A/A+/A,B+|
|2021-01-01T00:00:03.000+08:00|                                   B+/B/B|
|2021-01-01T00:00:04.000+08:00|                                A+/A/A+,A|
|2021-01-01T00:00:05.000+08:00|                                 A/B-/B,B|
+-----------------------------+-----------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Another SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> strreplace<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">&quot;target&quot;</span><span class="token operator">=</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;replace&quot;</span><span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;limit&quot;</span><span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;offset&quot;</span><span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;reverse&quot;</span><span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>d1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+-----------------------------------------------------+
|                         Time|strreplace(root.test.d1.s1, &quot;target&quot;=&quot;,&quot;, &quot;replace&quot;= | 
|                             |    &quot;|&quot;, &quot;limit&quot;=&quot;1&quot;, &quot;offset&quot;=&quot;1&quot;, &quot;reverse&quot;=&quot;true&quot;)|
+-----------------------------+-----------------------------------------------------+
|2021-01-01T00:00:01.000+08:00|                                            A,B/A+,B-|
|2021-01-01T00:00:02.000+08:00|                                            A,A+/A,B+|
|2021-01-01T00:00:03.000+08:00|                                               B+/B,B|
|2021-01-01T00:00:04.000+08:00|                                            A+,A/A+,A|
|2021-01-01T00:00:05.000+08:00|                                             A,B-/B,B|
+-----------------------------+-----------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="m4"><a href="#m4" class="header-anchor">#</a> M4</h2> <h3 id="usage-53"><a href="#usage-53" class="header-anchor">#</a> Usage</h3> <p>This function is used to execute the M4 aggregation query using the MAC (merging all chunks) approach.</p> <p><strong>Name:</strong> M4</p> <p><strong>Input Series:</strong> Only supports a single input sequence, the type is INT32 / INT64 / FLOAT / DOUBLE</p> <p><strong>Parameters:</strong></p> <ul><li><code>tqs</code>: The start time (included) of the query time range.</li> <li><code>tqe</code>: The end time (excluded) of the query time range.</li> <li><code>w</code>: The number of time spans in the M4 aggregation.</li></ul> <p><strong>Output Series:</strong> The first, last, bottom, and top points in each time span
[tqs+(tqe-tqs)/w*(i-1),tqs+(tqe-tqs)/w*i), i=1,...,w.</p> <p><strong>Note:</strong></p> <ul><li>This function is right now only supported in the branch <code>research/M4-visualization</code> right now.</li> <li>You need to make sure (tqe-tqs) is divisible by w.</li> <li>You need to add <code>time&gt;=tqs and time&lt;tqe</code> in the where clause.</li></ul> <h3 id="examples-53"><a href="#examples-53" class="header-anchor">#</a> Examples</h3> <p>Input series:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+------------------+
|                         Time|root.vehicle.d0.s0|
+-----------------------------+------------------+
|1970-01-01T08:00:00.001+08:00|               5.0|
|1970-01-01T08:00:00.002+08:00|              15.0|
|1970-01-01T08:00:00.005+08:00|              10.0|
|1970-01-01T08:00:00.008+08:00|               8.0|
|1970-01-01T08:00:00.010+08:00|              20.0|
|1970-01-01T08:00:00.020+08:00|              20.0|
|1970-01-01T08:00:00.025+08:00|               8.0|
|1970-01-01T08:00:00.027+08:00|              20.0|
|1970-01-01T08:00:00.030+08:00|              40.0|
|1970-01-01T08:00:00.033+08:00|               9.0|
|1970-01-01T08:00:00.035+08:00|              10.0|
|1970-01-01T08:00:00.040+08:00|              20.0|
|1970-01-01T08:00:00.045+08:00|              30.0|
|1970-01-01T08:00:00.052+08:00|               8.0|
|1970-01-01T08:00:00.054+08:00|              18.0|
|1970-01-01T08:00:00.120+08:00|               8.0|
+-----------------------------+------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>SQL for query:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> M4<span class="token punctuation">(</span>s0<span class="token punctuation">,</span><span class="token string">'tqs'</span><span class="token operator">=</span><span class="token string">'0'</span><span class="token punctuation">,</span><span class="token string">'tqe'</span><span class="token operator">=</span><span class="token string">'100'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token operator">=</span><span class="token string">'4'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>vehicle<span class="token punctuation">.</span>d0 <span class="token keyword">where</span> <span class="token keyword">time</span><span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">and</span> <span class="token keyword">time</span><span class="token operator">&lt;</span><span class="token number">100</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+-----------------------------+----------------------------------------------------------------------------------+
|                         Time|                           M4(root.vehicle.d0.s0, &quot;tqs&quot;=&quot;0&quot;, &quot;tqe&quot;=&quot;100&quot;, &quot;w&quot;=&quot;4&quot;)|
+-----------------------------+----------------------------------------------------------------------------------+
|1970-01-01T08:00:00.000+08:00|  FirstPoint=(1,5.0), LastPoint=(20,20.0), BottomPoint=(1,5.0), TopPoint=(10,20.0)|
|1970-01-01T08:00:00.025+08:00|FirstPoint=(25,8.0), LastPoint=(45,30.0), BottomPoint=(25,8.0), TopPoint=(30,40.0)|
|1970-01-01T08:00:00.050+08:00|FirstPoint=(52,8.0), LastPoint=(54,18.0), BottomPoint=(52,8.0), TopPoint=(54,18.0)|
|1970-01-01T08:00:00.075+08:00|                                                                             empty|
+-----------------------------+----------------------------------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html" class="prev">
          UDF (User Defined Function)
        </a></span> <span class="next"><a href="/UserGuide/Master/Process-Data/Select-Into.html">
          Query Write-back (SELECT INTO)
        </a>
        →
      </span></p></div> <p style="text-align: center; color: #909399; font-size: 12px">Copyright © 2022 The Apache Software Foundation.<br>
      Apache and the Apache feather logo are trademarks of The Apache Software Foundation</p> <p style="text-align: center; margin-top: 10px; color: #909399; font-size: 12px"><strong>Have a question?</strong> Connect with us on QQ, WeChat, or Slack. <a href="https://github.com/apache/iotdb/issues/1995">Join the community</a> now.</p> <p style="text-align: center; margin-top: 10px; color: #909399; font-size: 12px">
      We use <a href="https://analytics.google.com">Google Analytics</a> to collect anonymous, aggregated usage information.
  </p></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.21e166ed.js" defer></script><script src="/assets/js/3.63247913.js" defer></script><script src="/assets/js/4.d54ec4e5.js" defer></script><script src="/assets/js/82.f08426c6.js" defer></script>
  </body>
</html>